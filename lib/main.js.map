{"version":3,"file":"main.js","mappings":";sBAUAA,EAAOC,QAVP,SAA2BC,EAAKC,IACnB,MAAPA,GAAeA,EAAMD,EAAIE,UAAQD,EAAMD,EAAIE,QAE/C,IAAK,IAAIC,EAAI,EAAGC,EAAO,IAAIC,MAAMJ,GAAME,EAAIF,EAAKE,IAC9CC,EAAKD,GAAKH,EAAIG,GAGhB,OAAOC,GAITN,EAAOC,QAAiB,QAAID,EAAOC,QAASD,EAAOC,QAAQO,YAAa,YCPxER,EAAOC,QAJP,SAAyBC,GACvB,GAAIK,MAAME,QAAQP,GAAM,OAAOA,GAIjCF,EAAOC,QAAiB,QAAID,EAAOC,QAASD,EAAOC,QAAQO,YAAa,kBCLxE,IAAIE,EAAmB,EAAQ,MAM/BV,EAAOC,QAJP,SAA4BC,GAC1B,GAAIK,MAAME,QAAQP,GAAM,OAAOQ,EAAiBR,IAIlDF,EAAOC,QAAiB,QAAID,EAAOC,QAASD,EAAOC,QAAQO,YAAa,YCCxER,EAAOC,QARP,SAAgCU,GAC9B,QAAa,IAATA,EACF,MAAM,IAAIC,eAAe,6DAG3B,OAAOD,GAITX,EAAOC,QAAiB,QAAID,EAAOC,QAASD,EAAOC,QAAQO,YAAa,YCTxE,SAASK,EAAmBC,EAAKC,EAASC,EAAQC,EAAOC,EAAQC,EAAKC,GACpE,IACE,IAAIC,EAAOP,EAAIK,GAAKC,GAChBE,EAAQD,EAAKC,MACjB,MAAOC,GAEP,YADAP,EAAOO,GAILF,EAAKG,KACPT,EAAQO,GAERG,QAAQV,QAAQO,GAAOI,KAAKT,EAAOC,GAwBvClB,EAAOC,QApBP,SAA2B0B,GACzB,OAAO,WACL,IAAIhB,EAAOiB,KACPC,EAAOC,UACX,OAAO,IAAIL,SAAQ,SAAUV,EAASC,GACpC,IAAIF,EAAMa,EAAGI,MAAMpB,EAAMkB,GAEzB,SAASZ,EAAMK,GACbT,EAAmBC,EAAKC,EAASC,EAAQC,EAAOC,EAAQ,OAAQI,GAGlE,SAASJ,EAAOc,GACdnB,EAAmBC,EAAKC,EAASC,EAAQC,EAAOC,EAAQ,QAASc,GAGnEf,OAAMgB,QAMZjC,EAAOC,QAAiB,QAAID,EAAOC,QAASD,EAAOC,QAAQO,YAAa,YC/BxER,EAAOC,QANP,SAAyBiC,EAAUC,GACjC,KAAMD,aAAoBC,GACxB,MAAM,IAAIC,UAAU,sCAKxBpC,EAAOC,QAAiB,QAAID,EAAOC,QAASD,EAAOC,QAAQO,YAAa,YCPxE,SAAS6B,EAAkBC,EAAQC,GACjC,IAAK,IAAIlC,EAAI,EAAGA,EAAIkC,EAAMnC,OAAQC,IAAK,CACrC,IAAImC,EAAaD,EAAMlC,GACvBmC,EAAWC,WAAaD,EAAWC,aAAc,EACjDD,EAAWE,cAAe,EACtB,UAAWF,IAAYA,EAAWG,UAAW,GACjDC,OAAOC,eAAeP,EAAQE,EAAWrB,IAAKqB,IAUlDxC,EAAOC,QANP,SAAsBkC,EAAaW,EAAYC,GAG7C,OAFID,GAAYT,EAAkBF,EAAYa,UAAWF,GACrDC,GAAaV,EAAkBF,EAAaY,GACzCZ,GAITnC,EAAOC,QAAiB,QAAID,EAAOC,QAASD,EAAOC,QAAQO,YAAa,YCFxER,EAAOC,QAfP,SAAyBgD,EAAK9B,EAAKG,GAYjC,OAXIH,KAAO8B,EACTL,OAAOC,eAAeI,EAAK9B,EAAK,CAC9BG,MAAOA,EACPmB,YAAY,EACZC,cAAc,EACdC,UAAU,IAGZM,EAAI9B,GAAOG,EAGN2B,GAITjD,EAAOC,QAAiB,QAAID,EAAOC,QAASD,EAAOC,QAAQO,YAAa,kBChBxE,IAAI0C,EAAgB,EAAQ,MAE5B,SAASC,EAAKb,EAAQc,EAAUC,GAoB9B,MAnBuB,oBAAZC,SAA2BA,QAAQC,KAC5CvD,EAAOC,QAAUkD,EAAOG,QAAQC,IAChCvD,EAAOC,QAAiB,QAAID,EAAOC,QAASD,EAAOC,QAAQO,YAAa,IAExER,EAAOC,QAAUkD,EAAO,SAAcb,EAAQc,EAAUC,GACtD,IAAIG,EAAON,EAAcZ,EAAQc,GACjC,GAAKI,EAAL,CACA,IAAIC,EAAOb,OAAOc,yBAAyBF,EAAMJ,GAEjD,OAAIK,EAAKF,IACAE,EAAKF,IAAII,KAAKN,GAGhBI,EAAKnC,QAGdtB,EAAOC,QAAiB,QAAID,EAAOC,QAASD,EAAOC,QAAQO,YAAa,GAGnE2C,EAAKb,EAAQc,EAAUC,GAAYf,GAG5CtC,EAAOC,QAAUkD,EACjBnD,EAAOC,QAAiB,QAAID,EAAOC,QAASD,EAAOC,QAAQO,YAAa,YC1BxE,SAASoD,EAAgBC,GAKvB,OAJA7D,EAAOC,QAAU2D,EAAkBhB,OAAOkB,eAAiBlB,OAAOmB,eAAiB,SAAyBF,GAC1G,OAAOA,EAAEG,WAAapB,OAAOmB,eAAeF,IAE9C7D,EAAOC,QAAiB,QAAID,EAAOC,QAASD,EAAOC,QAAQO,YAAa,EACjEoD,EAAgBC,GAGzB7D,EAAOC,QAAU2D,EACjB5D,EAAOC,QAAiB,QAAID,EAAOC,QAASD,EAAOC,QAAQO,YAAa,kBCTxE,IAAIsD,EAAiB,EAAQ,MAiB7B9D,EAAOC,QAfP,SAAmBgE,EAAUC,GAC3B,GAA0B,mBAAfA,GAA4C,OAAfA,EACtC,MAAM,IAAI9B,UAAU,sDAGtB6B,EAASjB,UAAYJ,OAAOuB,OAAOD,GAAcA,EAAWlB,UAAW,CACrEoB,YAAa,CACX9C,MAAO2C,EACPtB,UAAU,EACVD,cAAc,KAGdwB,GAAYJ,EAAeG,EAAUC,IAI3ClE,EAAOC,QAAiB,QAAID,EAAOC,QAASD,EAAOC,QAAQO,YAAa,YCZxER,EAAOC,QANP,SAAgCgD,GAC9B,OAAOA,GAAOA,EAAIzC,WAAayC,EAAM,CACnC,QAAWA,IAKfjD,EAAOC,QAAiB,QAAID,EAAOC,QAASD,EAAOC,QAAQO,YAAa,YCHxER,EAAOC,QAJP,SAA0BoE,GACxB,GAAsB,oBAAXC,QAAmD,MAAzBD,EAAKC,OAAOC,WAA2C,MAAtBF,EAAK,cAAuB,OAAO9D,MAAMiE,KAAKH,IAItHrE,EAAOC,QAAiB,QAAID,EAAOC,QAASD,EAAOC,QAAQO,YAAa,YCyBxER,EAAOC,QA9BP,SAA+BC,EAAKG,GAClC,IAAIoE,EAAY,MAAPvE,EAAc,KAAyB,oBAAXoE,QAA0BpE,EAAIoE,OAAOC,WAAarE,EAAI,cAE3F,GAAU,MAANuE,EAAJ,CACA,IAIIC,EAAIC,EAJJC,EAAO,GACPC,GAAK,EACLC,GAAK,EAIT,IACE,IAAKL,EAAKA,EAAGd,KAAKzD,KAAQ2E,GAAMH,EAAKD,EAAGM,QAAQvD,QAC9CoD,EAAKI,KAAKN,EAAGpD,QAETjB,GAAKuE,EAAKxE,SAAWC,GAH4BwE,GAAK,IAK5D,MAAO7C,GACP8C,GAAK,EACLH,EAAK3C,EACL,QACA,IACO6C,GAAsB,MAAhBJ,EAAW,QAAWA,EAAW,SAC5C,QACA,GAAIK,EAAI,MAAMH,GAIlB,OAAOC,IAIT5E,EAAOC,QAAiB,QAAID,EAAOC,QAASD,EAAOC,QAAQO,YAAa,WC3BxER,EAAOC,QAJP,WACE,MAAM,IAAImC,UAAU,8IAItBpC,EAAOC,QAAiB,QAAID,EAAOC,QAASD,EAAOC,QAAQO,YAAa,YCDxER,EAAOC,QAJP,WACE,MAAM,IAAImC,UAAU,yIAItBpC,EAAOC,QAAiB,QAAID,EAAOC,QAASD,EAAOC,QAAQO,YAAa,kBCLxE,IAAIyE,EAAU,aAEVC,EAAwB,EAAQ,MAYpClF,EAAOC,QAVP,SAAoCU,EAAMgD,GACxC,GAAIA,IAA2B,WAAlBsB,EAAQtB,IAAsC,mBAATA,GAChD,OAAOA,EACF,QAAa,IAATA,EACT,MAAM,IAAIvB,UAAU,4DAGtB,OAAO8C,EAAsBvE,IAI/BX,EAAOC,QAAiB,QAAID,EAAOC,QAASD,EAAOC,QAAQO,YAAa,YCfxE,SAAS2E,EAAgBtB,EAAGuB,GAO1B,OANApF,EAAOC,QAAUkF,EAAkBvC,OAAOkB,gBAAkB,SAAyBD,EAAGuB,GAEtF,OADAvB,EAAEG,UAAYoB,EACPvB,GAGT7D,EAAOC,QAAiB,QAAID,EAAOC,QAASD,EAAOC,QAAQO,YAAa,EACjE2E,EAAgBtB,EAAGuB,GAG5BpF,EAAOC,QAAUkF,EACjBnF,EAAOC,QAAiB,QAAID,EAAOC,QAASD,EAAOC,QAAQO,YAAa,kBCXxE,IAAI6E,EAAiB,EAAQ,MAEzBC,EAAuB,EAAQ,MAE/BC,EAA6B,EAAQ,KAErCC,EAAkB,EAAQ,KAM9BxF,EAAOC,QAJP,SAAwBC,EAAKG,GAC3B,OAAOgF,EAAenF,IAAQoF,EAAqBpF,EAAKG,IAAMkF,EAA2BrF,EAAKG,IAAMmF,KAItGxF,EAAOC,QAAiB,QAAID,EAAOC,QAASD,EAAOC,QAAQO,YAAa,kBCbxE,IAAIuD,EAAiB,EAAQ,MAW7B/D,EAAOC,QATP,SAAwBwF,EAAQrC,GAC9B,MAAQR,OAAOI,UAAU0C,eAAe/B,KAAK8B,EAAQrC,IAEpC,QADfqC,EAAS1B,EAAe0B,MAI1B,OAAOA,GAITzF,EAAOC,QAAiB,QAAID,EAAOC,QAASD,EAAOC,QAAQO,YAAa,iBCZxE,IAAImF,EAAoB,EAAQ,MAE5BC,EAAkB,EAAQ,MAE1BL,EAA6B,EAAQ,KAErCM,EAAoB,EAAQ,MAMhC7F,EAAOC,QAJP,SAA4BC,GAC1B,OAAOyF,EAAkBzF,IAAQ0F,EAAgB1F,IAAQqF,EAA2BrF,IAAQ2F,KAI9F7F,EAAOC,QAAiB,QAAID,EAAOC,QAASD,EAAOC,QAAQO,YAAa,SCbxE,SAASyE,EAAQhC,GAiBf,MAdsB,mBAAXqB,QAAoD,iBAApBA,OAAOC,UAChDvE,EAAOC,QAAUgF,EAAU,SAAiBhC,GAC1C,cAAcA,GAGhBjD,EAAOC,QAAiB,QAAID,EAAOC,QAASD,EAAOC,QAAQO,YAAa,IAExER,EAAOC,QAAUgF,EAAU,SAAiBhC,GAC1C,OAAOA,GAAyB,mBAAXqB,QAAyBrB,EAAImB,cAAgBE,QAAUrB,IAAQqB,OAAOtB,UAAY,gBAAkBC,GAG3HjD,EAAOC,QAAiB,QAAID,EAAOC,QAASD,EAAOC,QAAQO,YAAa,GAGnEyE,EAAQhC,GAGjBjD,EAAOC,QAAUgF,EACjBjF,EAAOC,QAAiB,QAAID,EAAOC,QAASD,EAAOC,QAAQO,YAAa,iBCrBxE,IAAIE,EAAmB,EAAQ,MAW/BV,EAAOC,QATP,SAAqC4D,EAAGiC,GACtC,GAAKjC,EAAL,CACA,GAAiB,iBAANA,EAAgB,OAAOnD,EAAiBmD,EAAGiC,GACtD,IAAIC,EAAInD,OAAOI,UAAUgD,SAASrC,KAAKE,GAAGoC,MAAM,GAAI,GAEpD,MADU,WAANF,GAAkBlC,EAAEO,cAAa2B,EAAIlC,EAAEO,YAAY8B,MAC7C,QAANH,GAAqB,QAANA,EAAoBxF,MAAMiE,KAAKX,GACxC,cAANkC,GAAqB,2CAA2CI,KAAKJ,GAAWrF,EAAiBmD,EAAGiC,QAAxG,IAIF9F,EAAOC,QAAiB,QAAID,EAAOC,QAASD,EAAOC,QAAQO,YAAa,YCLxE,IAAI4F,EAAW,SAAUnG,GACvB,aAEA,IAEIgC,EAFAoE,EAAKzD,OAAOI,UACZsD,EAASD,EAAGX,eAEZa,EAA4B,mBAAXjC,OAAwBA,OAAS,GAClDkC,EAAiBD,EAAQhC,UAAY,aACrCkC,EAAsBF,EAAQG,eAAiB,kBAC/CC,EAAoBJ,EAAQK,aAAe,gBAE/C,SAASC,EAAO5D,EAAK9B,EAAKG,GAOxB,OANAsB,OAAOC,eAAeI,EAAK9B,EAAK,CAC9BG,MAAOA,EACPmB,YAAY,EACZC,cAAc,EACdC,UAAU,IAELM,EAAI9B,GAEb,IAEE0F,EAAO,GAAI,IACX,MAAO7E,GACP6E,EAAS,SAAS5D,EAAK9B,EAAKG,GAC1B,OAAO2B,EAAI9B,GAAOG,GAItB,SAASwF,EAAKC,EAASC,EAASrG,EAAMsG,GAEpC,IAAIC,EAAiBF,GAAWA,EAAQhE,qBAAqBmE,EAAYH,EAAUG,EAC/EC,EAAYxE,OAAOuB,OAAO+C,EAAelE,WACzCqE,EAAU,IAAIC,EAAQL,GAAe,IAMzC,OAFAG,EAAUG,QAuMZ,SAA0BR,EAASpG,EAAM0G,GACvC,IAAIG,EAAQC,EAEZ,OAAO,SAAgBC,EAAQtG,GAC7B,GAAIoG,IAAUG,EACZ,MAAM,IAAIC,MAAM,gCAGlB,GAAIJ,IAAUK,EAAmB,CAC/B,GAAe,UAAXH,EACF,MAAMtG,EAKR,OAAO0G,IAMT,IAHAT,EAAQK,OAASA,EACjBL,EAAQjG,IAAMA,IAED,CACX,IAAI2G,EAAWV,EAAQU,SACvB,GAAIA,EAAU,CACZ,IAAIC,EAAiBC,EAAoBF,EAAUV,GACnD,GAAIW,EAAgB,CAClB,GAAIA,IAAmBE,EAAkB,SACzC,OAAOF,GAIX,GAAuB,SAAnBX,EAAQK,OAGVL,EAAQc,KAAOd,EAAQe,MAAQf,EAAQjG,SAElC,GAAuB,UAAnBiG,EAAQK,OAAoB,CACrC,GAAIF,IAAUC,EAEZ,MADAD,EAAQK,EACFR,EAAQjG,IAGhBiG,EAAQgB,kBAAkBhB,EAAQjG,SAEN,WAAnBiG,EAAQK,QACjBL,EAAQiB,OAAO,SAAUjB,EAAQjG,KAGnCoG,EAAQG,EAER,IAAIY,EAASC,EAASzB,EAASpG,EAAM0G,GACrC,GAAoB,WAAhBkB,EAAOE,KAAmB,CAO5B,GAJAjB,EAAQH,EAAQ7F,KACZqG,EACAa,EAEAH,EAAOnH,MAAQ8G,EACjB,SAGF,MAAO,CACL5G,MAAOiH,EAAOnH,IACdI,KAAM6F,EAAQ7F,MAGS,UAAhB+G,EAAOE,OAChBjB,EAAQK,EAGRR,EAAQK,OAAS,QACjBL,EAAQjG,IAAMmH,EAAOnH,OA/QPuH,CAAiB5B,EAASpG,EAAM0G,GAE7CD,EAcT,SAASoB,EAAS7G,EAAIsB,EAAK7B,GACzB,IACE,MAAO,CAAEqH,KAAM,SAAUrH,IAAKO,EAAGgC,KAAKV,EAAK7B,IAC3C,MAAOY,GACP,MAAO,CAAEyG,KAAM,QAASrH,IAAKY,IAhBjC/B,EAAQ6G,KAAOA,EAoBf,IAAIW,EAAyB,iBACzBiB,EAAyB,iBACzBf,EAAoB,YACpBE,EAAoB,YAIpBK,EAAmB,GAMvB,SAASf,KACT,SAASyB,KACT,SAASC,KAIT,IAAIC,EAAoB,GACxBjC,EAAOiC,EAAmBtC,GAAgB,WACxC,OAAO5E,QAGT,IAAImH,EAAWnG,OAAOmB,eAClBiF,EAA0BD,GAAYA,EAASA,EAASE,EAAO,MAC/DD,GACAA,IAA4B3C,GAC5BC,EAAO3C,KAAKqF,EAAyBxC,KAGvCsC,EAAoBE,GAGtB,IAAIE,EAAKL,EAA2B7F,UAClCmE,EAAUnE,UAAYJ,OAAOuB,OAAO2E,GAYtC,SAASK,EAAsBnG,GAC7B,CAAC,OAAQ,QAAS,UAAUoG,SAAQ,SAAS1B,GAC3Cb,EAAO7D,EAAW0E,GAAQ,SAAStG,GACjC,OAAOQ,KAAK2F,QAAQG,EAAQtG,SAkClC,SAASiI,EAAcjC,EAAWkC,GAChC,SAASC,EAAO7B,EAAQtG,EAAKL,EAASC,GACpC,IAAIuH,EAASC,EAASpB,EAAUM,GAASN,EAAWhG,GACpD,GAAoB,UAAhBmH,EAAOE,KAEJ,CACL,IAAIe,EAASjB,EAAOnH,IAChBE,EAAQkI,EAAOlI,MACnB,OAAIA,GACiB,iBAAVA,GACPgF,EAAO3C,KAAKrC,EAAO,WACdgI,EAAYvI,QAAQO,EAAMmI,SAAS/H,MAAK,SAASJ,GACtDiI,EAAO,OAAQjI,EAAOP,EAASC,MAC9B,SAASgB,GACVuH,EAAO,QAASvH,EAAKjB,EAASC,MAI3BsI,EAAYvI,QAAQO,GAAOI,MAAK,SAASgI,GAI9CF,EAAOlI,MAAQoI,EACf3I,EAAQyI,MACP,SAASjI,GAGV,OAAOgI,EAAO,QAAShI,EAAOR,EAASC,MAvBzCA,EAAOuH,EAAOnH,KA4BlB,IAAIuI,EAgCJ/H,KAAK2F,QA9BL,SAAiBG,EAAQtG,GACvB,SAASwI,IACP,OAAO,IAAIN,GAAY,SAASvI,EAASC,GACvCuI,EAAO7B,EAAQtG,EAAKL,EAASC,MAIjC,OAAO2I,EAaLA,EAAkBA,EAAgBjI,KAChCkI,EAGAA,GACEA,KAkHV,SAAS3B,EAAoBF,EAAUV,GACrC,IAAIK,EAASK,EAASxD,SAAS8C,EAAQK,QACvC,GAAIA,IAAWzF,EAAW,CAKxB,GAFAoF,EAAQU,SAAW,KAEI,UAAnBV,EAAQK,OAAoB,CAE9B,GAAIK,EAASxD,SAAiB,SAG5B8C,EAAQK,OAAS,SACjBL,EAAQjG,IAAMa,EACdgG,EAAoBF,EAAUV,GAEP,UAAnBA,EAAQK,QAGV,OAAOQ,EAIXb,EAAQK,OAAS,QACjBL,EAAQjG,IAAM,IAAIgB,UAChB,kDAGJ,OAAO8F,EAGT,IAAIK,EAASC,EAASd,EAAQK,EAASxD,SAAU8C,EAAQjG,KAEzD,GAAoB,UAAhBmH,EAAOE,KAIT,OAHApB,EAAQK,OAAS,QACjBL,EAAQjG,IAAMmH,EAAOnH,IACrBiG,EAAQU,SAAW,KACZG,EAGT,IAAI7G,EAAOkH,EAAOnH,IAElB,OAAMC,EAOFA,EAAKG,MAGP6F,EAAQU,EAAS8B,YAAcxI,EAAKC,MAGpC+F,EAAQtC,KAAOgD,EAAS+B,QAQD,WAAnBzC,EAAQK,SACVL,EAAQK,OAAS,OACjBL,EAAQjG,IAAMa,GAUlBoF,EAAQU,SAAW,KACZG,GANE7G,GA3BPgG,EAAQK,OAAS,QACjBL,EAAQjG,IAAM,IAAIgB,UAAU,oCAC5BiF,EAAQU,SAAW,KACZG,GAoDX,SAAS6B,EAAaC,GACpB,IAAIC,EAAQ,CAAEC,OAAQF,EAAK,IAEvB,KAAKA,IACPC,EAAME,SAAWH,EAAK,IAGpB,KAAKA,IACPC,EAAMG,WAAaJ,EAAK,GACxBC,EAAMI,SAAWL,EAAK,IAGxBpI,KAAK0I,WAAWtF,KAAKiF,GAGvB,SAASM,EAAcN,GACrB,IAAI1B,EAAS0B,EAAMO,YAAc,GACjCjC,EAAOE,KAAO,gBACPF,EAAOnH,IACd6I,EAAMO,WAAajC,EAGrB,SAASjB,EAAQL,GAIfrF,KAAK0I,WAAa,CAAC,CAAEJ,OAAQ,SAC7BjD,EAAYmC,QAAQW,EAAcnI,MAClCA,KAAK6I,OAAM,GA8Bb,SAASxB,EAAOyB,GACd,GAAIA,EAAU,CACZ,IAAIC,EAAiBD,EAASlE,GAC9B,GAAImE,EACF,OAAOA,EAAehH,KAAK+G,GAG7B,GAA6B,mBAAlBA,EAAS3F,KAClB,OAAO2F,EAGT,IAAKE,MAAMF,EAAStK,QAAS,CAC3B,IAAIC,GAAK,EAAG0E,EAAO,SAASA,IAC1B,OAAS1E,EAAIqK,EAAStK,QACpB,GAAIkG,EAAO3C,KAAK+G,EAAUrK,GAGxB,OAFA0E,EAAKzD,MAAQoJ,EAASrK,GACtB0E,EAAKvD,MAAO,EACLuD,EAOX,OAHAA,EAAKzD,MAAQW,EACb8C,EAAKvD,MAAO,EAELuD,GAGT,OAAOA,EAAKA,KAAOA,GAKvB,MAAO,CAAEA,KAAM+C,GAIjB,SAASA,IACP,MAAO,CAAExG,MAAOW,EAAWT,MAAM,GA+MnC,OA7mBAoH,EAAkB5F,UAAY6F,EAC9BhC,EAAOqC,EAAI,cAAeL,GAC1BhC,EAAOgC,EAA4B,cAAeD,GAClDA,EAAkBiC,YAAchE,EAC9BgC,EACAlC,EACA,qBAaF1G,EAAQ6K,oBAAsB,SAASC,GACrC,IAAIC,EAAyB,mBAAXD,GAAyBA,EAAO3G,YAClD,QAAO4G,IACHA,IAASpC,GAG2B,uBAAnCoC,EAAKH,aAAeG,EAAK9E,QAIhCjG,EAAQgL,KAAO,SAASF,GAQtB,OAPInI,OAAOkB,eACTlB,OAAOkB,eAAeiH,EAAQlC,IAE9BkC,EAAO/G,UAAY6E,EACnBhC,EAAOkE,EAAQpE,EAAmB,sBAEpCoE,EAAO/H,UAAYJ,OAAOuB,OAAO+E,GAC1B6B,GAOT9K,EAAQiL,MAAQ,SAAS9J,GACvB,MAAO,CAAEqI,QAASrI,IAsEpB+H,EAAsBE,EAAcrG,WACpC6D,EAAOwC,EAAcrG,UAAWyD,GAAqB,WACnD,OAAO7E,QAET3B,EAAQoJ,cAAgBA,EAKxBpJ,EAAQkL,MAAQ,SAASpE,EAASC,EAASrG,EAAMsG,EAAaqC,QACxC,IAAhBA,IAAwBA,EAAc7H,SAE1C,IAAI4C,EAAO,IAAIgF,EACbvC,EAAKC,EAASC,EAASrG,EAAMsG,GAC7BqC,GAGF,OAAOrJ,EAAQ6K,oBAAoB9D,GAC/B3C,EACAA,EAAKU,OAAOrD,MAAK,SAAS8H,GACxB,OAAOA,EAAOhI,KAAOgI,EAAOlI,MAAQ+C,EAAKU,WAuKjDoE,EAAsBD,GAEtBrC,EAAOqC,EAAIvC,EAAmB,aAO9BE,EAAOqC,EAAI1C,GAAgB,WACzB,OAAO5E,QAGTiF,EAAOqC,EAAI,YAAY,WACrB,MAAO,wBAkCTjJ,EAAQmL,KAAO,SAAS3F,GACtB,IAAI2F,EAAO,GACX,IAAK,IAAIjK,KAAOsE,EACd2F,EAAKpG,KAAK7D,GAMZ,OAJAiK,EAAKC,UAIE,SAAStG,IACd,KAAOqG,EAAKhL,QAAQ,CAClB,IAAIe,EAAMiK,EAAKE,MACf,GAAInK,KAAOsE,EAGT,OAFAV,EAAKzD,MAAQH,EACb4D,EAAKvD,MAAO,EACLuD,EAQX,OADAA,EAAKvD,MAAO,EACLuD,IAsCX9E,EAAQgJ,OAASA,EAMjB3B,EAAQtE,UAAY,CAClBoB,YAAakD,EAEbmD,MAAO,SAASc,GAcd,GAbA3J,KAAK4J,KAAO,EACZ5J,KAAKmD,KAAO,EAGZnD,KAAKuG,KAAOvG,KAAKwG,MAAQnG,EACzBL,KAAKJ,MAAO,EACZI,KAAKmG,SAAW,KAEhBnG,KAAK8F,OAAS,OACd9F,KAAKR,IAAMa,EAEXL,KAAK0I,WAAWlB,QAAQmB,IAEnBgB,EACH,IAAK,IAAIrF,KAAQtE,KAEQ,MAAnBsE,EAAKuF,OAAO,IACZnF,EAAO3C,KAAK/B,KAAMsE,KACjB0E,OAAO1E,EAAKD,MAAM,MACrBrE,KAAKsE,GAAQjE,IAMrByJ,KAAM,WACJ9J,KAAKJ,MAAO,EAEZ,IACImK,EADY/J,KAAK0I,WAAW,GACLE,WAC3B,GAAwB,UAApBmB,EAAWlD,KACb,MAAMkD,EAAWvK,IAGnB,OAAOQ,KAAKgK,MAGdvD,kBAAmB,SAASwD,GAC1B,GAAIjK,KAAKJ,KACP,MAAMqK,EAGR,IAAIxE,EAAUzF,KACd,SAASkK,EAAOC,EAAKC,GAYnB,OAXAzD,EAAOE,KAAO,QACdF,EAAOnH,IAAMyK,EACbxE,EAAQtC,KAAOgH,EAEXC,IAGF3E,EAAQK,OAAS,OACjBL,EAAQjG,IAAMa,KAGN+J,EAGZ,IAAK,IAAI3L,EAAIuB,KAAK0I,WAAWlK,OAAS,EAAGC,GAAK,IAAKA,EAAG,CACpD,IAAI4J,EAAQrI,KAAK0I,WAAWjK,GACxBkI,EAAS0B,EAAMO,WAEnB,GAAqB,SAAjBP,EAAMC,OAIR,OAAO4B,EAAO,OAGhB,GAAI7B,EAAMC,QAAUtI,KAAK4J,KAAM,CAC7B,IAAIS,EAAW3F,EAAO3C,KAAKsG,EAAO,YAC9BiC,EAAa5F,EAAO3C,KAAKsG,EAAO,cAEpC,GAAIgC,GAAYC,EAAY,CAC1B,GAAItK,KAAK4J,KAAOvB,EAAME,SACpB,OAAO2B,EAAO7B,EAAME,UAAU,GACzB,GAAIvI,KAAK4J,KAAOvB,EAAMG,WAC3B,OAAO0B,EAAO7B,EAAMG,iBAGjB,GAAI6B,GACT,GAAIrK,KAAK4J,KAAOvB,EAAME,SACpB,OAAO2B,EAAO7B,EAAME,UAAU,OAG3B,KAAI+B,EAMT,MAAM,IAAItE,MAAM,0CALhB,GAAIhG,KAAK4J,KAAOvB,EAAMG,WACpB,OAAO0B,EAAO7B,EAAMG,gBAU9B9B,OAAQ,SAASG,EAAMrH,GACrB,IAAK,IAAIf,EAAIuB,KAAK0I,WAAWlK,OAAS,EAAGC,GAAK,IAAKA,EAAG,CACpD,IAAI4J,EAAQrI,KAAK0I,WAAWjK,GAC5B,GAAI4J,EAAMC,QAAUtI,KAAK4J,MACrBlF,EAAO3C,KAAKsG,EAAO,eACnBrI,KAAK4J,KAAOvB,EAAMG,WAAY,CAChC,IAAI+B,EAAelC,EACnB,OAIAkC,IACU,UAAT1D,GACS,aAATA,IACD0D,EAAajC,QAAU9I,GACvBA,GAAO+K,EAAa/B,aAGtB+B,EAAe,MAGjB,IAAI5D,EAAS4D,EAAeA,EAAa3B,WAAa,GAItD,OAHAjC,EAAOE,KAAOA,EACdF,EAAOnH,IAAMA,EAET+K,GACFvK,KAAK8F,OAAS,OACd9F,KAAKmD,KAAOoH,EAAa/B,WAClBlC,GAGFtG,KAAKwK,SAAS7D,IAGvB6D,SAAU,SAAS7D,EAAQ8B,GACzB,GAAoB,UAAhB9B,EAAOE,KACT,MAAMF,EAAOnH,IAcf,MAXoB,UAAhBmH,EAAOE,MACS,aAAhBF,EAAOE,KACT7G,KAAKmD,KAAOwD,EAAOnH,IACM,WAAhBmH,EAAOE,MAChB7G,KAAKgK,KAAOhK,KAAKR,IAAMmH,EAAOnH,IAC9BQ,KAAK8F,OAAS,SACd9F,KAAKmD,KAAO,OACa,WAAhBwD,EAAOE,MAAqB4B,IACrCzI,KAAKmD,KAAOsF,GAGPnC,GAGTmE,OAAQ,SAASjC,GACf,IAAK,IAAI/J,EAAIuB,KAAK0I,WAAWlK,OAAS,EAAGC,GAAK,IAAKA,EAAG,CACpD,IAAI4J,EAAQrI,KAAK0I,WAAWjK,GAC5B,GAAI4J,EAAMG,aAAeA,EAGvB,OAFAxI,KAAKwK,SAASnC,EAAMO,WAAYP,EAAMI,UACtCE,EAAcN,GACP/B,IAKb,MAAS,SAASgC,GAChB,IAAK,IAAI7J,EAAIuB,KAAK0I,WAAWlK,OAAS,EAAGC,GAAK,IAAKA,EAAG,CACpD,IAAI4J,EAAQrI,KAAK0I,WAAWjK,GAC5B,GAAI4J,EAAMC,SAAWA,EAAQ,CAC3B,IAAI3B,EAAS0B,EAAMO,WACnB,GAAoB,UAAhBjC,EAAOE,KAAkB,CAC3B,IAAI6D,EAAS/D,EAAOnH,IACpBmJ,EAAcN,GAEhB,OAAOqC,GAMX,MAAM,IAAI1E,MAAM,0BAGlB2E,cAAe,SAAS7B,EAAUb,EAAYC,GAa5C,OAZAlI,KAAKmG,SAAW,CACdxD,SAAU0E,EAAOyB,GACjBb,WAAYA,EACZC,QAASA,GAGS,SAAhBlI,KAAK8F,SAGP9F,KAAKR,IAAMa,GAGNiG,IAQJjI,EA9sBK,CAqtBiBD,EAAOC,SAGtC,IACEuM,mBAAqBpG,EACrB,MAAOqG,GAWmB,iBAAfC,WACTA,WAAWF,mBAAqBpG,EAEhCuG,SAAS,IAAK,yBAAdA,CAAwCvG,oBC/uB5CpG,EAAOC,QAAU,EAAjB,8MCAA,aACA,qlBASA,SAAS2M,EAAYC,GAQnB,OAPKA,EAAYC,UAKfD,EAAYC,UAAZ,QAZK,CACLC,GAAI,UACJ7G,KAAM,WAMN2G,EAAYC,UAAY,CACtBE,QATG,CACLD,GAAI,UACJ7G,KAAM,YAYD2G,MAGYI,EAAAA,WACnB,WAAYC,EAASC,GAAuB,WAAbC,EAAa,uDAAN,MAAM,0BA8D5CC,SAAW,SAACC,GACV,IAAK,EAAKC,MAA4B,WAApB,aAAO,EAAKA,MAC5B,MAAM,IAAInL,UAAU,qBAEtB,OAAO,EAAKoL,YAAYF,IAlEkB,KAoE5CE,YApE4C,+CAoE9B,WAAOF,GAAP,gGACL,IAAI7L,SAAQ,SAACV,EAASC,GAC3B,IAAIyM,EAAS,GACb,EAAKC,sBAAwBJ,EAC7B,IAAMK,EAAO,IAAIC,EAAAA,QAAQ,EAAKL,KAAM,EAAKJ,UACzCQ,EAAKE,KAAK,IACVF,EAAKN,SAASI,EAAQH,GAClBG,EAAOrN,OAAS,EAClBY,EAAO,CACLyH,KAAM,sBACNgF,OAAQ,EAAKK,cAAcL,KAG7B1M,QAbQ,2CApE8B,2DAqF5CgN,WAAa,SAACC,GAAY,UACxB,OAAIA,EACF,UAAOpL,OAAOwI,MAAK,YAAKmC,YAAL,eAAWU,QAAS,WAAvC,aAAO,EAAqCC,KAC1C,SAAC7N,GAAD,aAAOA,MAAAA,GAAP,UAAOA,EAAG8N,iBAAV,aAAO,EAAcjI,QAElBtD,OAAOwI,MAAK,YAAKmC,YAAL,eAAWU,QAAS,KA1FG,KA6F5CG,WAAa,SAACJ,GAAY,UACxB,OAAIA,EACF,UAAOpL,OAAOqG,QAAO,YAAKsE,YAAL,eAAWU,QAAS,IACtCI,QAAO,SAACC,GAAD,MAAoB,SAAZA,EAAG7F,eADrB,aAAO,EAEHyF,KAAI,SAAC7N,GAAD,aAAOA,MAAAA,GAAA,UAAAA,EAAG8N,iBAAH,eAAcjI,OAAQ,MAChCtD,OAAOqG,QAAO,YAAKsE,YAAL,eAAWU,QAAS,IACtCI,QAAO,SAACC,GAAD,MAAoB,SAAZA,EAAG7F,QAClByF,KAAI,SAACI,GACJ,OAAOA,EAAGvB,OArG4B,KAyG5CwB,WAAa,SAACP,GAAY,UACxB,OAAIA,EACF,UAAOpL,OAAOqG,QAAO,YAAKsE,YAAL,eAAWiB,eAAgB,WAAhD,aAAO,EAA8CN,KACnD,SAAC7N,GAAD,aAAOA,MAAAA,GAAP,UAAOA,EAAGoO,eAAV,aAAO,EAAYvI,QAEhBtD,OAAOwI,MAAK,YAAKmC,YAAL,eAAWiB,eAAgB,KA9GJ,KAiH5CE,aAAe,SAACV,GAAY,UAC1B,OAAIA,EACF,UAAOpL,OAAOqG,QAAO,YAAKsE,YAAL,eAAWT,YAAa,WAA7C,aAAO,EAA2CoB,KAAI,SAAC7N,GAAD,OAAOA,MAAAA,OAAP,EAAOA,EAAG6F,QAC3DtD,OAAOwI,MAAK,YAAKmC,YAAL,eAAWT,YAAa,KApHD,KAuH5C6B,gBAAkB,SAACC,EAAOC,GACxB,iBAAUA,MAAAA,OAAA,EAAAA,EAAGC,SAASD,MAAAA,OAAZ,EAAYA,EAAGvB,MAAzB,mBAAwCsB,MAAAA,OAAxC,EAAwCA,EAAOG,KAAK,QAxHV,KA2H5CC,WAAa,SAAChB,GAAY,cACxB,OAAIA,EACF,UAAOpL,OAAOqG,QAAO,YAAKsE,YAAL,mBAAW0B,oBAAX,eAAyBC,WAAY,WAA1D,aAAO,EAAwDhB,KAC7D,SAAC7N,GAAD,OAAOA,MAAAA,OAAP,EAAOA,EAAG6F,QAEPtD,OAAOwI,MAAK,YAAKmC,YAAL,mBAAW0B,oBAAX,eAAyBC,WAAY,KAhId,KAmI5CC,SAAW,SAACnB,GAAY,UACtB,OAAIA,EACF,UAAOpL,OAAOqG,QAAO,qBAAMsE,YAAN,eAAY6B,QAAS,WAA1C,aAAO,EAAwClB,KAAI,SAAC7N,GAAD,OAAOA,MAAAA,OAAP,EAAOA,EAAG6F,QACxDtD,OAAOwI,MAAK,qBAAMmC,YAAN,eAAY6B,QAAS,KAtIE,KAyI5CC,gBAAkB,WAAM,MACtB,OAAOzM,OAAOwI,KAAK,SAAZ,UAAY,EAAMmC,YAAlB,aAAY,EAAY+B,eA1IW,KA6I5CC,cAAgB,SAACvB,GAAY,QAC3B,OAAIA,EACKpL,OAAOqG,QAAO,qBAAMsE,YAAN,eAAYiC,aAAc,IAAItB,KAAI,SAAC7N,GAAD,OAAOA,MAAAA,OAAP,EAAOA,EAAGoI,QAC5D7F,OAAOwI,MAAK,qBAAMmC,YAAN,eAAYiC,aAAc,KAhJH,KAmJ5CC,UAAY,SAAChC,GACX,OAAOA,EAAOiC,QAAO,SAACC,EAAWC,GAQ/B,OANGD,MAAAA,GAAAA,EAAWE,MACV,SAAChB,GAAD,OAAOA,MAAAA,OAAA,EAAAA,EAAGiB,SAASF,MAAAA,OAAZ,EAAYA,EAAWE,QAAQjB,MAAAA,OAAA,EAAAA,EAAGvB,SAASsC,MAAAA,OAAZ,EAAYA,EAAWtC,UAG/DqC,EAAU3K,KAAK4K,GAEVD,IACN,KA7JuC,KA+J5CI,0BAA4B,SAACC,EAAWlB,GACtC,OAAQkB,GACN,IAAK,QACL,IAAK,YACH,OAAOC,EAAAA,UAAUC,aACf,uBACA,EAAKC,kBAAkBrB,IAE3B,IAAK,WACH,OAAOmB,EAAAA,UAAUC,aACf,wBACA,EAAKC,kBAAkBrB,IAE3B,QACE,MAAO,KA7K+B,KAgL5CsB,cAAgB,SAAC3C,GACf,OAAOA,MAAAA,OAAP,EAAOA,EAAQS,KAAI,SAAC3M,GAClB,IACmC,EAMQ,EAPvC8O,GAAU9O,MAAAA,OAAA,EAAAA,EAAO8O,UAAW,GAC5BA,EAAQC,SAAS/O,MAAAA,OAAjB,EAAiBA,EAAO+L,QAC1B+C,EAAUA,EAAQE,QAChBhP,MAAAA,OADQ,EACRA,EAAO+L,KACP,EAAKkD,SAASjP,MAAAA,OAAd,EAAcA,EAAO+L,KAAM/L,MAAAA,GAA3B,UAA2BA,EAAOkP,cAAlC,aAA2B,EAAe3B,SAG1CuB,EAAQC,SAAS/O,MAAAA,OAAjB,EAAiBA,EAAOmP,gBAC1BL,EAAUA,EAAQE,QAChBhP,MAAAA,OADQ,EACRA,EAAOmP,aACP,EAAKF,SAASjP,MAAAA,OAAd,EAAcA,EAAOmP,aAAcnP,MAAAA,GAAnC,UAAmCA,EAAOkP,cAA1C,aAAmC,EAAe3B,SAGtD,IACM6B,EADQV,EAAAA,UAAUW,MAAMrP,MAAAA,OAAhB,EAAgBA,EAAOuO,MAEjCG,EAAAA,UAAUC,aAAa3O,EAAMuO,MAC7B,EAAKK,kBAAkB5O,MAAAA,OAAvB,EAAuBA,EAAOuO,MAClC,cACKvO,GADL,IAEE8O,QAASA,EACTQ,WAAYtP,MAAAA,GAAAA,EAAOuP,WACf,EAAKf,0BAA0BxO,MAAAA,OAA/B,EAA+BA,EAAOuO,KAAMvO,MAAAA,OAA5C,EAA4CA,EAAOuP,YACnDb,EAAAA,UAAUC,aAAa,aAAcS,SAxMH,KAqP5C7C,cAAgB,SAACL,GAqBf,OApBAA,EAASA,EAAOS,KAAI,SAAC3M,GAgBnB,MAfqB,CACnBuO,KAAM,EAAKiB,iBAAiBxP,EAAMkH,MAClC4H,QAAS,EAAKW,eAAezP,GAC7B+L,KAAML,EAAegE,cAAc1P,EAAM+L,MACzCwD,WAAY,EAAKI,oBAAoB3P,MAAAA,OAAzB,EAAyBA,EAAO8O,SAC5CK,aAAcnP,MAAAA,OAAF,EAAEA,EAAOmP,aACrBD,OAAQ,CACNnP,MAAOC,MAAAA,OAAF,EAAEA,EAAO4P,OACdC,cAAe7P,MAAAA,OAAF,EAAEA,EAAO4P,OACtBrC,MAAOvN,EAAM8P,MACb/D,KAAML,EAAegE,cAAc1P,EAAM+L,MACzCrE,OAAQ,EAAKqI,oBAAoB/P,GACjCgQ,SAAU,EAAKC,sBAAsBjQ,QAK3CkM,EAAS,EAAKgC,UAAUhC,GACf,EAAK2C,cAAc3C,IAzQc,KA4Q5CsD,iBAAmB,SAACjB,GAClB,MACO,cADCA,EAEG,QAEAA,GAjR+B,KAoR5CwB,oBAAsB,SAAC/P,GAAU,oEACzBkQ,EAAY,SAAC1E,EAAI+B,GACrB,MAAO,CACL/B,GAAAA,EACA+B,MAAOA,IAGL4C,EAAW,UAAG9O,OAAOqG,QACzB,YAAKsE,YAAL,mBAAWoE,WAAX,eAAgBC,kBAAmB,WADpB,aAAG,EAEjB1D,KAAI,SAAC7N,GAAD,OAAOoR,EAAUpR,MAAAA,OAAD,EAACA,EAAG0M,GAAI1M,MAAAA,OAAR,EAAQA,EAAG6F,SAC5BkJ,EAAK,UAAGxM,OAAOqG,QAAO,YAAKsE,YAAL,mBAAWoE,WAAX,eAAgBvC,QAAS,WAA1C,aAAG,EAA4ClB,KAAI,SAAC7N,GAAD,OAC5DoR,EAAUpR,MAAAA,OAAD,EAACA,EAAG0M,GAAI1M,MAAAA,OAAR,EAAQA,EAAG6F,SAEhB+H,EAAK,UAAGrL,OAAOqG,QAAO,YAAKsE,YAAL,mBAAWoE,WAAX,eAAgB1D,QAAS,WAA1C,aAAG,EAA4CC,KAAI,SAAC7N,GAAD,aAC5DoR,EAAUpR,MAAAA,OAAD,EAACA,EAAG0M,GAAI1M,MAAAA,GAAR,UAAQA,EAAG8N,iBAAX,aAAQ,EAAcjI,SAE3B2L,EAAK,UAAGjP,OAAOqG,QACnB,YAAKsE,YAAL,mBAAWoE,WAAX,mBAAgB1C,oBAAhB,eAA8BC,WAAY,WADjC,aAAG,EAEXhB,KAAI,SAAC7N,GAAD,OAAOoR,EAAUpR,MAAAA,OAAD,EAACA,EAAG0M,GAAI1M,MAAAA,OAAR,EAAQA,EAAG6F,SAC5B4L,EAAW,UAAGlP,OAAOqG,QACzB,YAAKsE,YAAL,mBAAWoE,WAAX,mBAAgBI,wBAAhB,eAAkCD,cAAe,WADlC,aAAG,EAEjB5D,KAAI,SAAC7N,GAAD,OAAOoR,EAAUpR,MAAAA,OAAD,EAACA,EAAG0M,GAAI1M,MAAAA,OAAR,EAAQA,EAAGyO,UAC5BkD,EAAY,UAAGpP,OAAOqG,QAC1B,YAAKsE,YAAL,mBAAWoE,WAAX,mBAAgBI,wBAAhB,eAAkCE,oBAAqB,WADvC,aAAG,EAElB/D,KAAI,SAAC7N,GAAD,OAAOoR,EAAUpR,MAAAA,OAAD,EAACA,EAAG0M,GAAI1M,MAAAA,OAAR,EAAQA,EAAGyO,UAC5BoD,EAAW,UAAGtP,OAAOqG,QAAO,YAAKsE,YAAL,mBAAWoE,WAAX,eAAgBO,cAAe,WAAhD,aAAG,EAAkDhE,KACpE,SAAC7N,GAAD,OAAOoR,EAAUpR,MAAAA,OAAD,EAACA,EAAG0M,GAAI1M,MAAAA,OAAR,EAAQA,EAAG6F,SAEvBiM,EAAK,QAAI,eAAKhF,gBAAL,eAAeiF,cAAe,UAAlC,aAAG,EAAoClE,KAAI,SAAC7N,GAAD,OACpDoR,EAAUpR,MAAAA,OAAD,EAACA,EAAGgS,QAAShS,MAAAA,OAAb,EAAaA,EAAG6F,SAErBoM,EAAM,QAAI,eAAKnF,gBAAL,eAAeoF,eAAgB,UAAnC,aAAG,EAAqCrE,KAAI,SAAC7N,GAAD,OACtDoR,EAAUpR,MAAAA,OAAD,EAACA,EAAGgS,SAAShS,MAAAA,OAAA,EAAAA,EAAG6F,QAAQ7F,MAAAA,OAAX,EAAWA,EAAGmS,SAAS,MAEzCC,EAAO,QAAI,eAAKtF,gBAAL,eAAesF,UAAW,UAA9B,aAAG,EAAgCvE,KAAI,SAAC7N,GAAD,OAClDoR,GAAUpR,MAAAA,OAAA,EAAAA,EAAGgS,WAAWhS,MAAAA,OAAd,EAAcA,EAAG0M,IAAI1M,MAAAA,OAAtB,EAAsBA,EAAG6F,SAE9BwM,EAAI,QAAI,eAAKvF,gBAAL,eAAeuF,OAAQ,UAA3B,aAAG,EAA6BxE,KAAI,SAAC7N,GAAD,OAC5CoR,EAAUpR,MAAAA,OAAD,EAACA,EAAG0M,GAAI1M,MAAAA,OAAR,EAAQA,EAAG6F,SAEhByM,EAAM,wBACNvD,GAAS,KADH,aAENsD,GAAQ,KAFF,aAGNhB,GAAe,KAHT,aAINzD,GAAS,KAJH,aAKN4D,GAAS,KALH,aAMNC,GAAe,KANT,aAONE,GAAgB,KAPV,aAQNE,GAAe,KART,aASNC,GAAS,KATH,aAUNG,GAAU,KAVJ,aAWNG,GAAW,KACfpE,OAAOuE,SACHC,EAAWtR,MAAAA,OAAH,EAAGA,EAAOsR,SAClBC,GAAe,EAAH,WAAUD,GAC5B,GAAItS,MAAME,QAAQoS,IAA8B,WAAjBC,EAA2B,CACxD,IAAI7J,EAAS4J,MAAAA,GAAAA,EAAUvC,SAAS,MAC5BuC,MAAAA,OADS,EACTA,EAAUE,MAAM,MAChBxR,MAAAA,OAFS,EAETA,EAAOsR,SACX,GAAItS,MAAME,QAAQwI,GAAS,OAIzBA,GAHAA,EAAM,UAAGA,SAAH,aAAG,EAAQiF,KACf,SAACnB,GAAD,aAAQ4F,MAAAA,GAAA,UAAAA,EAAKK,MAAK,SAAC3S,GAAD,OAAOA,MAAAA,OAAA,EAAAA,EAAG0M,MAAOA,YAA3B,eAAgC+B,QAAS/B,MAEnCgC,KAAK,UAChB,OACCkE,IAAahK,GAAU,IAAIiK,OACjCjK,GAAS0J,MAAAA,GAAA,UAAAA,EAAKK,MAAK,SAAC3S,GAAD,OAAOA,MAAAA,OAAA,EAAAA,EAAG0M,MAAOkG,aAA3B,eAAuCnE,QAAS7F,EAE3D,OAAOA,EAET,OAAO4J,GA1VmC,KA6V5CrB,sBAAwB,SAACjQ,GACvB,IAAI0H,EAAS1H,EAAMsR,SAInB,OAHI5J,GAA4B,iBAAXA,IACnBA,EAASA,EAAO8J,MAAM,MAEjB9J,GAlWmC,KAqW5CiI,oBAAsB,SAACb,GACrB,IACM8C,EADc,IAAIC,OAAO,0BACEC,KAAKhD,GAAW,IACjD,OAAO8C,MAAAA,OAAA,EAAAA,EAAe,MAAM,GAxWc,KA0W5CG,yBAA2B,SAACxE,GAC1B,MAAO,CAAC,QAAS,UAAUwB,SAASxB,IA3WM,KA8W5CkC,eAAiB,SAACzP,GAChB,IAAMuP,EAAa,EAAKI,oBAAoB3P,MAAAA,OAAzB,EAAyBA,EAAO8O,SACnD,GAAIS,EACF,OAAQvP,EAAMkH,MACZ,IAAK,QACL,IAAK,YACH,IAAM8K,EAAa,EAAKD,yBAAyBxC,GACjD,OAAOb,EAAAA,UAAUC,aACfqD,EAAa,qBAAuB,qBACpCzC,GAEJ,IAAK,WACH,OAAOb,EAAAA,UAAUC,aACf,kBACA3O,MAAAA,OAAA,EAAAA,EAAOuN,QAASvN,EAAM8P,OAAS,GAC/B,EAAKC,oBAAoB/P,IAE7B,IAAK,YACH,OAAO0O,EAAAA,UAAUC,aAAa,uBAAwB3O,MAAAA,OAA/C,EAA+CA,EAAO+L,MAC/D,IAAK,WACH,OAAO2C,EAAAA,UAAUC,aAAa,mBAAoBY,GACpD,QACE,OAAOvP,EAAM8O,aAGjB,OAAQ9O,EAAMkH,MACZ,IAAK,QACL,IAAK,YACH,OAAOwH,EAAAA,UAAUC,aACf,eACA3O,MAAAA,OAAA,EAAAA,EAAOuN,QAASvN,EAAM8P,OAAS,GAC/B,EAAKC,oBAAoB/P,IAE7B,IAAK,WACH,OAAO0O,EAAAA,UAAUC,aACf,kBACA3O,MAAAA,OAAA,EAAAA,EAAOuN,QAASvN,EAAM8P,OAAS,GAC/B,EAAKC,oBAAoB/P,IAE7B,IAAK,YACH,OAAO0O,EAAAA,UAAUC,aAAa,uBAAwB3O,MAAAA,OAA/C,EAA+CA,EAAO+L,MAC/D,IAAK,cACH,OAAO2C,EAAAA,UAAUC,aACf,kBACA3O,MAAAA,OAAA,EAAAA,EAAOuN,QAASvN,EAAM8P,OAAS,IAEnC,QACE,OAAO9P,EAAM8O,UA5ZnBzO,KAAKwL,KAAOA,EACZ,IACE,IAAMoG,EAAaC,EAAAA,KAAAA,CAAQ,YAAoBrG,EAArB,UAC1B6C,EAAAA,UAAUyD,YAAV,gBAAwBtG,EAAOoG,IAC/BvD,EAAAA,UAAU0D,YAAYvG,GACtB,MAAOyB,GACP,IAAM2E,EAAaC,EAAQ,MAC3BxD,EAAAA,UAAUyD,YAAV,gBAAwBtG,EAAOoG,IAC/BvD,EAAAA,UAAU0D,YAAYvG,GAExBxL,KAAK2L,KAAO3L,KAAKgS,aAAa1G,GAC1BtL,KAAK2L,KAAKL,QACZtL,KAAK2L,KAAKL,QAAU,CAClByE,IAAK/E,EAAYhL,KAAK2L,KAAKL,UAG7BtL,KAAK2L,KAAO,CACVoE,IAAK/E,EAAYhL,KAAK2L,OAG1B3L,KAAKuL,SAAWA,EAChBvL,KAAK8L,qBAAsB,mDAgB7B,SAAazK,GACX,IAAK,IAAM9B,KAAO8B,EAAK,CACrB,IAAM3B,EAAQ2B,EAAI9B,GACd8L,EAAe4G,QAAQvS,UAClB2B,EAAI9B,GACe,YAAjB,aAAOG,IAChBM,KAAKgS,aAAatS,GAGtB,OAAO2B,0BAGT,SAASqK,GACP,IAAMwG,EAAQ,IAAIV,OAAO,gCAAgCC,KAAK/F,GAAQ,IAChE+C,GAAUyD,MAAAA,OAAA,EAAAA,EAAQ,KAAMxG,GAAQ,GACtC,OAAO1L,KAAKuO,kBAAkBE,oCAGhC,SAAkBA,GAChB,OAAOA,EAAQE,QAAQ,WAAY,OAAOA,QAAQ,MAAM,SAAUwD,GAChE,OAAOA,EAAIC,0CAjCf,SAAeC,GACb,YAAYhS,IAARgS,GAEY,mBAAPA,GACO,iBAAPA,GACO,kBAAPA,GACiC,kBAAxCrR,OAAOI,UAAUgD,SAASrC,KAAKsQ,KAGtB,MAAPA,GAA8B,IAAfA,EAAI7T,QACF,WAAd,aAAO6T,IAA+C,IAA5BrR,OAAOwI,KAAK6I,GAAK7T,gDAyKpD,SAAgCkN,GAAuB,IAAjB4G,EAAiB,uDAAL,IAC5CC,EAAW7G,EAAKyF,MAAMmB,GAC1BC,EAAWA,EAAS9F,OAAOuE,SAG3B,IAFA,IAAIwB,EAAc,GACdC,EAAY,QACPhU,EAAI,EAAGA,EAAI8T,EAAS/T,OAAQC,IAAK,CACxC,IAAIiU,EAAWH,EAAS9T,GACpB4T,EAAM,KASY,OAPpBA,EADEI,EAAUlO,KAAKmO,GACX,IAAMA,EAAW,IAEjBA,GAKA7I,OAAO,GACb2I,GAAeH,EAEfG,GAAsC,IAAvBA,EAAYhU,OAAe6T,EAAM,IAAMA,EAG1D,OAAOG,qCAET,SAA2B9G,GAAuB,IAAjB4G,EAAiB,uDAAL,IAC3C,IAAK5G,EAAM,OAAO,KAClB,IAAI6G,GAAY7G,GAAQ,IAAIyF,MAAMmB,GAClCC,EAAWA,EAAS9F,OAAOuE,SAE3B,IADA,IAAIwB,EAAc,GACT/T,EAAI,EAAGA,EAAI8T,EAAS/T,OAAQC,IAAK,CACxC,IAAIiU,EAAWH,EAAS9T,GACxB+T,GAAe,IAAME,EAAS/D,QAAQ,cAAc,SAACgE,EAAGlU,GAAJ,MAAU,IAAMA,KAEtE,OAAO+T,QA9OUnH,eAAAA,EAgPZgE,cAAgB,SAAC3D,GACtB,IAAIkH,EAAclH,EAGlB,OAFAkH,EAAcvH,EAAewH,oBAAoBD,GACnCvH,EAAeyH,yBAAyBF,+ICxQ1D,aACqBG,EAAAA,6FACnB,SAAaC,EAAMtH,GACjB,OAAY,MAARA,EACKsH,GAEF,aAAIA,EAAMtH,SALAqH,+JCDrB,2CAC0C,SAACpH,GACzC,QAAKA,GACSA,EAAKwF,MAAM,KAAK7E,KAAI,SAAAzF,GAAI,OAAIA,EAAKyK,UAAQ7E,QAAO,SAAA5F,GAAI,MAAa,KAATA,KACzDoM,OAAM,SAAApM,GAAI,OAAIqM,EAAAA,kBAAkBpP,eAAe+C,qCAEnB,kBAAM7F,OAAOwI,KAAK0J,EAAAA,0ICJtD,SAAiC5H,EAAS6H,EAASzT,EAAOmM,EAAQuH,EAAQ1H,EAAM2H,GACrF,IAAI,CAAC,QAAS,YAAY3E,SAAS2E,MAAAA,OAA/B,EAA+BA,EAAYC,UAC7C,GAAa,oBAAV5T,GAAyD,WAA1B2T,MAAAA,OAAA,EAAAA,EAAYE,WAC5C1H,EAAOzI,KAAK,CAACyD,KAAM,kBAEhB,GAA6B,WAA1BwM,MAAAA,OAAA,EAAAA,EAAYE,YAAyB7T,EAAM,CACjD,IACM8T,GADQH,MAAAA,OAAH,EAAGA,EAAY5D,OACAd,QAAQ,mBAAoB,IAChD5C,EAAO,IAAI0H,EAAAA,QAAanI,EAAS,GAAIkI,GAC3CzH,EAAKE,KAAK,KAAMkH,GAChB,IAAMO,EAAS3H,EAAK4H,iBACR,MAATD,IAEE/U,MAAME,QAAQa,IAAoBA,EAAMuT,OAAM,SAACxU,GAAD,OAAOiV,EAAMhF,SAASjQ,OACtDiV,EAAMhF,SAAShP,KAE9BmM,EAAOzI,KAAK,CAACyD,KAAM,YAAaqG,MAAOnB,EAAK6H,oBAAoB7H,EAAK8H,2BAA4BnU,MAAAA,EAAOuR,SAAUyC,IAK1H,OAAOhU,GAvBT,uICAA,cACA,UACA,gCAEiC,SAAC4L,EAAS6H,GAAV,OAAsB,aAAa,CAACW,6BAA6B,IAAOC,QAAQ,CAC/GC,WAAY,CACVnN,KAAM,QACNoN,UAAU,EACVC,MAAO,CACLrN,KAAM,QACNqN,MAAO,CACLrN,KAAM,SACNlG,MAAO,CACL8O,MAAO,qBACP6D,SAAU,CACRzM,KAAM,OACNQ,OAAQ8M,EAAAA,WAEVzU,MAAO,CACLmH,KAAM,SACNuN,UAAU,EACVhJ,QAAS,kBACTiJ,MAAOC,EAAAA,wBAAwBC,YAAWjJ,EAAS6H,IAErDI,UAAW,CACT1M,KAAM,OACNQ,OAAQ,CAAC,WAAY,wIC1BjC,cACA,UACA,iCAEkC,SAACiE,EAAS6H,GACzC,OAAO,aAAa,CAACW,6BAA6B,IAAOC,QAAQ,CAC/DC,WAAY,CACVnN,KAAM,QACNoN,UAAU,EACVC,MAAO,CACLrN,KAAM,QACNqN,MAAO,CACLrN,KAAM,SACNlG,MAAO,CACL8O,MAAO,qBACP6D,SAAU,CACRzM,KAAM,OACNQ,OAAQ8M,EAAAA,WAEVzU,MAAO,CACLmH,KAAM,SACNuN,UAAU,EACVhJ,QAAS,kBACTiJ,MAAOC,EAAAA,wBAAwBC,YAAWjJ,EAAS6H,IAErDI,UAAW,CACT1M,KAAM,OACNQ,OAAQ,CAAC,WAAY,gKC3BpC,iBACA,aAEamN,GAAwB,eAAeT,QAAQ,CAC1DU,YAAa,CACX5N,KAAM,OACNQ,OAAQ,CAAC,MAAO,KAAM,QAExBqN,MAAO,CACL7N,KAAM,QACNoN,UAAU,+BAGP,IAAMU,GAAoB,aAAa,CAC5Cb,6BAA6B,IAC5BC,QAAQ,CACTtE,MAAO,qBACP6D,SAAU,CACRzM,KAAM,OACNQ,OAAQ,CACN,QACA,YACA,OACA,gBACA,UACA,mBACA,UACA,cACA,gBACA,oBACA,oBACA,SACA,aACA,qBACA,yBACA,WACA,eACA,kBAGJ3H,MAAO,CACLmH,KAAM,SACNuE,QAAS,kBACTiJ,MAHK,SAGCO,EAAG/I,EAAQuH,EAAQ1H,EAAM2H,EAAY5N,GACzC,OAA4BA,MAAAA,OAAA,EAAAA,EAASkG,OAAQ,GAArC2H,EAAR,EAAQA,SAAU5T,EAAlB,EAAkBA,MACZmV,EAAexJ,EAAAA,QAAe4G,QAAQvS,GAM5C,MALK,CAAC,WAAY,gBAAgBgP,SAAS4E,KAC3B,oBAAV5T,GAA+BmV,IACjChJ,EAAOzI,KAAK,CAAEyD,KAAM,aAGjBnH,qJCnDmB,CAC9BoV,oBAAqB,qBACrBC,sBAAuB,sBACvBC,qBAAsB,qBACtBC,0BAA2B,0BAC3BC,eAAgB,gBAChBC,cAAe,eACfC,WAAY,WACZC,UAAW,WACXC,MAAO,QACPC,OAAQ,SACRC,QAAS,UACTC,MAAO,QACPC,OAAQ,SACRC,WAAY,aACZC,iBAAkB,OAClBC,sBAAuB,WACvBC,YAAa,OACbC,aAAc,cACdC,WAAY,YACZC,QAAS,UACTC,gBAAiB,iBACjBC,UAAW,YACXC,MAAO,QACPC,YAAa,SACbC,SAAU,WACVC,eAAgB,iBAChBC,gBAAiB,gBACjBC,QAAS,sJC5BX,aACA,+lBAEe,SAACC,GACd,IAAMC,EAAiBtI,EAAAA,UAAUuI,kBAAkBvI,EAAAA,UAAUwI,eACvDC,EAAW9V,OAAOmS,QAAQwD,GAAgB7I,QAAO,SAACiJ,EAAD,GAAsB,yBAAfxX,EAAe,KAAVyX,EAAU,KAK3E,OAJGzX,EAAI0X,WAAW,eAEhBF,EADexX,EAAIoP,QAAQ,YAAa,KAC1BqI,GAETD,IACN,IACH,OAAO,IAAIG,EAAAA,QAAJ,OACFR,GADE,IAELI,SAAU,EAAF,KACFJ,MAAAA,OADE,EACFA,EAAQI,UACTA,gSChBmB,CAAC,aAAc,UAAW,QAAS,+BACnC,CAC1B,QACA,OACA,OACA,SACA,SACA,+BAEyB,CACzB,QACA,SACA,aACA,0CAEgC,mBACX,CAAC,SAAU,SAAU,OAAQ,UAAW,aAAc,OAAQ,WAAY,wBAC3E,CACpBK,yBAA0B,2BAC1BC,0BAA2B,4BAC3BC,4BAA6B,8BAC7BC,wBAAyB,0BACzBC,iCAAkC,mCAClCC,wBAAyB,0BACzBC,+BAAgC,iCAChCC,8BAA+B,6CAEf,CAChB,SACA,YACA,WACA,cACA,aACA,gBACA,WACA,cACA,WACA,iBACA,cACA,oBACA,KACA,QACA,QACA,QACA,QACA,WACA,MACA,SACA,SACA,UACA,gCAEsB,CACtB,SACA,YACA,OACA,OACA,UACA,WACA,UACA,YACA,QACA,QACA,cACA,eACA,QACA,SACA,oBACA,kBACA,QACA,OACA,WACA,MACA,QACA,eACA,SACA,iBACA,OACA,eACA,iBACA,WACA,eACA,cACA,OACA,cACA,eACA,SACA,UACA,iBACA,cACA,eACA,mBACA,YACA,gBACA,oBACA,2CAEwB,CACxBC,IAAK,kBACLC,IAAK,qBACLC,KAAM,0EACNC,IAAK,2BACLC,KAAM,oEACNC,IAAK,WACLC,IAAK,aACLC,IAAK,kBACLC,KAAM,YACNC,IAAK,kBACLC,IAAK,aACLC,IAAK,iBACLC,IAAK,aACLC,IAAK,cACLC,IAAK,kBACLC,IAAK,aACLC,KAAM,aACNC,IAAK,YACLC,IAAK,wNCpHP,aACA,4lBACMC,EAAAA,SAAAA,8kBACJ,SAAkBtN,GAChB,IAAM7K,EAAQX,KAAK+Y,aACnB,OAAOpY,EAAMmD,eAAe0H,GAAQ7K,EAAM6K,GAAQxL,KAAA,oCAEpD,SAAagZ,GACX,IAAIhZ,KAAKgP,MAAMgK,GAAM,MAAO,cAAP,OAAqBA,EAArB,KADG,2BAAL/Y,EAAK,iCAALA,EAAK,kBAExB,OAAGA,EAAKzB,OAAewB,KAAKiZ,aAAL,MAAAjZ,KAAA,CAAkBA,KAAKkZ,aAAaF,IAApC,OAA6C/Y,IAC7DD,KAAKkZ,aAAaF,6BAE3B,SAAWrY,GACTX,KAAKmZ,WAAL,OAAoBnZ,KAAK+Y,cAAiBpY,gCAE5C,SAAapB,EAAK6Z,GAChB,IAAIC,EAAcnZ,UAAU1B,OAAS,QAAsB6B,IAAjBH,UAAU,IAAmBA,UAAU,GACjF,IAAI,MAEEoZ,EAAUtZ,KACd,aAAGsZ,SAAH,OAAG,EAAU/Z,GAAM,OAAO+Z,EAAQ/Z,GAElC,IADA,IAAMga,EAAQha,EAAI4R,MAAM,KACf1S,EAAI,EAAGA,EAAI8a,EAAM/a,OAAQC,GAAK,EAAG,CACxC,QAA0B4B,IAAtBiZ,EAAQC,EAAM9a,IAChB,MAAMuH,MAAMuT,EAAM9a,IAEpB6a,EAAUA,EAAQC,EAAM9a,IAE1B,OAAO6a,EACP,MAAOE,IACFH,GAAerZ,KAAKyZ,MAAMC,aAC7BC,QAAQC,MAAM,kCAAoCra,EAAM,mBAAqB6Z,EAAW,gBAAkBI,EAAG/K,SAGjH,OAAO,oCAET,SAAgBuK,GACd,IAAIhZ,KAAK6Z,UAAUb,EAAK,MAAO,MAAO,cAAP,OAAqBA,EAArB,KADJ,2BAAL/Y,EAAK,iCAALA,EAAK,kBAE3B,OAAGA,EAAKzB,OAAewB,KAAKiZ,aAAL,MAAAjZ,KAAA,CAAkBA,KAAK6Z,UAAUb,EAAK,OAAtC,OAAgD/Y,IAChED,KAAK6Z,UAAUb,EAAK,2BAE7B,SAAMA,GAAK,QAAShZ,KAAKkZ,aAAaF,SAvClCF,CAAiBgB,EAAAA,WAyCRhB,cACR,IAAMzK,EAAY,IAAIyK,EAAS,CAACiB,GAAAA,EAAAA,SAAK,CAACL,aAAa,sLC5C1D,aACA,+rBACA/a,MAAMyC,UAAU4Y,UAAY,SAAU9F,GACpC,OAAKvV,MAAME,QAAQqV,IAGnBlU,KAAKia,OAAL,MAAAja,KAAA,CAAYA,KAAKxB,OAAQ,GAAzB,qBAA+B0V,KACxBlU,MAHEA,UAKUka,EAAAA,WAsDnB,WAAY5O,EAASI,GAAM,sCAb3ByO,WAAa,GAac,KAP3BC,SAAU,EAOiB,KAN3BC,iBAAkB,EAMS,KAL3BC,aAAe,GAKY,KAJ3B/J,MAAQ,GAImB,KAH3BM,QAAU,GAGiB,KAF3BsC,QAAU,GAEiB,KAD3BtG,QAAU,GACiB,KAyK3B0N,oBAAsB,SAACC,GAAW,cAC1BpK,GACJ,qBAAM9E,QAAQyE,WAAd,mBAAmBI,wBAAnB,eAAqCE,oBAAqB,GACtDoK,EAAe,EAAKC,iBAAgB,GAAO5M,QAAO,SAACiJ,EAAK4D,GAE5D,OADA5D,EAAI4D,MAAAA,OAAD,EAACA,EAAMlK,SAAWkK,EACd5D,IACN,IACG7G,EAAW,UAAG,EAAK5E,QAAQyE,WAAhB,iBAAG,EAAkBI,wBAArB,aAAG,EAAoCD,YAClD0K,EAAY,EAAH,OAAQxK,GAAiBF,GAAgBuK,GACxD,OAAKD,EACExZ,OAAOwI,KAAKoR,GADN,UAAO5Z,OAAOqG,OAAOuT,UAArB,aAAO,EAA0BtO,KAAI,SAAC7N,GAAD,OAAOA,MAAAA,OAAP,EAAOA,EAAGyO,UAlLnC,KA6L3Bf,WAAa,WAA2B,QAA1BqO,IAA0B,yDAAX/N,EAAW,uCAClCJ,EAAQrL,OAAOqG,QAAO,YAAKiE,eAAL,mBAAcyE,WAAd,eAAmB1D,QAAS,IAAII,QACxD,SAACC,GAAD,OAASA,EAAG0N,WAKd,MAHsB,mBAAX3N,IACTJ,EAAQA,EAAMI,OAAOA,IAEnB+N,EAAenO,EAAMC,KAAI,SAAC7N,GAAD,OAAOA,MAAAA,OAAP,EAAOA,EAAG0M,MAChCkB,GArMkB,KAwM3BG,WAAa,SAACJ,GAAY,cACxB,OAAIA,EACF,UAAOpL,OAAOqG,QAAO,YAAKiE,eAAL,mBAAcyE,WAAd,eAAmB1D,QAAS,IAC9CI,QAAO,SAACC,GAAD,MAAoB,SAAZA,EAAG7F,OAAoB6F,EAAG0N,kBAD5C,aAAO,EAEH9N,KAAI,SAAC7N,GAAD,aAAOA,MAAAA,GAAA,UAAAA,EAAG8N,iBAAH,eAAcjI,OAAQ,MAChCtD,OAAOqG,QAAO,YAAKiE,eAAL,mBAAcyE,WAAd,eAAmB1D,QAAS,IAC9CI,QAAO,SAACC,GAAD,MAAoB,SAAZA,EAAG7F,OAAoB6F,EAAG0N,WACzC9N,KAAI,SAACI,GACJ,OAAOA,EAAGvB,OAhNW,KAoN3BwB,WAAa,SAACP,GAAY,cACxB,OAAIA,EACF,UAAOpL,OAAOqG,QAAO,YAAKiE,eAAL,mBAAcyE,WAAd,eAAmBnD,eAAgB,WAAxD,aAAO,EAAsDN,KAC3D,SAAC7N,GAAD,aAAOA,MAAAA,GAAP,UAAOA,EAAGoO,eAAV,aAAO,EAAYvI,QAEhBtD,OAAOwI,MAAK,YAAK8B,eAAL,mBAAcyE,WAAd,eAAmBnD,eAAgB,KAzN7B,KA4N3BiO,eAAiB,WAA2B,UAA1BL,IAA0B,yDAAX/N,EAAW,uCACtCqD,EAAc9O,OAAOqG,QACvB,YAAKiE,eAAL,mBAAcyE,WAAd,eAAmBC,kBAAmB,IACtCvD,QAAO,SAACgD,GAAD,OAAYA,EAAM2K,WAI3B,OAHI3N,IACFqD,EAAcA,EAAYrD,OAAOA,IAE5B+N,EAAM,UAAG1K,SAAH,aAAG,EAAaxD,KAAI,SAAC7N,GAAD,OAAOA,MAAAA,OAAP,EAAOA,EAAG0M,MAAM2E,GAnOxB,KAqO3BgL,eAAiB,WAA4B,UAA3BN,EAA2B,wDAAX/N,EAAW,uCACvC6D,EAActP,OAAOqG,QACvB,YAAKiE,eAAL,mBAAcyE,WAAd,eAAmBO,cAAe,IAClC7D,QAAO,SAACgD,GAAD,OAAYA,EAAM2K,WAI3B,OAHI3N,IACF6D,EAAcA,EAAY7D,OAAOA,IAE5B+N,EAAM,UAAGlK,SAAH,aAAG,EAAahE,KAAI,SAAC7N,GAAD,OAAOA,MAAAA,OAAP,EAAOA,EAAG0M,MAAMmF,GA5OxB,KA8O3ByK,gBAAkB,SAACP,GAAW,UACxBQ,EAAaha,OAAOwI,MACtB,YAAK8B,eAAL,mBAAcyE,WAAd,mBAAmBI,wBAAnB,eAAqC8K,YAAa,IAEpD,OAAIT,EAAeQ,EACZA,MAAAA,OAAP,EAAOA,EAAY1O,KAAI,SAAC7N,GAAD,OAAOA,MAAAA,OAAP,EAAOA,EAAG0M,OAnPR,KAqP3B4B,gBAAkB,SAACC,EAAOC,GACxB,iBAAUA,MAAAA,OAAA,EAAAA,EAAGC,SAASD,MAAAA,OAAZ,EAAYA,EAAGvB,MAAzB,mBAAwCsB,MAAAA,OAAxC,EAAwCA,EAAOG,KAAK,QAtP3B,KAyP3BC,WAAa,SAAChB,EAASK,GAAW,YAC5ByO,EAAYla,OAAOqG,QACrB,YAAKiE,eAAL,mBAAcyE,WAAd,mBAAmB1C,oBAAnB,eAAiCC,WAAY,IAC7Cb,QAAO,SAAC0O,GAAD,OAASA,EAAGf,WAErB,OADI3N,IAAQyO,EAAYA,EAAUzO,OAAOA,IACrCL,EAAgB8O,EACpB,UAAOA,SAAP,aAAO,EAAW5O,KAAI,SAAC7N,GAAD,OAAOA,MAAAA,OAAP,EAAOA,EAAG0M,OA/PP,KAkQ3BoC,SAAW,SAACnB,GAAY,QAChBoB,EAAQxM,OAAOqG,QAAO,YAAKiE,eAAL,mBAAcyE,WAAd,eAAmBvC,QAAS,IAAIf,QAC1D,SAAChO,GAAD,QAAQA,MAAAA,GAAAA,EAAG2b,YAEb,OAAIhO,EAAgBoB,MAAAA,OAAP,EAAOA,EAAOlB,KAAI,SAAC7N,GAAD,OAAOA,MAAAA,OAAP,EAAOA,EAAG0M,MAClCqC,GAvQkB,KAyQ3BkN,gBAAkB,SAACF,EAAQ/N,EAAQ2O,GAAgB,MAC7CX,IAAgB,YAAKlP,gBAAL,eAAekP,eAAgB,IAAInO,KAAI,SAACqO,GAAD,cACtDA,GADsD,IAEzDxP,GAAIwP,MAAAA,OAAF,EAAEA,EAAMlK,aAKZ,OAHIhE,IACFgO,EAAeA,EAAahO,OAAOA,IAEjC+N,EAAeC,EAAanO,KAAI,SAAC7N,GAAD,OAAOA,MAAAA,OAAP,EAAOA,EAAGgS,WACvCgK,GAlRkB,KAoR3BY,cAAgB,SAACb,EAAQ/N,EAAQ2O,GAAgB,UAC3CJ,EAAaha,OAAOqG,QACtB,YAAKiE,eAAL,mBAAcyE,WAAd,mBAAmBI,wBAAnB,eAAqC8K,YAAa,IAMpD,OAJKG,IAAaJ,EAAaA,EAAWvO,QAAO,SAAChO,GAAD,QAAQA,MAAAA,GAAAA,EAAG2b,aACxD3N,IACFuO,EAAaA,EAAWvO,OAAOA,IAE7B+N,EAAeQ,EAAW1O,KAAI,SAAC7N,GAAD,OAAOA,MAAAA,OAAP,EAAOA,EAAG0M,MACrC6P,GA7RkB,KA+R3BM,iBAAmB,SAACd,EAAQ/N,EAAQ2O,GAAgB,UAQtC,EAPRhL,EAAepP,OAAOqG,QACxB,YAAKiE,eAAL,mBAAcyE,WAAd,mBAAmBI,wBAAnB,eAAqCE,oBAAqB,IAM5D,OAJK+K,IAAahL,EAAeA,EAAa3D,QAAO,SAAChO,GAAD,QAAQA,MAAAA,GAAAA,EAAG2b,aAC5D3N,IACF2D,EAAeA,EAAa3D,OAAOA,IAEjC+N,EACF,UAAOpK,SAAP,aAAO,EAAc9D,KAAI,SAAC7N,GAAD,OAAOA,MAAAA,OAAP,EAAOA,EAAG0M,MAE9BiF,GA1SkB,KA4S3BmL,eAAiB,SAACf,EAAQ/N,EAAQ2O,GAAgB,UAQpC,EAPRlL,EAAclP,OAAOqG,QACvB,YAAKiE,eAAL,mBAAcyE,WAAd,mBAAmBI,wBAAnB,eAAqCD,cAAe,IAMtD,OAJKkL,IAAalL,EAAcA,EAAYzD,QAAO,SAAChO,GAAD,QAAQA,MAAAA,GAAAA,EAAG2b,aAC1D3N,IACFyD,EAAcA,EAAYzD,OAAOA,IAE/B+N,EACF,UAAOtK,SAAP,aAAO,EAAa5D,KAAI,SAAC7N,GAAD,OAAOA,MAAAA,OAAP,EAAOA,EAAG0M,MAE7B+E,GAvTkB,KAyT3BsL,gBAAkB,WAChB,MAAO,CACL,CACErQ,GAAI,SACJ+B,MAAOmB,EAAAA,UAAUC,aAAa,WAC9BzH,KAAMqT,EAAkB7C,6BAE1B,CACElM,GAAI,OACJ+B,MAAOmB,EAAAA,UAAUC,aAAa,SAC9BzH,KAAMqT,EAAkB1C,yBAE1B,CACErM,GAAI,OACJ+B,MAAOmB,EAAAA,UAAUC,aAAa,cAC9BzH,KAAMqT,EAAkB5C,yBAE1B,CACEnM,GAAI,iBACJ+B,MAAOmB,EAAAA,UAAUC,aAAa,wBAC9BzH,KAAMqT,EAAkB5C,wBACxBmE,UAAWvB,EAAkB5C,yBAE/B,CACEnM,GAAI,SACJ+B,MAAOmB,EAAAA,UAAUC,aAAa,mBAC9BzH,KAAMqT,EAAkBwB,gBAE1B,CACEvQ,GAAI,OACJ+B,MAAOmB,EAAAA,UAAUC,aAAa,eAC9BzH,KAAMqT,EAAkByB,4BAE1B,CACExQ,GAAI,OACJ+B,MAAOmB,EAAAA,UAAUC,aAAa,QAC9BzH,KAAMqT,EAAkB/C,0BAE1B,CACEhM,GAAI,QACJ+B,MAAOmB,EAAAA,UAAUC,aAAa,SAC9BzH,KAAMqT,EAAkB9C,2BAE1B,CACEjM,GAAI,YACJ+B,MAAOmB,EAAAA,UAAUC,aAAa,aAC9BzH,KAAMqT,EAAkBxC,+BAE1B,CACEvM,GAAI,QACJ+B,MAAOmB,EAAAA,UAAUC,aAAa,SAC9BzH,KAAMqT,EAAkB3C,kCAE1B,CACEpM,GAAI,SACJ+B,MAAOmB,EAAAA,UAAUC,aAAa,UAC9BzH,KAAMqT,EAAkB0B,gBAE1B,CACEzQ,GAAI,MACJ+B,MAAOmB,EAAAA,UAAUC,aAAa,WAC9BzH,KAAMqT,EAAkB0B,gBAE1B,CACEzQ,GAAI,UACJ+B,MAAOmB,EAAAA,UAAUC,aAAa,WAC9BzH,KAAMqT,EAAkB2B,iBAE1B,CACE1Q,GAAI,eACJ+B,MAAOmB,EAAAA,UAAUC,aAAa,gBAC9BzH,KAAMqT,EAAkB4B,kBAE1B,CACE3Q,GAAI,eACJ+B,MAAOmB,EAAAA,UAAUC,aAAa,gBAC9BzH,KAAMqT,EAAkBwB,gBAE1B,CACEvQ,GAAI,aACJ+B,MAAOmB,EAAAA,UAAUC,aAAa,cAC9BzH,KAAMqT,EAAkB6B,qCAE1B,CACE5Q,GAAI,YACJ+B,MAAOmB,EAAAA,UAAUC,aAAa,aAC9BzH,KAAMqT,EAAkB8B,oBAS1B,CACE7Q,GAAI,oBACJ+B,MAAOmB,EAAAA,UAAUC,aAAa,oBAC9BzH,KAAM,OACNoV,UAAU,EACVC,UAAU,EACVC,cAAc,GAEhB,CACEhR,GAAI,gBACJ+B,MAAOmB,EAAAA,UAAUC,aAAa,SAC9BzH,KAAM,SACN4U,UAAWvB,EAAkB5C,wBAC7B2E,UAAU,EACVC,UAAU,GAEZ,CACE/Q,GAAI,sBACJ+B,MAAOmB,EAAAA,UAAUC,aAAa,cAC9BzH,KAAM,SACN4U,UAAWvB,EAAkB1C,wBAC7ByE,UAAU,EACVC,UAAU,GAEZ,CACE/Q,GAAI,YACJ+B,MAAOmB,EAAAA,UAAUC,aAAa,MAC9BzH,KAAM,SACNoV,UAAU,EACVC,UAAU,GAEZ,CACE/Q,GAAI,iBACJ+B,MAAOmB,EAAAA,UAAUC,aAAa,WAC9BzH,KAAM,SACNoV,UAAU,EACVC,UAAU,GAEZ,CACE/Q,GAAI,iBACJ+B,MAAOmB,EAAAA,UAAUC,aAAa,WAC9BzH,KAAM,SACNoV,UAAU,EACVC,UAAU,GAEZ,CACE/Q,GAAI,iBACJ+B,MAAOmB,EAAAA,UAAUC,aAAa,cAC9BzH,KAAM,UACNoV,UAAU,EACVC,UAAU,GAEZ,CACE/Q,GAAI,oBACJ+B,MAAOmB,EAAAA,UAAUC,aAAa,gBAC9BzH,KAAM,WACNoV,UAAU,EACVC,UAAU,GAEZ,CACE/Q,GAAI,mBACJ+B,MAAOmB,EAAAA,UAAUC,aAAa,kBAC9BzH,KAAM,WACNoV,UAAU,EACVC,UAAU,GAEZ,CACE/Q,GAAI,qBACJ+B,MAAOmB,EAAAA,UAAUC,aAAa,wBAC9BzH,KAAM,aACNoV,UAAU,EACVC,UAAU,GAEZ,CACE/Q,GAAI,sBACJ+B,MAAOmB,EAAAA,UAAUC,aAAa,cAC9BzH,KAAM,SACN4U,UAAWvB,EAAkB1C,wBAC7ByE,UAAU,EACVC,UAAU,EACVE,iBAAiB,GAEnB,CACEjR,GAAI,yBACJ+B,MAAOmB,EAAAA,UAAUC,aAAa,mBAC9BzH,KAAM,aACNoV,UAAU,EACVC,UAAU,GAEZ,CACE/Q,GAAI,kBACJ+B,MAAOmB,EAAAA,UAAUC,aAAa,gBAC9BzH,KAAM,SACNoV,UAAU,EACVC,UAAU,GAEZ,CACE/Q,GAAI,eACJ+B,MAAOmB,EAAAA,UAAUC,aAAa,mBAC9BzH,KAAM,SACNoV,UAAU,EACVC,UAAU,GAEZ,CACE/Q,GAAI,eACJ+B,MAAOmB,EAAAA,UAAUC,aAAa,YAC9BzH,KAAM,SACNoV,UAAU,EACVC,UAAU,GAEZ,CACE/Q,GAAI,aACJ+B,MAAOmB,EAAAA,UAAUC,aAAa,SAC9BzH,KAAM,SACN4U,UAAWvB,EAAkB9C,0BAC7B6E,UAAU,EACVC,UAAU,EACVE,iBAAiB,GAEnB,CACEjR,GAAI,YACJ+B,MAAOmB,EAAAA,UAAUC,aAAa,YAC9BzH,KAAM,SACNoV,UAAU,EACVC,UAAU,EACVE,iBAAiB,GAEnB,CACEjR,GAAI,mBACJ+B,MAAOmB,EAAAA,UAAUC,aAAa,mBAC9BzH,KAAM,SACNoV,UAAU,EACVC,UAAU,EACVE,iBAAiB,GAEnB,CACEjR,GAAI,wBACJ+B,MAAOmB,EAAAA,UAAUC,aAAa,UAC9BzH,KAAM,SACNoV,UAAU,EACVC,UAAU,GAEZ,CACE/Q,GAAI,4BACJ+B,MAAOmB,EAAAA,UAAUC,aAAa,cAC9BzH,KAAM,SACNoV,UAAU,EACVC,UAAU,GAEZ,CACE/Q,GAAI,4BACJ+B,MAAOmB,EAAAA,UAAUC,aAAa,cAC9BzH,KAAM,SACN4U,UAAWvB,EAAkBxC,8BAC7BuE,UAAU,EACVC,UAAU,GAEZ,CACE/Q,GAAI,wBACJ+B,MAAOmB,EAAAA,UAAUC,aAAa,UAC9BzH,KAAM,SACN4U,UAAWvB,EAAkB9C,0BAC7B6E,UAAU,EACVC,UAAU,GAEZ,CACE/Q,GAAI,oBACJ+B,MAAOmB,EAAAA,UAAUC,aAAa,WAC9BzH,KAAM,SACNoV,UAAU,EACVC,UAAU,GAEZ,CACE/Q,GAAI,oBACJ+B,MAAOmB,EAAAA,UAAUC,aAAa,WAC9BzH,KAAM,SACN4U,UAAWvB,EAAkB7C,4BAC7B4E,UAAU,EACVC,UAAU,GAEZ,CACE/Q,GAAI,sBACJ+B,MAAOmB,EAAAA,UAAUC,aAAa,cAC9BzH,KAAM,SACNoV,UAAU,EACVC,UAAU,GAEZ,CACE/Q,GAAI,sBACJ+B,MAAOmB,EAAAA,UAAUC,aAAa,cAC9BzH,KAAM,SACN4U,UAAWvB,EAAkB/C,yBAC7B8E,UAAU,EACVC,UAAU,GAEZ,CACE/Q,GAAI,oBACJ+B,MAAOmB,EAAAA,UAAUC,aAAa,aAC9BzH,KAAM,OACNoV,UAAU,EACVC,UAAU,GAEZ,CACE/Q,GAAI,kBACJ+B,MAAOmB,EAAAA,UAAUC,aAAa,WAC9BzH,KAAM,WACNoV,UAAU,EACVC,UAAU,GAEZ,CACE/Q,GAAI,0BACJ+B,MAAOmB,EAAAA,UAAUC,aAAa,sBAC9BzH,KAAM,SACNoV,UAAU,EACVC,UAAU,GAEZ,CACE/Q,GAAI,sBACJ+B,MAAOmB,EAAAA,UAAUC,aAAa,eAC9BzH,KAAM,UACNoV,UAAU,EACVC,UAAU,GAEZ,CACE/Q,GAAI,mBACJ+B,MAAOmB,EAAAA,UAAUC,aAAa,gBAC9BzH,KAAM,SACNoV,UAAU,EACVC,UAAU,GAEZ,CACE/Q,GAAI,cACJ+B,MAAOmB,EAAAA,UAAUC,aAAa,WAC9BzH,KAAM,SACNoV,UAAU,EACVC,UAAU,GAEZ,CACE/Q,GAAI,aACJ+B,MAAOmB,EAAAA,UAAUC,aAAa,aAC9BzH,KAAM,SACNoV,UAAU,EACVC,UAAU,GAEZ,CACE/Q,GAAI,gBACJ+B,MAAOmB,EAAAA,UAAUC,aAAa,MAC9BzH,KAAM,SACNoV,UAAU,EACVC,UAAU,GAEZ,CACE/Q,GAAI,cACJ+B,MAAOmB,EAAAA,UAAUC,aAAa,SAC9BzH,KAAM,SACNoV,UAAU,EACVC,UAAU,GAEZ,CACE/Q,GAAI,iBACJ+B,MAAOmB,EAAAA,UAAUC,aAAa,iBAC9BzH,KAAM,SACNoV,UAAU,EACVC,UAAU,GAEZ,CACE/Q,GAAI,oBACJ+B,MAAO,KACPrG,KAAM,SACNoV,UAAU,EACVC,UAAU,GAEZ,CACE/Q,GAAI,YACJ+B,MAAOmB,EAAAA,UAAUC,aAAa,YAC9BzH,KAAM,SACNoV,UAAU,EACVC,UAAU,GAEZ,CACE/Q,GAAI,eACJ+B,MAAOmB,EAAAA,UAAUC,aAAa,MAC9BzH,KAAM,SACNoV,UAAU,EACVC,UAAU,GAEZ,CACE/Q,GAAI,YACJ+B,MAAOmB,EAAAA,UAAUC,aAAa,YAC9BzH,KAAM,SACNoV,UAAU,EACVC,UAAU,GAEZ,CACE/Q,GAAI,kBACJ+B,MAAOmB,EAAAA,UAAUC,aAAa,YAC9BzH,KAAM,SACNoV,UAAU,EACVC,UAAU,GAEZ,CACE/Q,GAAI,UACJ+B,MAAOmB,EAAAA,UAAUC,aAAa,UAC9BzH,KAAM,SACNoV,UAAU,EACVC,UAAU,GAEZ,CACE/Q,GAAI,YACJ+B,MAAOmB,EAAAA,UAAUC,aAAa,YAC9BzH,KAAM,SACNoV,UAAU,EACVC,UAAU,GAEZ,CACE/Q,GAAI,kBACJ+B,MAAOmB,EAAAA,UAAUC,aAAa,YAC9BzH,KAAM,SACNoV,UAAU,EACVC,UAAU,GAEZ,CACE/Q,GAAI,iBACJ+B,MAAOmB,EAAAA,UAAUC,aAAa,aAC9BzH,KAAM,SACNoV,UAAU,EACVC,UAAU,GAEZ,CACE/Q,GAAI,eACJ+B,MAAOmB,EAAAA,UAAUC,aAAa,eAC9BzH,KAAM,SACN4U,UAAWvB,EAAkByB,2BAC7BM,UAAU,EACVC,UAAU,GAEZ,CACE/Q,GAAI,gBACJ+B,MAAOmB,EAAAA,UAAUC,aAAa,YAC9BzH,KAAM,SACNoV,UAAU,EACVC,UAAU,GAEZ,CACE/Q,GAAI,aACJ+B,MAAOmB,EAAAA,UAAUC,aAAa,SAC9BzH,KAAM,SACNoV,UAAU,EACVC,UAAU,GAEZ,CACE/Q,GAAI,mBACJ+B,MAAOmB,EAAAA,UAAUC,aAAa,eAC9BzH,KAAM,SACNoV,UAAU,EACVC,UAAU,GAEZ,CACE/Q,GAAI,YACJ+B,MAAOmB,EAAAA,UAAUC,aAAa,YAC9BzH,KAAM,SACNoV,UAAU,EACVC,UAAU,GAEZ,CACE/Q,GAAI,gBACJ+B,MAAOmB,EAAAA,UAAUC,aAAa,YAC9BzH,KAAM,UACNoV,UAAU,EACVC,UAAU,GAEZ,CACE/Q,GAAI,2BACJ+B,MAAOmB,EAAAA,UAAUC,aAAa,eAC9BzH,KAAM,WACNoV,UAAU,EACVC,UAAU,GAEZ,CACE/Q,GAAI,qBACJ+B,MAAOmB,EAAAA,UAAUC,aAAa,eAC9BzH,KAAM,SACNoV,UAAU,EACVC,UAAU,GAEZ,CACE/Q,GAAI,kBACJ+B,MAAOmB,EAAAA,UAAUC,aAAa,WAC9BzH,KAAM,SACNoV,UAAU,EACVC,UAAU,GAEZ,CACE/Q,GAAI,eACJ+B,MAAOmB,EAAAA,UAAUC,aAAa,eAC9BzH,KAAM,WACNoV,UAAU,EACVC,UAAU,GAEZ,CACE/Q,GAAI,cACJ+B,MAAOmB,EAAAA,UAAUC,aAAa,iBAC9BzH,KAAM,SACNoV,UAAU,EACVC,UAAU,GAEZ,CACE/Q,GAAI,aACJ+B,MAAOmB,EAAAA,UAAUC,aAAa,aAC9BzH,KAAM,SACNoV,UAAU,EACVC,UAAU,GAEZ,CACE/Q,GAAI,oBACJ+B,MAAOmB,EAAAA,UAAUC,aAAa,wBAC9BzH,KAAM,SACNoV,UAAU,EACVC,UAAU,GAEZ,CACE/Q,GAAI,aACJ+B,MAAOmB,EAAAA,UAAUC,aAAa,aAC9BzH,KAAM,SACNoV,UAAU,EACVC,UAAU,GAEZ,CACE/Q,GAAI,aACJ+B,MAAOmB,EAAAA,UAAUC,aAAa,oBAC9BzH,KAAM,SACNoV,UAAU,EACVC,UAAU,GAEZ,CACE/Q,GAAI,cACJ+B,MAAOmB,EAAAA,UAAUC,aAAa,iBAC9BzH,KAAM,SACNoV,UAAU,EACVC,UAAU,GAEZ,CACE/Q,GAAI,YACJ+B,MAAOmB,EAAAA,UAAUC,aAAa,QAC9BzH,KAAM,SACNoV,UAAU,EACVC,UAAU,GAEZ,CACE/Q,GAAI,UACJ+B,MAAOmB,EAAAA,UAAUC,aAAa,UAC9BzH,KAAM,SACNoV,UAAU,EACVC,UAAU,GAEZ,CACE/Q,GAAI,kBACJ+B,MAAOmB,EAAAA,UAAUC,aAAa,WAC9BzH,KAAM,SACNoV,UAAU,EACVC,UAAU,GAEZ,CACE/Q,GAAI,eACJ+B,MAAOmB,EAAAA,UAAUC,aAAa,eAC9BzH,KAAM,WACNoV,UAAU,EACVC,UAAU,GAEZ,CACE/Q,GAAI,WACJ+B,MAAOmB,EAAAA,UAAUC,aAAa,MAC9BzH,KAAM,SACNoV,UAAU,EACVC,UAAU,GAEZ,CACE/Q,GAAI,aACJ+B,MAAOmB,EAAAA,UAAUC,aAAa,QAC9BzH,KAAM,SACNoV,UAAU,EACVC,UAAU,GAEZ,CACE/Q,GAAI,WACJ+B,MAAOmB,EAAAA,UAAUC,aAAa,eAC9BzH,KAAM,SACNoV,UAAU,EACVC,UAAU,GAEZ,CACE/Q,GAAI,UACJ+B,MAAOmB,EAAAA,UAAUC,aAAa,cAC9BzH,KAAM,SACNoV,UAAU,EACVC,UAAU,GAEZ,CACE/Q,GAAI,kBACJ+B,MAAOmB,EAAAA,UAAUC,aAAa,MAC9BzH,KAAM,SACNoV,UAAU,EACVC,UAAU,GAEZ,CACE/Q,GAAI,oBACJ+B,MAAOmB,EAAAA,UAAUC,aAAa,QAC9BzH,KAAM,SACNoV,UAAU,EACVC,UAAU,GAEZ,CACE/Q,GAAI,qBACJ+B,MAAOmB,EAAAA,UAAUC,aAAa,SAC9BzH,KAAM,SACNoV,UAAU,EACVC,UAAU,EACVT,UAAWvB,EAAkBmC,0CAE/B,CACElR,GAAI,mBACJ+B,MAAOmB,EAAAA,UAAUC,aAAa,UAC9BzH,KAAM,SACNoV,UAAU,EACVC,UAAU,KAp6BW,KAw6B3BI,aAAe,SAAC7M,GACd,IAAI8M,EAAY9M,EAAMtE,GAOtB,OANIsE,MAAAA,GAAAA,EAAOgM,YACTc,GAAwB,SACpB9M,EAAMwM,UAILM,GAh7BkB,KAk7B3BC,wBAA0B,WAAyB,IAAxBpB,EAAwB,wDAC3ClL,EAAc,EAAKqL,gBAAe,EAAO,KAAMH,GAC/CqB,EAAe,EAAKjB,kBACpBpL,EAAe,EAAKkL,kBAAiB,EAAO,KAAMF,GAClDX,EAAe,EAAKC,iBAAgB,EAAO,KAAMU,GACjDJ,EAAa,EAAKK,eAAc,EAAO,KAAMD,GAC7CsB,EAAW,GACjBD,EAAajV,SAAQ,SAACmV,GACpBD,EAASC,EAAYxR,IAAMwR,KAE7B3B,EAAWxT,SAAQ,SAACyT,GAClB,IAAM3W,EAAO,cAAH,OAAiB2W,EAAU9P,IACrCuR,EAASpY,GAAQ,CACf4I,MAAO+N,EAAU3W,KACjBmX,UAAWvB,EAAkB6B,oCAC7BtM,MAAOnL,EACP5E,MAAO4E,EACP2X,UAAU,EACVpV,KAAM,SACNuT,QAASa,EAAUb,QACnBwC,SAAS3B,MAAAA,OAAA,EAAAA,EAAW4B,aAAc,OAGtC3M,EAAY1I,SAAQ,SAACsV,GACnBJ,EAAS,QAAUI,EAAW3R,IAAM,CAClCA,GAAI,QAAU2R,EAAW3R,GACzBtE,KAAMiW,EAAWjW,KACjBqG,MAAO4P,EAAW5P,MAClBuO,UACEvB,EAAkB6C,8BAA8BD,EAAWrB,WAC7DQ,SAAUa,EAAWb,aAIzB7L,EAAa5I,SAAQ,SAACwV,GACpBN,EAAS,gBAAkBM,EAAO7R,IAAM,CACtCA,GAAI,gBAAkB6R,EAAO7R,GAC7BtE,KAAMmW,EAAOnW,KACbqG,MAAO8P,EAAO9P,MACduO,UACEvB,EAAkB6C,8BAA8BC,EAAOvB,WACzDQ,SAAUe,EAAOf,aAGrBxB,EAAajT,SAAQ,SAACwV,GACpBN,EAAS,WAAaM,EAAO7R,IAAM,CACjCA,GAAI,WAAa6R,EAAO7R,GACxBtE,KAAMmW,EAAOnW,KACbqG,MAAO8P,EAAO9P,MACduO,UACEvB,EAAkB6C,8BAA8BC,EAAOvB,WACzDQ,SAAUe,EAAOf,aAGrB,IAAIgB,EAAe,GAWnB,OAVAjc,OAAOqG,OAAOqV,GAAUlV,SAAQ,SAACmT,GAE/B,GADAsC,EAAatC,MAAAA,OAAD,EAACA,EAAMxP,IAAMwP,EACrBA,MAAAA,GAAAA,EAAMc,UAAW,CACnB,IAAIc,EAAY,EAAKD,aAAa3B,GAClCsC,EAAaV,GAAb,OACK5B,GADL,IAEExP,GAAIoR,QAIHU,GAn/BkB,KAq/B3BC,yBAA2B,WAItB,IAHHC,EAGG,uDAHQ,CAAC,aAAc,QAC1B/Q,EAEG,uCADHK,EACG,uCACGyD,EAAc,EAAKqL,gBAAe,GAClCkB,EAAe,EAAKjB,kBACpBpL,EAAe,EAAKkL,mBAAmBhP,KAAI,SAACqO,GAAD,cAC5CA,GAD4C,IAE/CxP,GAAI,iBAAkBwP,MAAAA,OAAlB,EAAkBA,EAAMxP,SAE1BiS,EAAgB,GAAH,qBAAOlN,IAAP,aAAuBuM,IAAvB,aAAwCrM,IACrD3D,IACF2Q,EAAgBA,EAAc3Q,OAAOA,IAEvC,IAAImO,EAAY,GAkBhB,OAjBAwC,EAAc5V,SAAQ,SAAC9H,GAEnBA,EAAMyL,GAAG8L,WAAW,QACpBvX,EAAMyL,GAAG8L,WAAW,QACpBvX,EAAMyL,GAAG8L,WAAW,MAEpBkG,EAAS3V,SAAQ,SAAC/B,GAChB,IAAInB,EAAOmB,EAAU,KAAM/F,MAAAA,OAAhB,EAAgBA,EAAOyL,IAClCyP,EAAUtW,GAAV,OACK5E,GADL,IAEE+P,MAAOnL,OAIXsW,EAAUlb,MAAAA,OAAD,EAACA,EAAOyL,IAAMzL,KAGvB0M,EACKpL,OAAOwI,KAAKoR,GAEdA,GAzhCkB,KA2hC3ByC,4BAA8B,WAC5B,OAAO,EAAKH,yBACV,CAAC,OAAQ,eACT,GACA,SAACzN,GAAD,MAA2B,gBAAhBA,MAAAA,OAAA,EAAAA,EAAO5I,UA/hCK,KAmiC3B4G,gBAAkB,WAAM,QACtB,OAAOzM,OAAOwI,KAAP,UAAY,EAAK8B,eAAjB,iBAAY,EAAcyE,WAA1B,aAAY,EAAmBrC,eApiCb,KAuiC3BC,cAAgB,SAACvB,GAAY,UAC3B,OAAIA,EACKpL,OAAOqG,QAAO,YAAKiE,eAAL,mBAAcyE,WAAd,eAAmBnC,aAAc,IAAItB,KACxD,SAAC7N,GAAD,OAAOA,MAAAA,OAAP,EAAOA,EAAGoI,QAEP7F,OAAOwI,MAAK,qBAAMmC,YAAN,eAAYiC,aAAc,KA5iCpB,KA8iC3B0P,0BAA4B,WAc1B,MAAO,CACLxN,YAdkB,CAClBjJ,KAAM,QACNoN,UAAU,EACVC,MAAO,CACLrN,KAAM,OACNQ,OAAQ,EAAKwT,mBAUf0C,gBAPsB,CACtB1W,KAAM,OACNoN,UAAU,EACV5M,OAAQ,CAAC,MAAO,WAAY,kBA1jCL,KAikC3BuM,oBAAsB,SAAC1G,GAAD,gBAAc,YAAcA,EAAQ,QAhkCpD5B,EAAQA,SACVtL,KAAKsL,QAAUA,EAAQA,QACvBtL,KAAKuQ,MAAQjF,EAAQiF,OAAS,GAC9BvQ,KAAK6Q,QAAUvF,EAAQuF,SAAW,IAElC7Q,KAAKsL,QAAUA,EAEjBtL,KAAK0L,KAAOA,EACZ1L,KAAKwd,cAAgB9R,EACrB1L,KAAKyd,QAAS,EACdzd,KAAK0d,cAAgBhS,EACjB,IACAA,EACGiD,QAAQ,KAAM,IACdA,QAAQ,KAAM,IACdA,QAAQ,MAAO,KACfA,QAAQ,MAAO,KAClB,KACCuL,EAAkByD,UACrBzD,EAAkByD,QAAU,4CAGhC,SAAK9Q,EAAStB,GAAU,YASH,EATG,OAClBsB,IAAS7M,KAAK6M,QAAUA,GACxBtB,IAAUvL,KAAKuL,SAAWA,GAC9BvL,KAAK4d,YAAc,CACjBpN,YAAW,QAAG,aAAAxQ,KAAKuL,gBAAL,eAAeiF,cAAe,UAAjC,aAAE,EAAoClE,KAAI,SAAC7N,GAAD,OAAOA,MAAAA,OAAP,EAAOA,EAAGgS,WAC/DE,aAAY,QAAG,aAAA3Q,KAAKuL,gBAAL,eAAeoF,eAAgB,UAAlC,aAAE,EAAqCrE,KAAI,SAAC7N,GAAD,OAAOA,MAAAA,OAAP,EAAOA,EAAGgS,YAEnEzQ,KAAKma,WAAa,GAClBna,KAAK6d,SAAW9K,EAAAA,QAAU+K,MAAM9d,KAAKsL,QAAStL,KAAK0L,MAC/C1L,KAAK6d,UACP7d,KAAKmL,GAAKnL,KAAK+d,eAAe/d,KAAK6d,UACnC7d,KAAKoa,UAAW,UAACpa,KAAK6d,gBAAN,QAAC,EAAezD,SAChCpa,KAAKge,QAAQhe,KAAKsL,QAAStL,KAAK0L,KAAM1L,KAAK6d,UAC3C7d,KAAKma,WAAW3S,SAAQ,SAACyW,GACvBA,EAAUhS,KAAK,EAAKY,QAAS,EAAKtB,cAGpCvL,KAAKyd,QAAS,gCAIlB,SAAeI,GACb,OAAOA,EAAS1S,+BAElB,SAAaY,GACXA,EAAKsH,WAAarT,KAClBA,KAAKma,WAAW/W,KAAK2I,0BAEvB,SAAQT,EAASI,EAAMmS,wCAEvB,WACE,OAAO,SAAClS,qCAEV,SAAiBD,GACf,IAAIK,EAAO,KACX,GAAIL,IAAS1L,KAAK0L,KAChBK,EAAO/L,SACF,q6BACiBA,KAAKma,YADtB,IACL,6BACEpO,EADqC,QACpBmS,iBAAiBxS,OAF/B,+BAMP,OAAOK,0BAET,SAASF,EAAQH,GAAM,WACrB,IACE,GAAIA,EAAM,CACR,IAAMyS,EAAYne,KAAKke,iBAAiBxS,GACxC,QAAIyS,GACKA,EAAU1S,SAASI,GAK9B,GAAI7L,KAAKsa,aAAata,KAAK0L,OAAS1L,KAAKoa,QACvC,OAGF,GADApa,KAAKsa,aAAata,KAAK0L,OAAQ,GAC1B1L,KAAKyd,QAAUzd,KAAKqa,gBAIvB,YAHIra,KAAKoe,eACPvS,EAAOzI,KAAK,CAAEsI,KAAM1L,MAAAA,UAAF,EAAEA,KAAM0L,KAAM7E,KAAM,eAI1C,IAAMwX,EAAmBre,KAAKse,uBAC9B,GAAwB,MAApBD,EAA0B,CAC5BnE,EAAkByD,SAAW,EAC7B,IAAMY,EAAsBF,EACxBG,EAC6B,mBAAxBD,EACHA,EAAoBve,KAAK6d,UACzBU,EACFC,GAAa7f,MAAME,QAAQ2f,IAAcA,EAAUhgB,OAAS,IAC9DggB,EAAUhX,SAAQ,SAACpH,GACjBA,EAAIsL,KAAOtL,EAAIsL,KACXtL,EAAIsL,KADG,UAEJ,EAAK8R,cAFD,YAEkBpd,EAAIqP,OACjCrP,EAAI0O,aAAe1O,MAAAA,OAAnB,EAAmBA,EAAKqP,SAE1B5D,EAAOmO,UAAUwE,IAGrB,IAAKxe,KAAKyd,OAAQ,OAClBzd,KAAKma,WAAW3S,SAAQ,SAACyW,GACvB,OAAOA,EAAUxS,SAASI,MAE5B,MAAOoB,GACP0M,QAAQ8E,IAAIxR,+BAIhB,WACE,OAAO,yBAGT,SAAQb,EAASK,GAAQ,MACnBqE,GAAO,UAAA9Q,KAAKuL,gBAAL,eAAeuF,OAAQ,GAIlC,OAHIrE,IACFqE,EAAOA,EAAKrE,OAAOA,IAEjBL,EACK0E,EAAKxE,KAAI,SAACyD,GAAD,OAASA,MAAAA,OAAT,EAASA,EAAK5E,MAEzB2F,+BAET,WAAqE,MAElD,EAaJ,EAfD4N,IAAuD,yDAAvCC,EAAuC,wDAApBC,IAAoB,yDAC/DrO,GAAQ,UAAAvQ,KAAKuL,gBAAL,eAAeiF,cAAe,GAc1C,OAbIoO,IACFrO,EAAK,QAAI,EAAAA,GAAS,UAAb,aAAG,EAAe9D,QAAO,SAAChO,GAAD,QAAQA,MAAAA,GAAAA,EAAGogB,YAEvCF,IACFpO,EAAQ,GAAH,qBACAA,GADA,CAEH,CACEE,QACE,+DACF/Q,MAAO,mEAITgf,EACF,UAAOnO,SAAP,aAAO,EAAOjE,KAAI,SAAC7N,GAAD,OAAOA,MAAAA,OAAP,EAAOA,EAAGgS,WAEvBF,iCAET,WAAqD,MAElC,EAGJ,EALCmO,EAAqC,wDAApBE,IAAoB,yDAC/ClO,GAAS,UAAA1Q,KAAKuL,gBAAL,eAAeoF,eAAgB,GAI5C,OAHIiO,IACFlO,EAAM,QAAI,EAAAA,GAAU,UAAd,aAAG,EAAgBjE,QAAO,SAAChO,GAAD,QAAQA,MAAAA,GAAAA,EAAG2b,aAEzCsE,EACF,UAAOhO,SAAP,aAAO,EAAQpE,KAAI,SAAC7N,GAAD,OAAOA,MAAAA,OAAP,EAAOA,EAAGgS,WAExBC,kCAET,WAA+C,MAE5B,EAGJ,EALEgO,EAA8B,wDAAbE,EAAa,uCACzC/N,GAAU,UAAA7Q,KAAKuL,gBAAL,eAAesF,UAAW,GAIxC,OAHI+N,IACF/N,EAAO,QAAI,EAAAA,GAAW,UAAf,aAAG,EAAiBpE,QAAO,SAAChO,GAAD,QAAQA,MAAAA,GAAAA,EAAG2b,aAE3CsE,EACF,UAAO7N,SAAP,aAAO,EAASvE,KAAI,SAAC7N,GAAD,OAAOA,MAAAA,OAAP,EAAOA,EAAG0M,MAEzB0F,EAAQvE,KAAI,SAACwS,GAAD,cAAkBA,GAAlB,IAA0B5R,MAAO4R,MAAAA,OAAF,EAAEA,EAAQC,0CAc9D,WACuB,YAKrB,OALK/e,KAAKgf,YACRhf,KAAKgf,UAAL,UAAkBhe,OAAOqG,OAAP,UAAcrH,KAAKsL,eAAnB,iBAAc,EAAcyE,WAA5B,aAAc,EAAmB1D,QAAU,UAA7D,iBAAiB,EACbI,QAAO,SAACC,GAAD,MAAoB,SAAZA,EAAG7F,eADtB,aAAiB,EAEbyF,KAAI,SAACI,GAAD,aAAQA,MAAAA,GAAR,UAAQA,EAAIH,iBAAZ,aAAQ,EAAejI,SAE1BtE,KAAKgf,+CAu4Bd,SACEnY,EACA4I,EACAF,EACA0B,EACAgO,EACAxQ,GAEA,MAAO,CACL5H,KAAAA,EACA4H,QAAAA,EACAgB,MAAAA,EACAF,OAAAA,EACA0P,mBAAoBA,GAAsBhO,EAC1CA,SAAAA,SAtoCeiJ,eAAAA,EACZ/C,yBAA2B,OADf+C,EAEZ9C,0BAA4B,QAFhB8C,EAGZ7C,4BAA8B,SAHlB6C,EAIZ5C,wBAA0B,OAJd4C,EAKZ3C,iCAAmC,QALvB2C,EAMZ1C,wBAA0B,OANd0C,EAOZyB,2BAA6B,OAPjBzB,EAQZgF,sBAAwB,MARZhF,EASZzC,+BAAiC,QATrByC,EAUZ6B,oCAAsC,aAV1B7B,EAWZiF,uCAAyC,eAX7BjF,EAYZmC,yCAA2C,QAZ/BnC,EAaZxC,8BAAgC,YAbpBwC,EAeZ4B,iBAAmB,eAfP5B,EAgBZ0B,eAAiB,SAhBL1B,EAiBZ2B,gBAAkB,UAjBN3B,EAkBZwB,eAAiB,SAlBLxB,EAmBZkF,aAAe,OAnBHlF,EAoBZ8B,mBAAqB,YApBT9B,EAsBZ6C,8BAAgC,CACrC5F,yBAA0B+C,EAAkB/C,yBAC5CC,0BAA2B8C,EAAkB9C,0BAC7CC,4BAA6B6C,EAAkB7C,4BAC/CC,wBAAyB4C,EAAkB5C,wBAC3CyE,oCACE7B,EAAkB6B,oCACpBxE,iCACE2C,EAAkB3C,iCACpBC,wBAAyB0C,EAAkB1C,wBAC3CmE,2BAA4BzB,EAAkByB,2BAC9CuD,sBAAuBhF,EAAkBgF,sBACzCzH,+BACEyC,EAAkBzC,+BACpB0H,uCACEjF,EAAkBiF,uCACpB9C,yCAA0C,sLC/C9C,aACA,iBAEqBgD,EAAAA,SAAAA,udACnB,WAAY/T,EAASI,GAAM,mCACzB,cAAMJ,EAASI,IACV2O,iBAAkB,EAFE,8CAI3B,SAAQ/O,EAASI,EAAMmS,wCAEvB,WACE,IAAMhS,EAAS,GACTmH,EAAOhT,KAAKsd,4BAClBtK,EAAKlD,YAAYmE,UAAW,EAC5B,IAAMqL,GAAoB,eAAevL,QAAQf,GAEjD,OADAnH,EAAOmO,UAAUsF,GAAkBtf,MAAAA,UAAA,EAAAA,KAAM6d,WAAU,KAC5ChS,QAbUwT,CAAuBnF,EAAAA,sMCH5C,aACA,UACA,cAIqBqF,EAAAA,SAAAA,udACnB,WAAYjU,EAASI,GAAM,wCACnBJ,EAASI,+CAEjB,SAAQJ,EAASI,EAAMmS,wCAEvB,WAAuB,YACfhS,EAAS,GAOf,OANG7L,MAAAA,MAAA,UAAAA,KAAM6d,gBAAN,mBAAgB7J,kBAAhB,eAA4BxV,QAAS,EACtCqN,EAAOmO,WAAU,IAAAwF,kBAAiBxf,KAAKsL,QAAStL,KAAKuL,SAApC,CAA8CvL,MAAAA,UAA9C,EAA8CA,KAAM6d,WAE/D7d,MAAAA,MAAH,UAAGA,KAAM6d,gBAAT,iBAAG,EAAgB7J,kBAAnB,OAAG,EAA4BxV,QAClCqN,EAAOmO,WAAU,IAAAyF,mBAAkBzf,KAAKsL,QAAStL,KAAKuL,SAArC,CAA+CvL,MAAAA,UAA/C,EAA+CA,KAAM6d,WAEjEhS,QAdU0T,CAAuBrF,EAAAA,uMCN5C,aACA,aACA,aACA,IAiBM7F,GAAQ,eAAeN,QAjBd,CACb5I,GAAI,CACFtE,KAAM,UAER6Y,OAAQ,CACN7Y,KAAM,WAER8Y,MAAO,CACL9Y,KAAM,SAAUoN,UAAS,GAE3B3P,KAAM,CACJuC,KAAM,SAAUoN,UAAS,GAE3BpH,QAAS,CACPhG,KAAM,YAOJ+Y,GAAY,eAAe7L,QAHd,CACjBzP,KAAM,iBAGaub,EAAAA,SAAAA,udACnB,WAAYvU,EAASI,GAAM,wCACnBJ,EAASI,+CAGjB,SAAQJ,EAASI,EAAMmS,GAAU,WAC/B7d,KAAK0f,OAAS7B,EAAS6B,OACpB7B,EAAShR,SAAW7L,OAAOwI,KAAKqU,EAAShR,SAASrO,OAAS,GAC5DwC,OAAOwI,KAAKqU,EAAShR,SAASrF,SAAQ,SAACsY,GACrC,EAAKC,aAAa,IAAIC,EAAAA,QAAW1U,EAAf,2BAA4CuS,EAAS1S,GAArD,oBAAmE2U,4CAK3F,WACE,IAAMjU,EAAS,GACToU,EAAc5L,EAAMrU,KAAK6d,UAI/B,GAHIlf,MAAME,QAAQohB,IAChBpU,EAAOmO,UAAUiG,GAEfjgB,KAAK6d,SAAS6B,OAAQ,CACxB,IAAM9X,EAASgY,EAAU5f,KAAK6d,UAC1Blf,MAAME,QAAQ+I,IAChBiE,EAAOmO,UAAUpS,GAGrB,OAAOiE,QA1BUgU,CAAwB3F,EAAAA,gOCzB7C,aACA,UACA,UACA,aACA,UAcA,SAASgG,EAAqBvf,GAAM,UAC3Bmd,GAASnd,GAAS,IAAlBmd,MACDqC,EAAwBngB,KAAKsd,4BAC7B8C,GAAO,aAAa,CAACtM,6BAA6B,IAAOC,QAAQ,CAAC+J,MAAO,CAACjX,KAAM,SAAUlG,MAAQwf,IAA3F,CAAoHxf,GACjI,OAAIyf,MAAAA,GAAAA,EAAM5hB,OACD4hB,GAENtC,MAAAA,GAAA,UAAAA,EAAO9J,kBAAP,eAAmBxV,QAAS,GACtB,IAAAghB,kBAAiBxf,KAAKsL,QAAStL,KAAKuL,SAApC,CAA8CuS,GAE/CA,MAAAA,GAAH,UAAGA,EAAO9J,kBAAV,iBAAG,EAAmBA,kBAAtB,OAAG,EAA+BxV,QAC9B,IAAAihB,mBAAkBzf,KAAKsL,QAAStL,KAAKuL,SAArC,CAA+CuS,GAEjD,GAET,IAAMuC,GAAgB,eAAetM,QAAQ,CAC3C5I,GAAI,kBACJtE,KAAM,CACJA,KAAM,OACNQ,OAAQ,CACN,4BACA,yBACA,sBACA,qBACA,cACA,YACA,YACA,WACA,mBACA,eACA,sBACA,qBACA,YACA,eACA,qBACA,iCACA,4BACA,yBACA,qBACA,8BACA,6BACA,8BACA,+BACA,0BACA,qBACA,oBACA,mBACA,oBACA,2BACA,8BACA,+BAGJ1G,MAAO,CACLkG,KAAM,SACNoN,UAAU,EACVtT,MAAO,CACL2f,UAAW,CACTzZ,KAAM,SACNoN,UAAU,EACVtT,MAAO,CACLwK,GAAI,SACJoV,SAAU,WAGd1R,OAAQ,CACNhI,KAAM,SACNoN,UAAU,EACVtT,MAAO,CACL8E,QAAS,CACPoB,KAAM,OACNQ,OAAQ,CAAC,SAAU,OAAQ,mBAOjCmZ,EACJ,wJACIpN,GAAS,eAAeW,QAAQ,CACpC5I,GAAI,SACJsV,MAAO,SACP5Z,KAAM,CACJA,KAAM,OACNQ,OAAQ,CACN,4BACA,yBACA,qBACA,sBACA,cACA,YACA,YACA,WACA,mBACA,eACA,sBACA,qBACA,YACA,eACA,qBACA,oBACA,mBACA,qBAGJ1G,MAAO,CACLkG,KAAM,SACNoN,UAAU,EACVtT,MAAO,CACL2f,UAAW,CACTzZ,KAAM,SACNoN,UAAU,EACVtT,MAAO,CACLwK,GAAI,SACJoV,SAAU,WAGd1R,OAAQ,CACNhI,KAAM,SACNoN,UAAU,EACVtT,MAAO,CACL8E,QAAS,CACPoB,KAAM,OACNQ,OAAQ,CAAC,SAAU,OAAQ,mBAOjCqZ,EAAoB,CAAC,kBAAmB,uBACxCC,GAAoB,eAAe5M,QAAQ,CAC/CrT,OAAQ,CACNmG,KAAM,SACNlG,MAAO,CACLkG,KAAM,CACJA,KAAM,OACNQ,OAAQ,CAAC,QAAS,aAIxBuZ,IAAK,uBAEDC,GAA6B,eAAe9M,QAAQ,CACxD6M,IAAK,uBAuBDE,IAdqC,eAAe/M,QAAQ,CAChElF,OAAQ,CACNhI,KAAM,SACNlG,MAAO,CACL8E,QAAS,CACPoB,KAAM,OACNQ,OAAQ,CAAC,SAAU,OAAQ,eAIjC0Z,iBAAkB,CAChBla,KAAM,aAGsB,eAAekN,QAAQ,CACrD4L,MAAO,kBACPqB,KAAM,CACJ/M,UAAU,EACVpN,KAAM,OACNQ,OAAQ,CAAC,QAAS,SAAU,QAAS,kBAGnC4Z,GAAwB,eAAelN,QAAQ,CACnDmN,eAAgB,CACdra,KAAM,SACNiQ,SAAU,CACRyJ,SAAU,+BAIVY,GAAwB,eAAepN,QAAQ,CACnD4L,MAAO,CACL9Y,KAAM,SACNiQ,SAAU,CACRyJ,SAAU,4BAGd1Z,KAAM,CACJA,KAAM,OACNQ,OAAQ,CAAC,OAAQ,QAAS,UAAW,YAEvC+Z,KAAM,CACJva,KAAM,OACNQ,OAAQ,CACN,eACA,qBACA,uBACA,gBAGJoH,QAAS,CACP5H,KAAM,SACNoN,UAAU,GAEZoN,SAAU,CACRxa,KAAM,SACNya,IAAK,EACLC,IAAK,IAEPC,SAAU,CACR3a,KAAM,OACNQ,OAAQ,CACN,WACA,WACA,aACA,YACA,cACA,gBACA,mBAIe2Y,EAAAA,SAAAA,udACnB,WAAY1U,EAASI,EAAM+V,GAAU,mCACnC,cAAMnW,EAASI,IACV+V,SAAWA,EAFmB,8CAKrC,SAAQnW,EAASI,EAAMmS,GAAU,MAC/B7d,KAAK0hB,OAAL,UAAc7D,EAASld,aAAvB,aAAc,EAAgB+gB,2CAEhC,WAAuB,oBAiMmBniB,EAChCoiB,EAjMFC,EAAoB5hB,KAAK6hB,eAAc,GAAM,GAAM,GACnDlR,EAAY,UAAG3Q,KAAK4d,mBAAR,aAAG,EAAkBjN,aACjCmR,EAAiBpB,EAAkBqB,OAAOH,GAE1CpU,GADiBxN,KAAKub,gBAAe,GAC7Bva,OAAOqG,QAAO,UAAArH,KAAKsL,eAAL,mBAAcyE,WAAd,eAAmBvC,QAAS,IAAIlB,KAC1D,SAAC0V,GAAD,OAAUA,MAAAA,OAAV,EAAUA,EAAM7W,OAEZ8W,EAAsBjiB,KAAKkd,yBAC/B,CAAC,OAAQ,eACT,GACA,SAACzN,GAAD,MAA2B,YAAhBA,MAAAA,OAAA,EAAAA,EAAO5I,SAEdqb,GAAmB,aAAa,CACpCpO,6BAA6B,IAC5BC,QAAQ,CACToO,YAAa,CACXtb,KAAM,SACNqG,MAAO,OACPkV,OAAQ,SAAC1iB,EAAOmM,GACE,gBAAgBtH,KAAK8d,OAAO3iB,KAGhCoiB,EAAepT,SAAShP,IAClCmM,EAAOzI,KAAK,CACVyD,KAAM,OACNoK,SAAU6Q,EACVvS,OAAQ7P,EACR+O,QAAS,yBAKfqI,SAAU,CACRyJ,SAAUvgB,KAAK4T,oBAAoB,YAInC0O,GAAwB,eAAevO,QAAQ,CACnDwO,sBAAuB,CACrB1b,KAAM,OACNQ,OAAQ,CACN,oBACA,gBACA,aACA,eAGJqJ,OAAQ,CACN7J,KAAM,QACNoN,SACiD,uBAA/C,UAAAjU,KAAK6d,SAASld,aAAd,eAAqB4hB,uBACvBrO,MAAO,CACLrN,KAAM,OACNQ,OAAQsJ,GAAgB,GACxBmG,SAAU,CACR0L,UAAWxiB,KAAK4T,oBAAoB,SACpC2M,SAAUvgB,KAAK4T,oBAAoB,cAKrC6O,GAAyB,eAAe1O,QAAQ,CACpD2O,uBAAwB,CACtB7b,KAAM,OACNQ,OAAQ,CACN,cACA,cACA,iBACA,uBAGJwJ,QAAS,CACPhK,KAAM,QACNqN,MAAO,CACLrN,KAAM,SACNlG,MAAO,CACLkG,KAAM,CACJA,KAAM,OACNQ,OAAQ,CAAC,eAAgB,eAE3B3H,MAAO,CACLmH,KAAM,OACNQ,OAAQ,GAAF,gCACA,UAAArH,KAAKuL,gBAAL,eAAesF,UAAW,UAD1B,aACD,EAAgCvE,KAAI,SAAC7N,GAAD,OAAOA,MAAAA,OAAP,EAAOA,EAAG0M,OAD7C,CAEJ,MACA,uBACA,wBACA,6BACA,yBACA,6BAEF2L,SAAU,CACR0L,UAAWxiB,KAAK4T,oBAAoB,UACpC2M,SAAUvgB,KAAK4T,oBAAoB,iBAkCzC+O,GAA4B,aAAa,CAC7C7O,6BAA6B,IAC5BC,QAAQ,CACTtF,QAAS,SACTmU,QAAS,SACTC,oBAAqB,CACnBhc,KAAM,QACNqN,MAAO,CACLrN,KAAM,SACNwN,MApC2B,SAAC3U,EAAOmM,EAAQuH,GAAW,QACM,IAYzD,IAJP,KARMA,MAAAA,GAAA,UAAAA,EAAQzS,aAAR,mBAAekG,YAAf,eAAqBQ,SAAU,IAAIqH,SAAShP,MAAAA,OAA7C,EAA6CA,EAAOmH,OACvDgF,EAAOzI,KAAK,CACVyD,KAAM,YACN0I,OAAQ7P,MAAAA,OAAF,EAAEA,EAAOmH,KACf4I,MAAO,OACPwB,UAAUmC,MAAAA,GAAA,UAAAA,EAAQzS,aAAR,mBAAekG,YAAf,eAAqBQ,SAAU,KAGzB,WAAhB3H,MAAAA,OAAA,EAAAA,EAAOmH,MACJ2Z,EAAgBjc,KAAK7E,MAAAA,OAArB,EAAqBA,EAAOyL,KAC/BU,EAAOzI,KAAK,CAAEyD,KAAM,QAAS0I,OAAQ7P,MAAAA,OAAF,EAAEA,EAAOyL,GAAIsE,MAAO,YAGzD,GAAoB,eAAhB/P,MAAAA,OAAA,EAAAA,EAAOmH,YAEJ,MAAMuM,MAAAA,GAAA,UAAAA,EAAQzS,aAAR,mBAAewK,UAAf,eAAmB9D,SAAU,IAAIqH,SAAShP,MAAAA,OAA3C,EAA2CA,EAAOyL,IAAK,SACjEU,EAAOzI,KAAK,CACVyD,KAAM,YACN0I,OAAQ7P,MAAAA,OAAF,EAAEA,EAAOyL,GACfsE,MAAO,KACPwB,UAAUmC,MAAAA,GAAA,UAAAA,EAAQzS,aAAR,mBAAewK,UAAf,eAAmB9D,SAAU,KAI7C,OAAO3H,GAYHiB,MAAO,CACLkG,KAAM,CACJA,KAAM,OACNQ,OAAQ,CACN,eACA,YACA,cACA,kBACA,mBACA,iBACA,UAGJ8D,GAAI,CACFtE,KAAM,OACNQ,OAAQ,GAAF,gCACA,UAAArH,KAAKuL,gBAAL,eAAesF,UAAW,UAD1B,aACD,EAAgCvE,KAAI,SAAC7N,GAAD,OAAOA,MAAAA,OAAP,EAAOA,EAAG0M,QAD7C,aAEAqC,GAAS,KAFT,aAGAyU,GAAuB,IAHvB,CAIJ,uBACA,wBACA,6BACA,yBACA,2BACA,qBAGJa,cAAe,wBAKjBC,GAAqB,eAAehP,QAAQ,CAChDiP,OAAQ,CACNnc,KAAM,OACNQ,OAAQrH,KAAKwM,aACbsK,SAAU,CACR0L,UAAWxiB,KAAK4T,oBAAoB,QACpC2M,SAAUvgB,KAAK4T,oBAAoB,UAGvClT,OAAQ,CACNmG,KAAM,SACNlG,MAAO,CACLkG,KAAM,CACJA,KAAM,OACNQ,OAAQ,CAAC,UAAW,QAAS,SAAU,aAI7CR,KAAM,CACJA,KAAM,OACNQ,OAAQ,CAAC,WAAY,eAwDnB4b,GAAqB,eAAelP,QAAQ,CAChD2N,OAAQ,CACN7a,KAAM,OACNQ,OAAQrH,KAAKoN,YAAW,GAAO,SAAC3O,GAAD,uBAC7B,CAAC,OAAQ,qBADoB,aAC7B,EAAwBiQ,SAASjQ,MAAAA,OAAjC,EAAiCA,EAAGoI,SAEtCiQ,SAAU,CACR0L,UAAWxiB,KAAK4T,oBAAoB,QACpC2M,SAAUvgB,KAAK4T,oBAAoB,UAGvClT,OAAQ,CACNmG,KAAM,SACNlG,MAAO,CACLkG,KAAM,CACJA,KAAM,OACNQ,OAAQ,CAAC,UAAU,SAAU,SAAU,cAKzCwE,EAAS,GAOf,GANI7L,KAAKyhB,SACP5V,EAAOmO,UAAUqG,EAAcrgB,KAAK6d,WAEpChS,EAAOmO,UAAU5G,EAAOpT,KAAK6d,WAE/B7d,KAAKwd,cAAL,UAAwBxd,KAAK0L,KAA7B,UAC2B,cAAvB1L,KAAK6d,SAAShX,KAChBgF,EAAOmO,UAAUkI,EAAiBliB,KAAK6d,SAASld,OAAS,UACrD,GAA2B,iBAAvBX,KAAK6d,SAAShX,KACtBgF,EAAOmO,UAAUkG,EAAqBne,KAAK/B,KAAMA,KAAK6d,SAASld,OAAS,UAClE,GAA2B,uBAAvBX,KAAK6d,SAAShX,KACxBgF,EAAOmO,UAAUsI,EAAsBtiB,KAAK6d,SAASld,OAAS,UACzD,GAA2B,wBAAvBX,KAAK6d,SAAShX,KACvBgF,EAAOmO,UAAUyI,EAAuBziB,KAAK6d,SAASld,OAAS,UAC1D,GAA2B,8BAAvBX,KAAK6d,SAAShX,KACvBgF,EAAOmO,UAAU2I,EAA0B3iB,KAAK6d,SAASld,OAAS,UAC7D,GACkB,2BAAvBX,KAAK6d,SAAShX,MACS,uBAAvB7G,KAAK6d,SAAShX,MACS,wBAAvB7G,KAAK6d,SAAShX,KACd,SACM4V,EAAezc,KAAKwc,yBAAwB,GAC5C0G,EAAmBliB,OAAOwI,KAAKiT,GAAc,IAC7C0G,EAAU,UAAGniB,OAAOwI,MACxB,UAAAxJ,KAAK6d,SAASld,aAAd,eAAqBogB,mBAAoB,WAD3B,aAAG,EAEf,GACEqC,EAAgBF,EAAiB9R,MAAK,SAAA3S,GAAC,OAAIA,EAAEiQ,SAASyU,MAC5D,GAAIC,EAAe,CACjB,IAAM3T,EAAQgN,EAAa2G,GACrBlW,GAAQuC,MAAAA,OAAA,EAAAA,EAAOvC,SAAQuC,MAAAA,OAAf,EAAeA,EAAOnL,MAChCmL,MAAAA,GAAAA,EAAO2K,QAMTvO,EAAOzI,KAAK,CACVsI,KAAM1L,KAAKwd,cACX3W,KAAM,kBACN4H,QAASJ,EAAAA,UAAUC,aAAa,8BAA+B+U,MAC/DpjB,KAAM,CAACiN,MATTlN,KAAKwd,cAAL,UAAwBxd,KAAK0L,KAA7B,mCAA4DyX,GAC5DtX,EAAOmO,WA3G2Bza,EA4GD4jB,EA3G/BxB,GAA8B,aAAa,CAAC7N,6BAA6B,IAAOC,QAAQ,CAC5FgN,iBAAkB,CAChBla,KAAM,SACNlG,OAAO,EAAF,cACFpB,EAAM,CACLsH,KAAM,SACNoN,UAAU,EACVtT,MAAO,CACLkG,KAAM,CACJA,KAAM,OACNoN,UAAU,EACV5M,OAAQ,CAAC,cAAe,QAAS,OAAQ,WAAY,SAAU,UAAW,eAE5EkM,UAAW,CACT1M,KAAM,OACNoN,UAAU,EACV5M,OAAQ,CAAC,QAAS,aAEpB3H,MAAO,CACLmH,KAAM,SACNuN,UAAU,EACVhJ,QAAS,kBACTiJ,MAAO,SAAC3U,EAAOmM,EAAQuH,EAAQ1H,EAAM2H,GAWnC,MATY,oBAAV3T,GAC0B,cAA1B2T,MAAAA,OAAA,EAAAA,EAAYE,YAEZ1H,EAAOzI,KAAK,CAAEyD,KAAM,WAAY4I,MAAO,YAEpB9Q,MAAME,QAAQa,IAASsB,OAAOqG,OAAO3H,GAAOlB,SAAWkB,EAAMlB,QACrC,WAA1B6U,MAAAA,OAAA,EAAAA,EAAYE,YAC7B1H,EAAOzI,KAAK,CAAEyD,KAAM,WAAY4I,MAAO,QAAShB,QAASJ,EAAAA,UAAUC,aAAa,qBAE3E5O,QAOnBmP,OAAQ,CACNhI,KAAM,SACNlG,MAAO,CACL8E,QAAS,CACPoB,KAAM,OACNQ,OAAQ,CAAC,SAAU,OAAQ,iBAK5Bsa,GAyD0C3hB,KAAK6d,SAASld,OAAS,WAYtEX,KAAKwd,cAAL,UAAwBxd,KAAK0L,KAA7B,2BACAG,EAAOzI,KAAK,CACVsI,KAAM1L,KAAKwd,cACX3W,KAAM,kBACN4H,QAASJ,EAAAA,UAAUC,aAAa,2BAChCrO,KAAM,CAAC,WAGN,GAA2B,cAAvBD,KAAK6d,SAAShX,KACvBgF,EAAOmO,UAAU+I,EAAmB/iB,KAAK6d,SAASld,OAAS,KAQ1B,aAA7BX,KAAK6d,SAASld,MAAMkG,MACtBgF,EAAOmO,UAAU6G,EAA2B7gB,KAAK6d,SAASld,OAAS,UAEhE,GAA2B,aAAvBX,KAAK6d,SAAShX,KACvBgF,EAAOmO,UAAU2G,EAAkB3gB,KAAK6d,SAASld,OAAS,UACrD,GAA2B,cAAvBX,KAAK6d,SAAShX,KAAsB,SAC7CgF,EAAOmO,UAAUiJ,EAAmBjjB,KAAK6d,SAASld,OAAS,KAOjB,YAAtC,UAAAX,KAAK6d,SAASld,aAAd,mBAAqBD,cAArB,eAA6BmG,QAC/B7G,KAAKwd,cAAL,UAAwBxd,KAAK0L,KAA7B,iBACAG,EAAOmO,UAAU8G,EAAwB9gB,KAAK6d,SAASld,MAAMD,cAE/B,sBAAvBV,KAAK6d,SAAShX,KACvBgF,EAAOmO,UAAUiH,EAAsBjhB,KAAK6d,SAASld,OAAS,KAC9B,qBAAvBX,KAAK6d,SAAShX,MACvBgF,EAAOmO,UAAUmH,EAAsBnhB,KAAK6d,SAASld,OAAS,KAEhE,OAAOkL,QAzWUmU,CAAmB9F,EAAAA,gOCpPxC,aACA,aAEA,YACA,aACA,aACA,aACA,aACA,aACA,YACA,aAEA,GADA,WACA,YACA,YACA,UACA,aACA,YACA,aACA,iBAEqBlO,EAAAA,SAAAA,udAEnB,WAAYV,EAAS6H,GAAS,kCAC5B,cAAM7H,EAAS,OACX6H,IAAS,EAAK5H,SAAW4H,GAFD,2DAK9B,WACE,IA6BMmQ,GA7Be,aAAa,CAChCxP,6BAA6B,IAC5BC,QAAQ,CACT5I,GAAI,SACJoY,cAAe,CACb1c,KAAM,SACN2c,MAAOC,EAAAA,2BAETnf,KAAM,0BACNof,KAAM,CACJ7c,KAAM,SACNwN,MAAO,SAAC3U,EAAOmM,GAQb,OAPI8X,EAAAA,mBAAmBjV,SAAShP,IAC9BmM,EAAOzI,KAAK,CACVyD,KAAM,WACNqG,MAAO,WACP+D,SAAU0S,EAAAA,qBAGPjkB,IAGXkkB,YAAa,mCACb/c,KAAM,CACJA,KAAM,OACNQ,OAAQ,CAAC,aAAc,YAEzBwc,OAAQ,kBAEQC,CAAa9jB,KAAKsL,QAAQyE,KACxCgU,EAAYplB,MAAME,QAAQykB,GAAaA,EAAY,GAOvD,OANAtjB,KAAKgkB,cAAcxc,SAAQ,SAACyc,GAC1B,IAAIpY,EAASoY,EAAQ3F,uBACjBzS,GAAUA,EAAOrN,OAAS,GAC5BulB,EAAU9J,OAAV,MAAA8J,EAAS,CAAQA,EAAUvlB,OAAQ,GAA1B,qBAAgCqN,QAGtCkY,yBAET,SAAQzY,EAASI,EAAMmS,GAAU,iBAC/B7d,KAAK+f,aAAa,IAAImE,EAAAA,QAAY5Y,EAAS,6BAC3CtL,KAAK+f,aACH,IAAIoE,EAAAA,QAAuB7Y,EAAS,oCAElCA,MAAAA,GAAJ,UAAIA,EAASyE,WAAb,iBAAI,EAAcrC,oBAAlB,iBAAI,EAA4B0W,uBAAhC,OAAI,EAA6CC,SAC/CrkB,KAAK+f,aACH,IAAIuE,EAAAA,QAAoBhZ,EAAS,qCAGrCtL,KAAK+f,aAAa,IAAIwE,EAAAA,QAAoBjZ,EAAS,wBACnDtL,KAAK+f,aAAa,IAAIyE,EAAAA,QAAUlZ,EAAS,cACzCtL,KAAK+f,aAAa,IAAI0E,EAAAA,QAAiBnZ,EAAS,qBAC7ByH,EAAAA,QAAU+K,MAC3BxS,EACA,2CAGAtL,KAAK+f,aACH,IAAI2E,EAAAA,QACFpZ,EACA,2CAIN,IAAIqZ,EAAgB3kB,KAAK8a,gBAAe,GACpC6J,MAAAA,GAAAA,EAAenmB,QACjBmmB,EAAcnd,SAAQ,SAACod,GACrB,EAAK7E,aACH,IAAI8E,EAAAA,QAAevZ,EAAS,mBAAqBsZ,OAIvD,IAAIE,EAAgB9kB,KAAKub,gBAAe,GACpCuJ,MAAAA,GAAAA,EAAetmB,QACjBsmB,EAActd,SAAQ,SAACud,GACrB,EAAKhF,aACH,IAAIiF,EAAAA,QACF1Z,EACA,oCAAsCyZ,OAK9C,IAAI9U,EAAQjQ,KAAKoN,YAAW,GACxB6C,MAAAA,GAAAA,EAAOzR,QACTyR,EAAMzI,SAAQ,SAACyd,GACT,CAAC,OAAQ,cAAcvW,SAASuW,EAAKpe,MACvC,EAAKkZ,aACH,IAAImF,EAAAA,QAAS5Z,EAAS,6BAA+B2Z,EAAK9Z,KAErC,UAAd8Z,EAAKpe,MACd,EAAKkZ,aACH,IAAIoF,WAAW7Z,EAAS,6BAA+B2Z,EAAK9Z,QAKpE,IAAIia,EAAeplB,KAAK+a,iBAAgB,GACpCqK,MAAAA,GAAAA,EAAc5mB,QAChB4mB,EAAa5d,SAAQ,SAAC6d,GACpB,EAAKtF,aACH,IAAIuF,EAAAA,QAAcha,EAAS,kCAAoC+Z,OAIrErlB,KAAKulB,sBAAsB1H,wCAG7B,SAAsBA,GACpB7d,KAAKgkB,cAAgB,GACrBhkB,KAAKwlB,uBAAuB,MAAO3H,EAAU7d,KAAKgkB,qDAEpD,SAAuBtY,EAAMmS,EAAUmG,GAAe,WACpD,GAAInG,MAAAA,GAAAA,EAAUzD,UAAiC,KAAtByD,MAAAA,OAAA,EAAAA,EAAUwG,SAAmB,OAAO,EAC7D,GAAI1lB,MAAME,QAAQgf,GAChBA,EAASrW,SAAQ,SAACmT,EAAM8K,GACtB,EAAKD,uBAAuB9Z,EAAO,IAAM+Z,EAAO9K,EAAMqJ,WAEnD,GAAwB,iBAAbnG,GAChB,GAAIA,EAAS6H,QAAQ,OAAS,EAC5B,IACsBC,EAAAA,QAASC,MAAM/H,GAAY,IACjCrW,SAAQ,SAACmT,GACrB,GAAgB,SAAZA,EAAK,IAA6B,MAAZA,EAAK,GAAY,CACzC,IAAIkL,EAAMlL,EAAK,GACTmL,EAAe,IAAIrS,EAAAA,QAAa,EAAKnI,QAASI,EAAMma,GAC1DC,EAAa7Z,KAAK,EAAKY,QAAS,EAAKtB,UACrCyY,EAAc5gB,KAAK0iB,OAGvB,MAAO1lB,UAEFyd,aAAoB7c,QAC7BA,OAAOmS,QAAQ0K,GAAUrW,SAAQ,YAAkB,yBAAhBjI,EAAgB,KAAXG,EAAW,KACjD,EAAK8lB,uBAAuB9Z,EAAO,IAAMnM,EAAKG,EAAOskB,YA9IxChY,CAAgBkO,EAAAA,qBAAhBlO,EACZ+Z,SAAW,oMCrBpB,aACA,YACA,4lBAGqBlB,EAAAA,SAAAA,udACnB,WAAYvZ,EAASI,GAAM,wCACnBJ,EAASI,+CAGjB,SAAQJ,EAASI,EAAMsa,GAAY,WAC3BtR,EAAQ1T,OAAOqG,QAAO2e,MAAAA,OAAA,EAAAA,EAAYtR,QAAO,IAC5CA,MAAAA,GAAAA,EAAOlW,QAAPkW,MAAiBsR,GAAAA,EAAY3B,SAC9B3P,EAAMlN,SAAQ,SAAAye,GACZ,EAAKlG,aAAa,IAAImG,EAAAA,QACpB5a,EADgB,0BAEG0a,MAAAA,OAFH,EAEGA,EAAY7a,GAFf,kBAE2B8a,MAAAA,OAF3B,EAE2BA,EAAM9a,6CAMzD,WAAuB,UACf2W,EAAiB9hB,KAAK6hB,eAAc,GACpCsE,EAAiB,CACrBtf,KAAM,OACNQ,OAAQya,EACR7N,UAAU,GAENmS,EAAsB,CAC1Bvf,KAAM,QACNqN,MAAO,CACLrN,KAAM,OACNQ,OAAQya,GAEV7N,UAAU,GAERoS,EAAgB,CAClBxf,KAAM,CACJA,KAAM,OACNQ,OAAQ,CAAC,eAAgB,QAAS,YAAa,cAGnD,iBAAQrH,KAAK6d,gBAAb,iBAAQ,EAAeyI,eAAvB,aAAQ,EAAwBzf,MAC9B,IAAK,eAAgBwf,EAAc9V,MAAQ6V,EAAoB,MAC/D,IAAK,QAASC,EAAcE,SAAWJ,EAAeE,EAAcG,OAASL,EAAe,MAC5F,IAAK,YAAaE,EAAcI,KAAON,EAGzC,IAAMO,GAAkB,eAAe3S,QAAQ,CAC7C5I,GAAI,qBACJ7G,KAAM,qBACNmc,MAAO,SACP6F,QAAS,CACPzf,KAAM,SACNlG,MAAO,EAAF,GACA0lB,MAIHxa,EAAS,GAEf,OADAA,EAAOmO,UAAU0M,EAAgB1mB,KAAK6d,WACnC,UAAC7d,KAAK6d,gBAAN,OAAC,EAAewG,QAGVxY,EAFA,SA1DQgZ,CAAuB3K,EAAAA,sMCL5C,aACA,aACA,UACA,UACA,iBAEqBgM,EAAAA,SAAAA,udACnB,WAAY5a,EAASI,GAAM,wCACnBJ,EAASI,+CAGjB,SAAQJ,EAASI,EAAMmS,GAAU,WAC3B8I,EAAS9I,MAAAA,OAAH,EAAGA,EAAU8I,OACvB,GAAGA,EAAO,CACR,IAAIC,EAAalb,EAAK,UACtB1K,OAAOmS,QAAQwT,GAAQnf,SAAS,SAAAa,GAC9B,EAAK0X,aAAa,IAAI8G,EAAAA,QAAUvb,EAASsb,EAAW,IAAIve,EAAM,6CAKpE,WAAuB,gBAgB4B,EAf7CwD,EAAS,GACPib,GAAY,eAAe/S,QAAQ,CACvC5I,GAAI,SACJsV,MAAO,SACP4D,QAAS,mBACT5X,OAAQ,CACN5F,KAAM,SACNoN,UAAU,EACVtT,MAAOX,KAAKsd,+BAOhB,GAJAzR,EAAOmO,UAAU8M,EAAU9mB,KAAK6d,YAI7B,UAAA7d,KAAK6d,gBAAL,mBAAepR,cAAf,mBAAuBuH,kBAAvB,eAAmCxV,QAAS,EAC7CqN,EAAOmO,WAAU,IAAAwF,kBAAiBxf,KAAKsL,QAAStL,KAAKuL,SAApC,WAA8CvL,KAAK6d,gBAAnD,aAA8C,EAAepR,cAE3E,aAAGzM,KAAK6d,gBAAR,iBAAG,EAAepR,cAAlB,iBAAG,EAAuBuH,kBAA1B,OAAG,EAAmCxV,OAAO,OAChDqN,EAAOmO,WAAU,IAAAyF,mBAAkBzf,KAAKsL,QAAStL,KAAKuL,SAArC,WAA+CvL,KAAK6d,gBAApD,aAA+C,EAAepR,SAEjF,OAAOZ,QArCUqa,CAAiBhM,EAAAA,uMCNtC,aAGA,IAeM6M,GAAsB,EAjB5B,WAiB4B,WAAehT,QAfd,CAC3B5I,GAAI,SACJ7G,KAAM,SACNwL,YAAY,CACVjJ,KAAK,QACLoN,UAAS,EACTC,MAAM,CACJrN,KAAK,WAGTmN,WAAW,CACTnN,KAAK,QACLoN,UAAS,KAIQ+S,EAAAA,SAAAA,udACnB,WAAY1b,EAASI,GAAM,wCACnBJ,EAASI,+CAGjB,SAAQJ,EAASI,EAAMmS,wCAGvB,WACE,OAAOkJ,QATUC,CAA2B9M,EAAAA,iNCnBhD,aACA,iBAEqBqK,EAAAA,SAAAA,udACnB,WAAYjZ,EAASI,GAAM,wCACnBJ,EAASI,+CAGjB,SAAQJ,EAASI,EAAMmS,GAAU,WAC3BoJ,EAAoBjnB,KAAK6a,iBAC1BoM,GACDA,EAAkBzf,SAAQ,SAAA0f,GACxB,EAAKnH,aAAa,IAAIiH,EAAAA,QAAmB1b,EAAS,uBAAyB4b,2CAIjF,WACE,GAA6B,YAAzB,aAAOlnB,KAAK6d,UACd,MAAO,CACH7d,KAAKmnB,sBAAsB,SAAU,mBAArC,aAA+DnnB,KAAK6d,uCAK5E,WACE,OAAO,QAtBU0G,CAA4BrK,EAAAA,uMCHjD,aAEA,aACA,YACA,YACA,aACA,UAGA,IAAMkN,EAAkB,CACtBjc,GAAI,qBACJtE,KAAM,CACJA,KAAM,OACNQ,OANJ,QAMYggB,iBAEV9a,UAAW,CACT1F,KAAM,SACNoN,UAAU,EACVtT,MAAO,CACL2D,KAAM,kBACNgjB,IAAK,kBACLC,MAAO,CACL1gB,KAAM,OACNQ,OAAQ,CAAC,OAAQ,QAAS,UAC1B4M,UAAU,KAIhBuT,YAAa,mBAETC,GAAiB,eAAe1T,QAAQqT,GAE9C,SAASM,IAAgB,QAOjBC,EAAqD,cAAnC,UAAA3nB,KAAK6d,gBAAL,mBAAetR,iBAAf,eAA0B1F,MAC5C+gB,EAAe5nB,KAAKoN,aAC1B,OAAO,eAAe2G,QAAQ,CAC5B8T,SAAU,CACRhhB,KAAM,OACNQ,OAAQ,CAAC,OAAQ,SAEnBR,KAAM,CACJA,KAAM,OACNQ,OAfgB,CAClB,MACA,WACA,mBACA,qBAaAygB,gBAAiB,mBACjBC,cAAe,CACblhB,KAAM,QACNoN,UAAW0T,EACXzT,MAAO,CACLrN,KAAM,OACNQ,OAAQugB,MAKhB,SAASI,IAAe,QAChBC,EAAoD,cAAnC,UAAAjoB,KAAK6d,gBAAL,mBAAetR,iBAAf,eAA0B1F,MAC3CqhB,EAAcloB,KAAKmoB,SAAQ,GACjC,OAAO,eAAepU,QAAQ,CAC5B8T,SAAU,CACRhhB,KAAM,OACNQ,OAAQ,CAAC,OAAQ,SAEnBR,KAAM,CACJA,KAAM,OACNQ,OAAQ,CAAC,MAAO,aAElBygB,gBAAiB,mBACjBM,aAAc,CACZvhB,KAAM,QACNoN,UAAWgU,EACX/a,MAAO,qBACPgH,MAAO,CACLrN,KAAM,OACNQ,OAAQ6gB,MAKhB,SAASG,IAAoB,QACrBC,EAAkB,UAAGtoB,KAAK6d,gBAAR,iBAAG,EAAetR,iBAAlB,aAAG,EAA0B+b,mBAC/CC,EAAWD,EAAqB,EAAI,KAC1C,OAAO,eAAevU,QAAQ,CAC5BiD,KAAM,SACNwR,UAAW,CACT3hB,KAAM,OACNQ,OAAQ,CAAC,OAAQ,QAAS,SAAU,WACpC4M,UAAU,GAEZqU,mBAAoB,CAClBzhB,KAAM,OACNQ,OAAQ,EAAC,GAAM,GACf4M,UAAU,GAEZwU,aAAc,CACZxU,UAAWqU,EACXzhB,KAAM,SACNya,IAAKiH,EACLrb,MAAO,uBAIb,IAAMwb,GAAc,eAAe3U,QAAQ,CACzCiD,KAAM,SACN2R,QAAS,CACP9hB,KAAM,OACNQ,OAAQ,CAAC,KAAM,KAAM,KAAM,KAAM,KAAM,OAEzCmhB,UAAW,CACT3hB,KAAM,OACNQ,OAAQ,CAAC,OAAQ,QAAS,SAAU,WACpC4M,UAAU,KAWR2U,IARiB,eAAe7U,QAAQ,CAC5CiD,KAAM,SACNwR,UAAW,CACT3hB,KAAM,OACNQ,OAAQ,CAAC,OAAQ,QAAS,SAAU,WACpC4M,UAAU,MAGI,eAAeF,QAAQ,CACvCiD,KAAM,SACN4J,IAAK,qBAEDiI,GAAgB,eAAe9U,QAAQ,CAC3C+U,SAAU,kBACVhL,MAAO,CACLjX,KAAM,SACNoN,UAAU,EACVtT,MAAO,CACLmP,YAAa,CACXjJ,KAAM,QACNqN,MAAO,CACLrN,KAAM,UAERoN,UAAU,GAEZsJ,gBAAiB,CACf1W,KAAM,OACNoN,UAAU,EACV5M,OAAQ,CAAC,MAAO,WAAY,gBAE9BR,KAAM,CACJA,KAAM,OACNoN,UAAU,EACV5M,OAAQ,CAAC,YAIf0hB,WAAY,mBACZC,WAAY,qBAERC,GAAa,eAAelV,QAAQ,CACxCmV,QAAS,CACPjV,UAAU,EACVpN,KAAM,QACNqN,MAAO,CACLrN,KAAM,SACNlG,MAAO,CACLwoB,OAAQ,SACRC,KAAM,CACJviB,KAAM,SACNlG,MAAOymB,QAMXiC,GAAY,eAAetV,QAAQ,CACvCiD,KAAM,SACNsS,OAAQ,WAEJC,GAAgB,eAAexV,QAAQ,CAC3CiD,KAAM,WAEFwS,GAAoB,eAAezV,QAAQ,CAC/CiD,KAAM,SACN8G,MAAO,CACLjX,KAAM,SACNoN,UAAU,EACVtT,MAAO,CACLmP,YAAa,CACXjJ,KAAM,QACNoN,UAAU,EACVC,MAAO,CACLrN,KAAM,WAGV0W,gBAAiB,CACf1W,KAAM,OACNoN,UAAU,EACV5M,OAAQ,CAAC,MAAO,WAAY,gBAE9BR,KAAM,CACJoN,UAAU,EACVpN,KAAM,OACNQ,OAAQ,CAAC,cAKXoiB,GAAY,eAAe1V,QAAQ,CACvCzP,KAAM,qBACNolB,OAAQ,kBACR1I,KAAM,oBAEF2I,GAAY,eAAe5V,QAAQ,CACvC6V,mBAAoB,mBACpBC,kBAAmB,mBACnBC,qBAAsB,mBACtBC,iBAAkB,mBAClBC,cAAe,mBACfC,mBAAoB,mBACpBC,eAAgB,mBAChBC,eAAgB,mBAChBC,WAAY,mBACZC,gBAAiB,mBACjBC,mBAAoB,mBACpBC,iBAAkB,mBAClBC,SAAU,mBACVC,oBAAqB,mBACrBC,gBAAiB,mBACjBC,SAAU,mBACVC,eAAgB,qBAEZC,GAAmB,eAAe9W,QAAQ,CAC9CtE,MAAO,kBACP0Z,OAAQ,kBACRjN,SAAU,qBAEN4O,GAAe,eAAe/W,QAAQ,CAC1CgX,IAAK,kBACL5S,KAAM,SACN7T,KAAM,uBAER,SAAS0mB,IAAmB,gBACpBC,EAAoE,YAAjD,UAAAjrB,KAAK6d,gBAAL,mBAAetR,iBAAf,mBAA0B2e,kBAA1B,eAAsCC,QACzDC,EAAmE,cAAjD,UAAAprB,KAAK6d,gBAAL,mBAAetR,iBAAf,mBAA0B2e,kBAA1B,eAAsCC,QAC1DE,EAASrrB,KAAKub,gBAAe,GAGjC,OADA8P,GADAA,EAASA,EAAOtJ,OAAO/hB,KAAK0a,iBAAgB,KAC5BqH,OAAO,CAAC,cAAe,eAAgB,kBAChD,eAAehO,QAAQ,CAC5BuX,gBAAiB,UACjBC,gBAAiB,UACjBC,eAAgB,mBAChBC,UAAW,mBACXC,UAAW,mBACXC,mBAAoB,UACpB3C,WAAY,UACZ4C,eAAgB,UAChBV,WAAY,CACVhe,MAAOmB,EAAAA,UAAUC,aAAa,cAC9BzH,KAAM,SACNlG,MAAO,CACLwqB,OAAQ,CACNtkB,KAAM,OACNQ,OAAQ,CAAC,SAAU,aAErBwkB,SAAS,CACP3e,MAAOmB,EAAAA,UAAUC,aAAa,cAC9BzH,KAAM,QACNoN,UAAWgX,EACX/W,MAAO,CACLrN,KAAM,OACNQ,OAAQgkB,IAGZS,SAAU,CACRjlB,KAAM,SACNoN,UAAWmX,OAMrB,SAASW,IAAoB,YACrBd,EAAwD,cAArC,UAAAjrB,KAAK6d,gBAAL,mBAAetR,iBAAf,eAA0B4e,QAC7CC,EAAuD,cAArC,UAAAprB,KAAK6d,gBAAL,mBAAetR,iBAAf,eAA0B4e,QAClD,OAAO,eAAepX,QAAQ,CAC5BuX,gBAAiB,mBACjBC,gBAAiB,mBACjBC,eAAgB,mBAChBC,UAAW,mBACXO,eAAgB,CACdnlB,KAAM,QACNoN,UAAWgX,EACX/W,MAAO,CACLrN,KAAM,OACNQ,OAAQrH,KAAKsb,kBAAiB,KAGlCwQ,SAAU,CACRjlB,KAAM,SACNoN,UAAWmX,GAEba,SAAU,mBACVjD,WAAY,mBACZmC,OAAQ,CACNtkB,KAAM,OACNQ,OAAQ,CAAC,MAAO,WAAY,eAIlC,IAAM6kB,GAAa,eAAenY,QAAQ,CACxCiD,KAAM,WAER,SAASmV,IACP,OAAO,eAAepY,QAAQ,CAC5BtE,MAAO,CACL5I,KAAM,YAKZ,SAASulB,IAAgB,YACvB,OAAO,eAAerY,QAAQ,CAC5BsY,iBAAkB,CAChBxlB,KAAM,SACNqG,MAAO,SACP+G,SAAmD,gBAAzC,UAAAjU,KAAK6d,gBAAL,mBAAetR,iBAAf,eAA0B+f,aAGtCC,IAAK,CACH1lB,KAAM,SACNqG,MAAO,SACP+G,SAAmD,SAAzC,UAAAjU,KAAK6d,gBAAL,mBAAetR,iBAAf,eAA0B+f,eAI1C,SAASE,IACP,OAAO,eAAezY,QAAQ,CAC5BoX,OAAQ,SACRsB,eAAgB,CACd5lB,KAAM,QACNqN,MAAO,CACLrN,KAAM,OACNQ,OAAQ,CACN,MACA,UACA,SACA,OACA,OACA,sBACA,cACA,aACA,YAMV,SAASqlB,IAAmB,MAC1B,OAAO,aAAa,CAAC5Y,6BAA6B,IAAOC,QAAQ,CAC7D4Y,UAAW,CACT9lB,KAAM,OACNQ,OAAQ,CAAC,UAAW,UACpB4M,UAAU,GAEZ2Y,UAAU,CACR/lB,KAAM,SACNoN,SAAiD,YAAvC,UAAAjU,KAAK6d,SAAStR,iBAAd,eAAyBogB,YAErCpF,MAAO,CACL1gB,KAAM,OACNQ,OAAQ,CAAC,OAAQ,SAAU,UAE7BwgB,SAAU,CACRhhB,KAAM,OACNQ,OAAQ,CAAC,aAAc,aAEzBwlB,MAAO,CACLhmB,KAAM,OACNQ,OAAQ,CAAC,SAAU,WAErB2Z,KAAM,CACJna,KAAM,OACNQ,OAAQ,CAAC,QAAS,SAAU,UAE9BuJ,MAAO,SACPnC,QAAS,CACP5H,KAAM,SACN4I,MAAOpB,EAAAA,UAAUC,aAAa,iBAElCwe,SAAU,CACRjmB,KAAM,QACNqN,MAAO,CACLrN,KAAM,SACNlG,MAAO,CACLwK,GAAI,SACJsD,QAAS,kBACTse,MAAO,CACLlmB,KAAM,SACNuE,QAAS,mBAEX4hB,QAAS,CACPnmB,KAAM,SACNuE,QAAS,oBAGbgX,OAdK,SAcE1iB,EAAOmM,EAAQuH,EAAQ1H,EAAM2H,EAAY5N,GAC9C,GAAiB,eAAd/F,MAAAA,OAAA,EAAAA,EAAOyL,MAAuBzL,MAAAA,IAAAA,EAAOqtB,OAAM,CAC5C,IAAMtH,GAASzkB,OAAOqG,OAAOgM,MAAAA,OAAd,EAAcA,EAAYyZ,WAAW,IAAIG,WAAU,SAAAxuB,GAAC,MAAc,eAAVA,MAAAA,OAAA,EAAAA,EAAG0M,OAC1EU,EAAOzI,KAAK,CAAEyD,KAAM,WAAY4I,MAAO,YAAF,OAAcgW,EAAd,WAA8BhX,QAASJ,EAAAA,UAAUC,aAAa,uBAAwBD,EAAAA,UAAUC,aAAa,SAAU,eAE9J,GAAiB,UAAd5O,MAAAA,OAAA,EAAAA,EAAOyL,KAAP,MAAwBzL,GAAAA,EAAOstB,UAAattB,MAAAA,IAAAA,EAAO+O,SAAQ,CAC5D,IAAMgX,GAASzkB,OAAOqG,OAAOgM,MAAAA,OAAd,EAAcA,EAAYyZ,WAAW,IAAIG,WAAU,SAAAxuB,GAAC,MAAc,UAAVA,MAAAA,OAAA,EAAAA,EAAG0M,OAC1EU,EAAOzI,KAAK,CAAEyD,KAAM,WAAY4I,MAAO,YAAF,OAAcgW,EAAd,aAAgChX,QAASJ,EAAAA,UAAUC,aAAa,uBAAwBD,EAAAA,UAAUC,aAAa,WAAYD,EAAAA,UAAUC,aAAa,WAEzL,OAAO5O,KAIXigB,MAAO,wBAIQuN,EAAAA,SAAAA,udACnB,WAAY5hB,EAASI,GAAM,wCACnBJ,EAASI,4DAGjB,WAAuB,MACfG,EAAS,GAGf,OAFAA,EAAOmO,UAAUyN,EAAeznB,KAAK6d,WACrC7d,KAAKwd,cAAL,UAAwBxd,KAAK0L,KAA7B,cACQ1L,KAAK6d,SAAShX,MACpB,IAAK,iBACHgF,EAAOmO,UACLmS,EAAuBpqB,KAAK/B,KAA5BmsB,CAAkCnsB,KAAK6d,SAAStR,WAAa,KAE/D,MACF,IAAK,QACHV,EAAOmO,UACLoS,EAAcrqB,KAAK/B,KAAnBosB,CAAyBpsB,KAAK6d,SAAStR,WAAa,KAEtD,MACF,IAAK,WACHV,EAAOmO,UACL0N,EAAc3lB,KAAK/B,KAAnB0nB,CAAyB1nB,KAAK6d,SAAStR,WAAa,KAEtD,MACF,IAAK,UACHV,EAAOmO,UACLgO,EAAajmB,KAAK/B,KAAlBgoB,CAAwBhoB,KAAK6d,SAAStR,WAAa,KAErD,MACF,IAAK,SACHV,EAAOmO,UAAU0O,EAAY1oB,KAAK6d,SAAStR,WAAa,KACxD,MACF,IAAK,YACHV,EAAOmO,UACLqO,EAAkBtmB,KAAK/B,KAAvBqoB,CAA6BroB,KAAK6d,SAAStR,WAAa,KAE1D,MACF,IAAK,YACHV,EAAOmO,UAAU4O,EAAU5oB,KAAK6d,SAAStR,WAAa,KACtD,MACF,IAAK,oBACHV,EAAOmO,UAAU6O,EAAc7oB,KAAK6d,SAAStR,WAAa,KAC1D,MACF,IAAK,QACHV,EAAOmO,UAAUiP,EAAWjpB,KAAK6d,SAAStR,WAAa,KACvD,MACF,IAAK,OACHV,EAAOmO,UAAUqP,EAAUrpB,KAAK6d,SAAStR,WAAa,KACtD,MACF,IAAK,WACHV,EAAOmO,UAAUuP,EAAcvpB,KAAK6d,SAAStR,WAAa,KAC1D,MACF,IAAK,eACHV,EAAOmO,UAAUwP,EAAkBxpB,KAAK6d,SAAStR,WAAa,KAC9D,MACF,IAAK,OACHV,EAAOmO,UAAUyP,EAAUzpB,KAAK6d,SAAStR,WAAa,KACtD,MACF,IAAK,eACHV,EAAOmO,UAAU2P,EAAU3pB,KAAK6d,SAAStR,WAAa,KACtD,MACF,IAAK,cACHV,EAAOmO,UAAU6Q,EAAiB7qB,KAAK6d,SAAStR,WAAa,KAC7D,MACF,IAAK,UACHV,EAAOmO,UAAU8Q,EAAa9qB,KAAK6d,SAAStR,WAAa,KACzD,MACF,IAAK,cACHV,EAAOmO,UACLgR,EAAiBjpB,KAAK/B,KAAtBgrB,EAA4BhrB,MAAAA,MAAA,UAAAA,KAAM6d,gBAAN,eAAgBtR,YAAa,KAE3D,MACF,IAAK,eACHV,EAAOmO,UACL+R,EAAkBhqB,KAAK/B,KAAvB+rB,CAA6B/rB,KAAK6d,SAAStR,WAAa,KAE1D,MACF,IAAK,QACHV,EAAOmO,UAAUkS,EAAWlsB,KAAK6d,SAAStR,WAAa,KACzD,IAAK,cACHV,EAAOmO,UAAU0S,EAAiB3qB,KAAK/B,KAAtB0sB,CAA4B1sB,KAAK6d,SAAStR,WAAW,KACtE,MACF,IAAK,mBACHV,EAAOmO,UAAUwS,EAAsBzqB,KAAK/B,KAA3BwsB,CAAiCxsB,KAAK6d,SAAStR,WAAW,KAG/E,OAAOV,yBAGT,SAAQP,EAASI,EAAMmS,GAAU,mBAC/B7d,KAAKmL,GAAK0S,EAAS1S,GACf0S,MAAAA,GAAJ,UAAIA,EAAUtR,iBAAd,OAAI,EAAqB4gB,UACvBntB,KAAK+f,aACH,IAAIqN,EAAAA,QAAa9hB,EAASI,EAAO,wBAGrC,IAAIib,EAAS9I,MAAAA,GAAH,UAAGA,EAAUtR,iBAAb,aAAG,EAAqBoa,OAC9BA,GACF3lB,OAAOmS,QAAQwT,GAAQnf,SAAQ,SAACa,GAC9B,EAAK0X,aACH,IAAI8G,EAAAA,QAAUvb,EAASI,EAAO,qBAAuBrD,EAAM,QAI9DqD,EAAKgD,SAAS,WACbmP,MAAAA,GAAJ,UAAIA,EAAU2J,mBAAd,iBAAI,EAAuB6F,gBAA3B,OAAI,EAAiCrZ,YACnChU,KAAK+f,aACH,IAAIR,EAAAA,QAAejU,EAAnB,UAA+BI,EAA/B,iCA5GawhB,CAAsBhT,EAAAA,uMCxa3C,aACA,aACA,aAGA,IAAMoT,GAAa,EAFnB,WAEmB,WAAevZ,QAAQ,CACxC5I,GAAI,WAEe0b,EAAAA,SAAAA,udACnB,WAAYvb,EAASI,GAAM,wCACnBJ,EAASI,+CAGjB,SAAQJ,EAASI,EAAMmS,GAClBA,EAAS0P,cACVvtB,KAAK+f,aAAa,IAAIF,EAAAA,QAAgBvU,EAAS,oBAAoBuS,EAAS0P,gBAG9C,iBAApB1P,EAASiC,OACjB9f,KAAK+f,aAAa,IAAIF,EAAAA,QAAgBvU,EAAS,oBAAoBuS,EAASiC,SAE5E9f,KAAK+f,aAAa,IAAIC,EAAAA,QAAW1U,EAAf,UAA2BtL,KAAK0L,KAAhC,YAA+C,wCAIvE,WACE,OAAO4hB,QAlBUzG,CAAkB3M,EAAAA,uMCRvC,aACA,aACA,cAEqBsT,EAAAA,SAAAA,udACnB,WAAYliB,EAASI,GAAM,wCACnBJ,EAASI,+CAEjB,SAAQJ,EAASI,EAAMmS,GAAU,IACV,EADU,OAC5BA,MAAAA,GAAAA,EAAUwG,UACXxG,MAAAA,GAAA,UAAAA,EAAU4P,YAAV,SAAgBC,KAAKlmB,SAAQ,SAACmmB,EAAKC,GAAY,MAC1CD,MAAAA,GAAH,UAAGA,EAAKzE,eAAR,OAAG,EAAc1qB,SACfmvB,MAAAA,GAAAA,EAAKzE,QAAQ1hB,SAAQ,SAACqmB,EAAQC,GAAY,MACxC,EAAK/N,aAAa,IAAIgO,EAAAA,QAAcziB,EAAlB,UAA8B,EAAKI,KAAnC,sBAAqDkiB,EAArD,oBAAyEE,EAAzE,YAA6FD,MAAAA,GAA7F,UAA6FA,EAAQG,eAArG,aAA6F,EAAiB7iB,GAAI0S,gDAO9I,WAAuB,MAMjB,EANiB,OAEfoQ,EADajuB,KAAKoN,YAAW,GAAM,SAAAH,GAAC,YAAgB,WAAZA,MAAAA,OAAA,EAAAA,EAAGpG,QAAoBoG,MAAAA,OAAA,EAAAA,EAAG9B,OAAO,SAAV,UAAU,EAAM0S,gBAAhB,aAAU,EAAgB1S,OAClEmB,KAAI,SAAAW,GAAC,OAAIA,MAAAA,OAAJ,EAAIA,EAAGihB,SACrCriB,EAAS,GACb,OAAG,UAAC7L,KAAK6d,gBAAN,OAAC,EAAewG,UAGb4J,GAAW,IAAIvf,SAAS1O,MAAAA,MAAzB,UAAyBA,KAAM6d,gBAA/B,aAAyB,EAAgBqQ,QAC1CriB,EAAOzI,KAAK,CAACyD,KAAM,SAAU4H,QAASJ,EAAAA,UAAUC,aAAa,iBAAkBD,EAAAA,UAAUC,aAAa,YAEjGzC,GALA,SArBQ2hB,CAAkBtT,EAAAA,oNCJvC,aACA,aACA,UACA,aACA,aACA,aACA,UACA,qlBAkBA,SAASiU,EAAmBC,GAAuB,wBAC3CnD,EAEJ,YADAjrB,MAAAA,MAAA,UAAAA,KAAM6d,gBAAN,mBAAgBld,aAAhB,mBAAuB0tB,mBAAvB,mBAAoCC,eAApC,mBAA6CpD,kBAA7C,eAAyDC,QAErDC,EAEJ,cADAprB,MAAAA,MAAA,UAAAA,KAAM6d,gBAAN,mBAAgBld,aAAhB,mBAAuB0tB,mBAAvB,mBAAoCC,eAApC,mBAA6CpD,kBAA7C,eAAyDC,QAEvDE,EAAS,GAKb,OADAA,GADAA,GADAA,GADAA,EAASrrB,KAAKub,gBAAe,IACbwG,OAAO/hB,KAAK0a,iBAAgB,KAC5BqH,OAAO/hB,KAAKsb,kBAAiB,KAC7ByG,OAAO,CAAC,cAAe,eAAgB,kBAChD,eAAehO,QAAQ,CAC5B7G,MAAO,kBACP5I,KAAM,SACN8O,OAAQ,SACRmb,SAAU,SACVC,gBAAiBJ,EACjBC,YAAa,CACXxnB,KAAM,SACNlG,MAAO,CACL2tB,QAAS,CACPznB,KAAM,SACNlG,MAAO,CACLuqB,WAAY,CACVrkB,KAAM,SACNqG,MAAOmB,EAAAA,UAAUC,aAAa,cAC9B3N,MAAO,CACLwqB,OAAQ,CACNtkB,KAAM,OACNQ,OAAQ,CAAC,SAAU,aAErBykB,SAAU,CACRjlB,KAAM,SACNoN,UAAWmX,EACXle,MAAO,YAET2e,SAAU,CACRhlB,KAAM,QACNoN,UAAWgX,EACX/d,MAAOmB,EAAAA,UAAUC,aAAa,cAC9BmgB,SAAUxD,EAAmB,EAAI,EACjC/W,MAAO,CACLrN,KAAM,OACNQ,OAAQgkB,GAEVvU,SAAU,CACRyJ,SAAUlS,EAAAA,UAAUC,aAClB,+BACAD,EAAAA,UAAUC,aAAa,SACvB,wBAQd+c,OAAQ,YAKhB,IAAMqD,GAAiB,eAAe3a,QA5Ed,CACtB4a,MAAO,SACPxjB,GAAI,qBACJxK,MAAO,CACLkG,KAAM,SACNlG,MAAO,CACLjB,MAAO,kBACPwN,MAAO,kBACP5I,KAAM,SACNiqB,SAAU,mBAoEKR,EAAAA,SAAAA,udACnB,WAAYziB,EAASI,EAAMP,EAAIyjB,GAAU,mCACvC,cAAMtjB,EAASI,IACVP,GAAKA,EACV,EAAKyjB,SAAWA,EAHuB,8CAMzC,SAAQtjB,EAASI,EAAMmS,GAAU,YAC/B,GACsB,YAApBA,MAAAA,OAAA,EAAAA,EAAU8Q,QAAV,MACA9Q,GADA,UACAA,EAAUld,aADV,OACA,EAAkB,0BAClB,OACM4sB,EAAgB1P,MAAAA,GAAH,UAAGA,EAAUld,aAAb,aAAG,EAAkB,0BACxCX,KAAK+f,aACH,IAAIF,EAAAA,QAAgBvU,EAAS,oBAAsBiiB,IAGvD,UAAI1P,EAASld,aAAb,iBAAI,EAAgBkuB,uBAApB,iBAAI,EAAiCna,aAArC,OAAI,EAAwClW,QAC1CwB,KAAK+f,aACH,IAAI+O,EAAAA,QACFxjB,EADF,UAEKtL,KAAK0L,KAFV,gEAQN,WAAuB,4LACjBiT,GACmC,gBAArC3e,MAAAA,MAAA,UAAAA,KAAMqT,kBAAN,mBAAkBwK,gBAAlB,eAA4BhX,QAC5B7G,MAAAA,MADA,UACAA,KAAMqT,kBADN,iBACA,EAAkBwK,gBADlB,aACA,EAA4BkR,YACxBC,GAAchvB,KAAKqT,WAAWwK,SAAS4P,KAAKwB,cAAgB,GAClE,IAAK,IAAMC,MAAkBF,GAAa,WAGtC,oBADA,WAAAA,GAAYE,WAAZ,wDAA4CC,eAG5CxQ,IAAY,GAGhB,IAAMyQ,GAAgBpvB,KAAK6hB,eAAc,EAAMlD,IAC3C0Q,IAAiB,EACjBC,IAAiB,EACfL,GAAejvB,MAAAA,MAAH,UAAGA,KAAMqT,kBAAT,iBAAG,EAAkBwK,gBAArB,iBAAG,EAA4B4P,YAA/B,aAAG,EAAkCwB,aACvDjuB,OAAOqG,OAAO4nB,IAAgB,IAAIznB,SAAQ,SAACkV,GAAa,QAEpDA,MAAAA,GAAAA,EAAU6S,iBACgC,UAA1C,UAAA7S,EAAS6S,uBAAT,eAA0BJ,eAE1BE,IAAiB,GAGjB3S,MAAAA,GAAAA,EAAU6S,iBACgC,UAA1C,UAAA7S,EAAS6S,uBAAT,eAA0BJ,eAE1BG,IAAiB,MAGrB,IAka8D,GAlaxDE,GAAa,CAAC,cAAe,mBAAmBvhB,MACpD,SAACxP,GAAD,iBAAsD,KAA/C,aAAKof,gBAAL,mBAAeld,aAAf,mBAAsB6tB,uBAAtB,eAAwC/vB,OAE3C2vB,GAAwB,CAC5BvnB,KAAM,SACNoN,UAAU,EACVtT,MAAO,CACL4f,SAAU,CACR1Z,KAAM,UACNoN,UAAU,GAEZwb,UAAW,CACT5oB,KAAM,SACNoN,UAAWub,GACXpb,UAAU,EACVkN,IAAK,EACLC,IAAKiO,GAAU,UACXxvB,KAAK6d,gBADM,iBACX,EAAeld,aADJ,iBACX,EAAsB6tB,uBADX,aACX,EAAuCkB,UACvC,OACJxiB,MAAOmB,EAAAA,UAAUC,aAAa,YAEhCohB,UAAW,CACT7oB,KAAM,SACNoN,UAAU,EACVG,UAAU,EACVkN,IAAKkO,GAAU,UACXxvB,KAAK6d,gBADM,iBACX,EAAeld,aADJ,iBACX,EAAsB6tB,uBADX,aACX,EAAuCiB,UACvC,EACJviB,MAAOmB,EAAAA,UAAUC,aAAa,YAEhCqhB,cAAe,CACb9oB,KAAM,UACNoN,UAAU,EACVG,UAAU,EACVlH,MAAOmB,EAAAA,UAAUC,aAAa,kBAEhCshB,UAAW,CACT/oB,KAAM,SACNoN,UAC2D,KAAzD,UAAAjU,KAAK6d,gBAAL,mBAAeld,aAAf,mBAAsB6tB,uBAAtB,eAAuCmB,eACzCziB,MAAOmB,EAAAA,UAAUC,aAAa,WAC9BgT,IAAK,GAEPuO,YAAa,CACXhpB,KAAM,UACNoN,UAAU,EACVG,UAAU,GAEZ0b,gBAAiB,CACfjpB,KAAM,UACNoN,UAAU,EACVG,UAAU,EACVlH,MAAOmB,EAAAA,UAAUC,aAAa,wBAEhCmgB,SAAU,CACR5nB,KAAM,SACNoN,UAAU,EACVG,UAAU,EACVkN,IAAK,EACLC,IAAG,UAAEvhB,KAAK6d,gBAAP,iBAAE,EAAeld,aAAjB,iBAAE,EAAsB6tB,uBAAxB,aAAE,EAAuCuB,SAC5C7iB,MAAOmB,EAAAA,UAAUC,aAAa,YAEhCyhB,SAAU,CACRlpB,KAAM,SACNoN,UAAU,EACVG,UAAU,EACVkN,IAAG,UAAEthB,KAAK6d,gBAAP,iBAAE,EAAeld,aAAjB,iBAAE,EAAsB6tB,uBAAxB,aAAE,EAAuCC,SAC5CvhB,MAAOmB,EAAAA,UAAUC,aAAa,YAEhC0hB,gBAAiB,CACfnpB,KAAM,SACNoN,SAAmC,gBAAzB,UAAAjU,KAAK6d,gBAAL,eAAe8Q,OACzBva,SAAmC,gBAAzB,UAAApU,KAAK6d,gBAAL,eAAe8Q,OACzBrN,IAAK,EACLpU,MAAOmB,EAAAA,UAAUC,aAAa,kBAC9B+F,MAAO,SAAC3U,EAAOmM,GACb8N,QAAQ8E,IAAI,CAAE/e,MAAAA,EAAOmM,OAAAA,IACrB,IAAMokB,GAAU,IAAAC,4BAA2BxwB,GACrCywB,GAAa,IAAAC,+BAQnB,OAPKH,GACHpkB,EAAOzI,KAAK,CACVyD,KAAM,YACN0I,OAAQ7P,EACRuR,SAAUkf,IAGPzwB,MAKT2wB,GAAe,CACnB,mBAAoB,CAClBxpB,KAAM,SACNoN,SAA+C,gBAArCjU,MAAAA,MAAA,UAAAA,KAAMqT,kBAAN,mBAAkBwK,gBAAlB,eAA4BhX,MACtCuN,SAA+C,gBAArCpU,MAAAA,MAAA,UAAAA,KAAMqT,kBAAN,mBAAkBwK,gBAAlB,eAA4BhX,MACtClG,MAAO,CACLkG,KAAM,CACJA,KAAM,OACNQ,OAAQ,CAAC,cAAe,gBAE1BipB,UAAW,CACTzpB,KAAM,SACNlG,MAAO,CACL4vB,eAAgB,CACd1pB,KAAM,SACNoN,UAAU,EACVG,UAAU,GAEZ9P,KAAM,CACJuC,KAAM,SACN2pB,OAAO,EACPvc,SAAUob,GACVvY,SAAU,CACRyJ,SAAUlS,EAAAA,UAAUC,aAClB,wBACAD,EAAAA,UAAUC,aAAa,eAI7B6T,YAAa,CACXtb,KAAM,OACNuN,UAAU,EACVH,SAAUqb,GACVjoB,OAAQ+nB,IAEVxL,YAAa,uBAMjB6M,GAAwB,CAC5BvjB,MAAO,SACP5I,KAAM,SACN8O,OAAQ,SACRmb,SAAU,SACVC,gBAAiBJ,GACjBC,YAAa,CACXxnB,KAAM,SACNlG,MAAO,CACL2tB,QAAS,CACPznB,KAAM,SACNlG,MAAO,CACLmrB,SAAU,CACRjlB,KAAM,SACNqG,MAAOmB,EAAAA,UAAUC,aAAa,kBAOpCoiB,GAAoB,CACxBxjB,MAAO,SACP5I,KAAM,SACN8O,OAAQ,SACRmb,SAAU,SACVC,gBAAiBJ,GACjBC,YAAa,CACXxnB,KAAM,SACNlG,MAAO,CACL2tB,QAAS,CACPznB,KAAM,SACNlG,MAAO,CACLkG,KAAM,CACJA,KAAM,OACNQ,OAAQ,CAAC,WAAY,MAAO,aAE9BykB,SAAU,CACRjlB,KAAM,SACNoN,SAEE,cADA,UAAAjU,KAAK6d,gBAAL,mBAAeld,aAAf,mBAAsB0tB,mBAAtB,mBAAmCC,eAAnC,eAA4CznB,MAE9CqG,MAAO,YAET2e,SAAU,CACRhlB,KAAM,QACNuN,SAEE,cADA,UAAApU,KAAK6d,gBAAL,mBAAeld,aAAf,mBAAsB0tB,mBAAtB,mBAAmCC,eAAnC,eAA4CznB,MAE9CoN,SAEE,cADA,UAAAjU,KAAK6d,gBAAL,mBAAeld,aAAf,mBAAsB0tB,mBAAtB,mBAAmCC,eAAnC,eAA4CznB,MAE9C4nB,SAAU,EACV3X,SAAU,CACRyJ,SAAUlS,EAAAA,UAAUC,aAClB,+BACAD,EAAAA,UAAUC,aAAa,SACvB,gCASVqiB,GAAmB,CACvBzjB,MAAO,SACP5I,KAAM,SACN8O,OAAQ,SACRmb,SAAU,SACVC,gBAAiBJ,GACjBC,YAAa,CACXxnB,KAAM,SACNlG,MAAO,CACL2tB,QAAS,CACPznB,KAAM,SACNlG,MAAO,CACLkG,KAAM,CACJA,KAAM,OACNQ,OAAQ,CAAC,WAAY,MAAO,aAE9BykB,SAAU,CACRjlB,KAAM,SACNoN,SAEE,cADA,UAAAjU,KAAK6d,gBAAL,mBAAeld,aAAf,mBAAsB0tB,mBAAtB,mBAAmCC,eAAnC,eAA4CznB,MAE9CqG,MAAO,YAET2e,SAAU,CACRhlB,KAAM,QACNuN,SAEE,cADA,UAAApU,KAAK6d,gBAAL,mBAAeld,aAAf,oBAAsB0tB,mBAAtB,sBAAmCC,eAAnC,iBAA4CznB,MAE9CoN,SAEE,cADA,WAAAjU,KAAK6d,gBAAL,sBAAeld,aAAf,sBAAsB0tB,mBAAtB,sBAAmCC,eAAnC,iBAA4CznB,MAE9C4nB,SAAU,EACV3X,SAAU,CACRyJ,SAAUlS,EAAAA,UAAUC,aAClB,+BACAD,EAAAA,UAAUC,aAAa,QACvB,yBAGJ4F,MAAO,CACLrN,KAAM,OACNQ,OAAQ+nB,UAShBwB,GAA2B,CAC/B1jB,MAAO,SACP5I,KAAM,SACN8O,OAAQ,SACRmb,SAAU,SACVC,gBAAiBJ,GACjByC,aAAc,mBACdxC,YAAa,CACXxnB,KAAM,SACNlG,MAAO,CACLmwB,WAAY,CACVjqB,KAAM,QACN4nB,SAAU,EACVva,MAAO,CACLrN,KAAM,SACNlG,MAAO,CACLkG,KAAM,CACJA,KAAM,OACNQ,OAAQ,CAAC,iBAAkB,eAAgB,gBAE7C8D,GAAI,UAENiX,OAAQ,SAAC1iB,EAAOmM,GACd,IAEuC,EAFjCklB,EAAa,GAAKxjB,UAAS,GASjC,MARoB,oBAAhB7N,MAAAA,OAAA,EAAAA,EAAOmH,QACJkqB,EAAWriB,SAAShP,MAAAA,OAApB,EAAoBA,EAAOyL,KAC9BU,EAAOzI,KAAK,CACVyD,KAAM,YACNoK,SAAQ,UAAE,GAAK1D,kBAAP,aAAE,EAAiBjB,KAAI,SAAC7N,GAAD,OAAOA,MAAAA,OAAP,EAAOA,EAAG6F,WAIxC5E,IAGXoX,SAAU,CACRyJ,SAAUlS,EAAAA,UAAUC,aAAa,oBACjCmgB,SAAUpgB,EAAAA,UAAUC,aAAa,sBAGrC0iB,eAAgB,CACd/c,WAAU,WAACjU,KAAK6d,gBAAN,mBAAC,GAAeld,aAAhB,QAAC,GAAsBkwB,cACjChqB,KAAM,QACN4nB,SAAU,EACVva,MAAO,CACLrN,KAAM,OAENQ,OAAQrH,KAAKuN,UAAS,IAExBuJ,SAAU,CACRyJ,SAAUlS,EAAAA,UAAUC,aAClB,2CAEFmgB,SAAUpgB,EAAAA,UAAUC,aAClB,gDAON2iB,GAA2B,CAC/B/jB,MAAO,SACP5I,KAAM,SACN8O,OAAQ,SACRmb,SAAU,SACVF,YAAa,CACXxnB,KAAM,SACNlG,MAAO,CACLwqB,OAAQ,CACNtkB,KAAM,SACNiQ,SAAU,CACRyJ,SAAUlS,EAAAA,UAAUC,aAAa,oBAAqB,CACpDmB,MAAOpB,EAAAA,UAAUC,aAAa,2BAOpC4iB,GAAmB,CACvBhkB,MAAO,SACP5I,KAAM,SACN8O,OAAQ,SACRob,gBAAiBJ,IAEb+C,GAAgB,CACpBjkB,MAAO,SACP0W,YAAa,kBACbtf,KAAM,SACN8O,OAAQ,SACRob,gBAAiBJ,GACjBG,SAAU,CACR1nB,KAAM,SACNlG,MAAO,CACLywB,UAAW,SACXC,OAAQ,CACNxqB,KAAM,SACNoN,SAAwD,eAA9C,WAAAjU,KAAK6d,gBAAL,sBAAeld,aAAf,sBAAsB4tB,gBAAtB,iBAAgC6C,WAC1Cta,SAAU,CACRyJ,SAAUlS,EAAAA,UAAUC,aAAa,oBAAqB,CACpDmB,MAAOpB,EAAAA,UAAUC,aAAa,UAIpCgjB,QAAS,CACPzqB,KAAM,SACNoN,SAAwD,eAA9C,WAAAjU,KAAK6d,gBAAL,sBAAeld,aAAf,sBAAsB4tB,gBAAtB,iBAAgC6C,WAC1Cta,SAAU,CACRyJ,SAAUlS,EAAAA,UAAUC,aAAa,oBAAqB,CACpDmB,MAAOpB,EAAAA,UAAUC,aAAa,WAIpCijB,YAAa,kBACbC,kBAAmB,UACnBC,aAAc,sBAIdC,GAAiB,CACrBxkB,MAAO,kBACP0W,YAAa,kBACbtf,KAAM,SACN8O,OAAQ,SACRob,gBAAiB,SACjBD,SAAU,SACV5iB,KAAM,CACJ9E,KAAM,QACNqN,MAAO,CACLrN,KAAM,SACNlG,MAAO,CACLjB,MAAO,CACLwN,MAAOmB,EAAAA,UAAUC,aAAa,UAC9BzH,KAAM,SACNoN,UAAU,EACVwb,UAAW,OAMf5jB,GAAS,GACX8lB,GAAc,GAElB,GADA9lB,GAAOmO,UAAU0U,EAAe1uB,KAAK6d,YACjC,WAAA7d,KAAK6d,gBAAL,iBAAe8Q,SAAUiD,EAAAA,iBAAiBlc,OAAQ,QAC9Cmc,IAAU,eAAe9d,QAAQsc,IACvCsB,GAAY3X,UAAU6X,GAAO,WAAC7xB,KAAK6d,gBAAN,cAAC,GAAeld,QAE/C,IACE,WAAAX,KAAK6d,gBAAL,iBAAe8Q,SAAUiD,EAAAA,iBAAiB7b,eAC1C,WAAA/V,KAAK6d,gBAAL,iBAAe8Q,SAAUiD,EAAAA,iBAAiBrb,iBAC1C,WAAAvW,KAAK6d,gBAAL,iBAAe8Q,SAAUiD,EAAAA,iBAAiBtb,WAC1C,WAAAtW,KAAK6d,gBAAL,iBAAe8Q,SAAUiD,EAAAA,iBAAiB5b,WAC1C,CACA,IAAM6b,IAAU,eAAe9d,QAAQ2d,IACvCC,GAAY3X,UAAU6X,GAAQ7xB,KAAK6d,SAASld,QAE9C,IAAI,WAAAX,KAAK6d,gBAAL,iBAAe8Q,SAAUiD,EAAAA,iBAAiB7c,sBAAuB,CACnE,IAAM8c,IAAU,eAAe9d,QAAQ2c,IACvCiB,GAAY3X,UAAU6X,GAAQ7xB,KAAK6d,SAASld,QAE9C,IAAI,WAAAX,KAAK6d,gBAAL,iBAAe8Q,SAAUiD,EAAAA,iBAAiB5c,qBAAsB,CAClE,IAAM6c,IAAU,eAAe9d,QAAQ4c,IACvCgB,GAAY3X,UAAU6X,GAAQ7xB,KAAK6d,SAASld,QAE9C,IAAI,WAAAX,KAAK6d,gBAAL,iBAAe8Q,SAAUiD,EAAAA,iBAAiB3c,0BAA2B,CACvE,IAAM4c,IAAU,eAAe9d,QAAQ0c,IACvCkB,GAAY3X,UAAU6X,GAAQ7xB,KAAK6d,SAASld,QAU9C,IARI,WAAAX,KAAK6d,gBAAL,iBAAe8Q,SAAUiD,EAAAA,iBAAiB1c,gBAC5Cyc,GAAY3X,UACVmU,EAAmBpsB,KACjB/B,KACAouB,GAFFD,EAGEnuB,MAAAA,MAAA,WAAAA,KAAM6d,gBAAN,iBAAgBld,QAAS,MAG3B,WAAAX,KAAK6d,gBAAL,iBAAe8Q,SAAUiD,EAAAA,iBAAiBzc,cAAe,CAC3D,IAAM0c,IAAU,aAAa,CAC3B/d,6BAA6B,IAC5BC,QAAQ6c,IACXe,GAAY3X,UAAU6X,GAAQ7xB,KAAK6d,SAASld,QAE9C,IAAI,WAAAX,KAAK6d,gBAAL,iBAAe8Q,SAAUiD,EAAAA,iBAAiB9c,oBAAqB,CACjE,IAAM+c,IAAU,eAAe9d,QAAQkd,IACvCU,GAAY3X,UAAU6X,GAAQ7xB,KAAK6d,SAASld,QAE9C,IAAI,WAAAX,KAAK6d,gBAAL,iBAAe8Q,SAAUiD,EAAAA,iBAAiBjc,WAAY,CACxD,IAAMkc,IAAU,aAAa,CAC3B/d,6BAA6B,IAC5BC,QAAQmd,IACXS,GAAY3X,UAAU6X,GAAQ7xB,KAAK6d,SAASld,QAE9C,IAAI,WAAAX,KAAK6d,gBAAL,iBAAe8Q,SAAUiD,EAAAA,iBAAiBnb,QAAS,CACrD,IAAMob,IAAU,eAAe9d,QAAQod,IACvCQ,GAAY3X,UAAU6X,GAAQ7xB,KAAK6d,SAASld,QAE9C,GACE,CACEixB,EAAAA,iBAAiB7b,aACjB6b,EAAAA,iBAAiB5b,WACjB4b,EAAAA,iBAAiBrb,eACjBqb,EAAAA,iBAAiBtb,UACjB5H,SALF,WAKW1O,KAAK6d,gBALhB,cAKW,GAAe8Q,OAC1B,cACMhjB,IAAO3L,MAAAA,MAAA,WAAAA,KAAM6d,gBAAN,sBAAgBld,aAAhB,sBAAuBgL,YAAvB,iBAA6BW,KAAI,SAACI,GAAD,OAAQA,EAAGhN,WAAU,GAC/DiM,GAAKnN,UAAW,aAAKmN,IAAMnN,QAC7BqN,GAAOzI,KAAK,CACVyD,KAAM,cACNqG,MAAO,gBACPqC,OAAQuiB,KAAKC,UAAUpmB,IACvB8D,MAAO,eASb,OALAkiB,GAAcA,GAAYrlB,KAAI,SAAC3M,GAAD,cACzBA,GADyB,IAE5B8P,MAAO,SAAF,OAAW9P,MAAAA,OAAX,EAAWA,EAAO8P,YAEzB5D,GAAOmO,UAAU2X,IACV9lB,SA/gBUkiB,CAAsB7T,EAAAA,uMCzF3C,aACA,UACA,iBAEqB4U,EAAAA,SAAAA,okBACpB,SAAQxjB,EAASI,EAAMmS,GAAU,aAC3BA,MAAAA,GAAJ,UAAIA,EAAUnJ,aAAd,OAAI,EAAiBlW,QACnBqf,EAASnJ,MAAMpI,KAAI,SAAC7N,EAAGgnB,GACrB,EAAK1F,aAAa,IAAIiS,EAAAA,QAAmB1mB,EAAvB,UAAmC,EAAKI,KAAxC,kBAAsD+Z,4CAK7E,WACE,IAAM5Z,EAAS,GAEf,OADAA,EAAOmO,WAAU,IAAAxF,uBAAsBxU,MAAAA,UAAtB,EAAsBA,KAAM6d,WACtChS,QAZUijB,CAAgC5U,EAAAA,oNCJrD,aACA,aACA,aACA,YACA,aACA,aACA,cACqBgL,EAAAA,SAAAA,udACnB,WAAY5Z,EAASI,GAAM,wCACnBJ,EAASI,+CAEjB,SAAQJ,EAASI,EAAMmS,GAAU,WAC/B,GAAIA,MAAAA,GAAAA,EAAUwG,QAAS,mBACjB4N,GAAiB,UAAApU,EAAS4P,YAAT,eAAeyE,eAAgB,GAChDC,EAAcnxB,OAAOqG,OAAO4qB,GAAkB,IAClD,GACGE,GAAiD,UAAlCA,MAAAA,GAAA,UAAAA,EAAc,UAAd,mBAAkBxxB,aAAlB,eAAyBkG,OACd,UAA3BsrB,MAAAA,GAAA,UAAAA,EAAc,UAAd,eAAkBtrB,MAClB,WACMurB,EAASD,MAAAA,GAAH,UAAGA,EAAc,UAAjB,iBAAG,EAAkBxxB,aAArB,iBAAG,EAAyByoB,YAA5B,aAAG,EAA+Bje,GAC9CnL,KAAK+f,aAAa,IAAIsS,EAAAA,QAAS/mB,EAAS,aAAe8mB,IAErDvU,MAAAA,GAAJ,UAAIA,EAAU2J,mBAAd,iBAAI,EAAuB6F,gBAA3B,OAAI,EAAiCrZ,YACnChU,KAAK+f,aACH,IAAIR,EAAAA,QAAejU,EAAnB,UAA+BI,EAA/B,4BAGmB,YAAnBmS,MAAAA,OAAA,EAAAA,EAAUhX,OAAqBgX,MAAAA,GAAAA,EAAUkR,aAC3C/uB,KAAK+f,aACH,IAAIV,EAAAA,QAAe/T,EAAnB,UAA+BI,EAA/B,2BAGJmS,MAAAA,GAAA,UAAAA,EAAU4P,YAAV,SAAgBC,KAAKlmB,SAAQ,SAACmmB,EAAKC,GAAa,MAC1CD,MAAAA,GAAJ,UAAIA,EAAKzE,eAAT,OAAI,EAAc1qB,SAChBmvB,MAAAA,GAAAA,EAAKzE,QAAQ1hB,SAAQ,SAACqmB,EAAQC,GAAa,MACzC,EAAK/N,aACH,IAAIgO,EAAAA,QACFziB,EADF,UAEK,EAAKI,KAFV,sBAE4BkiB,EAF5B,oBAEgDE,EAFhD,YAGED,MAAAA,GAHF,UAGEA,EAAQG,eAHV,aAGE,EAAiB7iB,GACjB0S,gDAed,WAAuB,8BA+DjByU,EA/DiB,OACfxN,EAAgB9kB,KAAKub,gBAAe,GAEpCgX,GADqBvyB,KAAK6a,iBACd7a,KAAKoN,YACrB,GACA,SAACuN,GAAD,aAAUA,MAAAA,OAAA,EAAAA,EAAMxP,OAAO,SAAb,UAAa,EAAM0S,gBAAnB,aAAa,EAAgB1S,QAEnCqnB,EAAYD,MAAAA,OAAH,EAAGA,EAAWjmB,KAAI,SAACqO,GAAD,OAAUA,MAAAA,OAAV,EAAUA,EAAM+I,QAO3C+O,EAAS,UAAGzyB,KAAKma,kBAAR,iBAAG,EAAiB/I,MACjC,SAACshB,GAAD,YAA6B,YAAtB,UAAAA,EAAE7U,gBAAF,eAAY8Q,iBADN,aAAG,EAEf9Q,SACG8U,EAAU,UAAG3yB,KAAKma,kBAAR,aAAG,EAAiBrM,QAAO,SAAC4kB,EAAGj0B,GAAM,kBACnD,OACE,UAACA,EAAEof,gBAAH,iBAAC,EAAYld,aAAb,iBAAC,EAAmByS,cAApB,OAAC,EAA2BvM,MACA,aAA5B,UAAApI,EAAEof,gBAAF,mBAAYld,aAAZ,eAAmB2D,OAGrBouB,EAAEj0B,MAAAA,OAAD,EAACA,EAAG0M,IAAM,CACTtE,KAAM,SACNqG,MAAOzO,MAAAA,GAAF,UAAEA,EAAGof,gBAAL,iBAAE,EAAald,aAAf,aAAE,EAAoBuM,MAC3BvM,MAAO,CACLmc,WAAY,CACVjW,KAAM,SACNoN,UAAU,EACVtT,MAAO,CACLwuB,YAAa,CACXtoB,KAAM,OACNQ,OAAQyd,GAEV8N,UAAW,CACT/rB,KAAM,OACNQ,OAAQ,CAAC,UAIfkoB,gBAAiB,CACf1oB,KAAM,SACNoN,UAAU,EACVtT,MAAO,CACLwuB,YAAa,CACXtoB,KAAM,OACNQ,OAAQ,CAAC,QAAS,OAAQ,cAAe,YAAa,UAAW,OAAQ,gBAE3EurB,UAAW,CACT/rB,KAAM,OACNQ,OAAQ,CAAC,MAAO,mBAItBwrB,sBAAuB,CACrBhsB,KAAM,SACNoN,UAAU,KAITye,GAvCEA,IAwCR,IAoBDJ,EAD+D,UAA7D,UAAAtyB,KAAK6d,gBAAL,mBAAe4P,YAAf,mBAAqByE,oBAArB,mBAAoCO,MAAAA,OAApC,EAAoCA,EAAWtnB,WAA/C,eAAoDtE,MACnC,CACjBisB,KAAM,CACJjsB,KAAM,SACNlG,MAAO,CACLigB,IAAK,CACH/Z,KAAM,SACNwN,MAlBV,SAAkB3U,EAAOmM,GACvB,OAHa,OAFX,kHACY4F,KAID/R,GACJA,GAEPmM,EAAOzI,KAAK,CACVyD,KAAM,YACN4H,QAASJ,EAAAA,UAAUC,aAAa,eAAgB,CAACmB,MAAOpB,EAAAA,UAAUC,aAAa,mBAE1E,MAYH5N,OAAQ,CACNmG,KAAM,OACNoN,UAAU,EACV5M,OAAQ,CAAC,QAAS,cAMP,CACjB+hB,KAAM,CACJviB,KAAM,SACNlG,MAAO,CACLwK,GAAI,SACJzK,OAAQ,CACNmG,KAAM,SACNlG,MAAO,CACLkG,KAAM,cAOlB,IAAMksB,GAAY,aAAa,CAC7Bjf,6BAA6B,IAC5BC,QAAQ,CACT5I,GAAI,qBACJ6nB,UAAW,mBACX3O,QAAS,mBACT4O,cAAe,SACf7R,KAAM,qBACN9c,KAAM,qBACNuC,KAAM,CACJA,KAAM,OACNQ,OAAQ,CAAC,OAAQ,eAEnB6rB,QAAS,iBACTnE,WAAY,mBACZrL,KAAM,CACJ7c,KAAM,SACNwN,MA3HJ,SAAqB3U,EAAOmM,EAAQuH,EAAQ1H,EAAM2H,GAIhD,OAHImf,EAAU9jB,SAAShP,IACrBmM,EAAOzI,KAAK,CAAEyD,KAAM,SAAU4H,QAASJ,EAAAA,UAAUC,aAAa,iBAAkBD,EAAAA,UAAUC,aAAa,eAElG5O,IAyHPyzB,QAAS,8BACTC,aAAc,mBACd3F,KAAM,CACJ5mB,KAAM,SACNlG,MAAO,CACL0yB,oBAAqB,SACrBC,SAAU,mBACV5F,KAAM,CACJ7mB,KAAM,QACNya,IAAK,EACLxK,SAAU,CACRyc,SAAUllB,EAAAA,UAAUC,aAAa,uBAEnC4F,MAAO,CACLrN,KAAM,SACNlG,MAAO,CACLwK,GAAI,SACJ+d,QAAS,CACPriB,KAAM,QACNqN,MAAO,CACLrN,KAAM,SACNlG,MAAO,CACLwK,GAAI,SACJ6iB,QAAS,CACPnnB,KAAM,SACNlG,MAAO,CACLwK,GAAI,iBASpB+mB,aAAc,CACZrrB,KAAM,SACNlG,OAAO,EAAF,cACF8xB,MAAAA,OADE,EACFA,EAAWtnB,GAAK,CACftE,KAAM,SACNlG,MAAO,CACLwK,GAAI,kBACJtE,KAAM,CACJA,KAAM,OACNQ,OAAQ,CAAC,OAAQ,SAEnB1G,MAAO,CACLkG,KAAM,SACNlG,MAAO2xB,OAMjBrD,aAAcjuB,MAAAA,QAAA,UAAAA,OAAQwI,KAAKmpB,UAAb,SAA0Bn0B,OACpC,CACEqI,KAAM,SACNlG,MAAOgyB,GAET,CACE9rB,KAAM,SACNoN,UAAU,KAIpBuf,UAAW,CACT3sB,KAAM,SACNoN,UAAU,EACVtT,MAAO,CACLkG,KAAM,aAINgF,EAAS,GACT4nB,GAAiB,eAAe1f,QAAQ,CAC5Cyf,UAAW,CACT3sB,KAAM,SACNlG,MAAO,CACLkG,KAAM,SACN4I,MAAO,aAiBb,MAZqC,oBAAnC,UAAAzP,KAAK6d,gBAAL,mBAAe2V,iBAAf,eAA0B3sB,OACzB7G,MAAAA,MAAD,UAACA,KAAM6d,gBAAP,iBAAC,EAAgB2V,iBAAjB,OAAC,EAA2B/jB,OAE5B5D,EAAOmO,UAAUyZ,EAAezzB,KAAK6d,WAEvC,UAAI7d,KAAK6d,gBAAT,OAAI,EAAewG,UACZrkB,KAAK6d,SAAS4P,KAAKwB,eACtBjvB,KAAK6d,SAAS4P,KAAKwB,aAAe,IAEpCpjB,EAAOmO,UAAU+Y,EAAU/yB,KAAK6d,YAG3BhS,QArRUqZ,CAAiBhL,EAAAA,gOCPtC,aACA,cAEqB8X,EAAAA,SAAAA,udACnB,WAAY1mB,EAASI,GAAM,wCACnBJ,EAASI,+CAGjB,SAAQJ,EAASI,EAAMmS,IACrB,kEAAcvS,EAASI,EAAMmS,uCAG/B,WAAuB,WACfhS,EAAS,GAEf,GADAA,EAAOmO,WAAU,IAAArF,mBAAkB3U,MAAAA,UAAlB,EAAkBA,KAAM6d,WACT,WAA5B7d,KAAK6d,SAAStK,WAA0B5U,MAAME,QAAQmB,KAAK6d,SAASne,OAAQ,OACxEg0B,EAAW1zB,KAAK2zB,kBAChBC,EAAkBF,MAAAA,OAAH,EAAGA,EAAUtiB,MAAK,SAAA1E,GAAE,OAAIA,EAAGvB,KAAO,EAAK0S,SAASpO,SAErE,GAD0BmkB,MAAAA,GAAD,UAACA,EAAiBjzB,aAAlB,QAAC,EAAwB0tB,YAC9B,aACZ1iB,EAAOioB,MAAAA,GAAH,UAAGA,EAAiBjzB,aAApB,iBAAG,EAAwBgL,YAA3B,aAAG,EAA8BW,KAAI,SAAAqO,GAC7C,OAAOA,EAAKjb,SAEd,UAAAM,KAAK6d,gBAAL,mBAAene,aAAf,SAAsB8H,SAAQ,SAAA9H,GACvBiM,MAAAA,GAAAA,EAAM+C,SAAShP,IAClBmM,EAAOzI,KAAK,EAAK+jB,sBAAsB,QAAS,QAAS,EAAKtJ,SAASne,MAAOiM,EAAMA,QAK5F,OAAOE,iCAGT,WAAiB,cACT+iB,EAAQ,UAAG5uB,KAAKqT,kBAAR,iBAAG,EAAiBA,kBAApB,iBAAG,EAA6BA,kBAAhC,aAAG,EAAyCwK,SAC1D,kBAAQ+Q,MAAAA,GAAA,UAAAA,EAAUnB,YAAV,eAAgBC,OAAM,UAA9B,aAAO,EAA4B5f,QAAO,SAACiJ,EAAK8c,GAAQ,MACtD,8BAAW9c,IAAX,aAAmB8c,MAAAA,GAAnB,UAAmBA,EAAK3K,eAAxB,aAAmB,EAAc5c,KAAI,SAAAuhB,GACnC,OAAOA,EAAOG,eAEf,UApCcgE,CAA2B9X,EAAAA,uMCHhD,aACA,UAGA,IAAM4Z,GAAkB,EAFxB,WAEwB,WAAe/f,QAAQ,CAC7C5I,GAAI,qBACJ+B,MAAO,qBACP+O,SAAU,UACVR,UAAW,CACT5U,KAAM,OACNoN,UAAU,EACV5M,OAAQ,CACN0sB,EAAAA,cAAc5c,yBACd4c,EAAAA,cAAc3c,0BACd2c,EAAAA,cAAc1c,4BACd0c,EAAAA,cAAczc,wBACdyc,EAAAA,cAAcxc,iCACdwc,EAAAA,cAAcvc,wBACduc,EAAAA,cAActc,+BACdsc,EAAAA,cAAcrc,gCAGlB7Q,KAAM,CACJA,KAAM,OACNQ,OAAQ2sB,EAAAA,kBAGShP,EAAAA,SAAAA,udACnB,WAAY1Z,EAASI,GAAM,wCACnBJ,EAASI,+CAGjB,SAAQJ,EAASI,EAAMmS,wCAIvB,WACE,OAAOiW,QAVU9O,CAA4B9K,EAAAA,uMC3BjD,aACA,cAEqB+Z,EAAAA,SAAAA,udACnB,WAAY3oB,EAASI,EAAMwoB,GAAyB,mCAClD,cAAM5oB,EAASI,IACVwoB,wBAA0BA,EAFmB,2DAKpD,YAAgC,YAAThnB,EAAS,EAATA,MACb/B,GAAOnL,KAAKk0B,yBAA2B,IAAvC/oB,GACR,OAAIA,GAAM,UAACnL,KAAKsL,eAAN,iBAAC,EAAcyE,WAAf,iBAAC,EAAmBI,wBAApB,iBAAC,EAAqC8K,iBAAtC,OAAC,EAAiD9P,GAarD,KAZE,CACL,CACEO,KAAM1L,KAAK0L,KACX7E,KAAM,6BACN0I,OAAQpE,EACRsD,QAASJ,EAAAA,UAAUC,aACjB,sCACApB,WAhBS+mB,CAA8B/Z,EAAAA,oNCHnD,aACA,aACA,ylBAEqBoL,EAAAA,SAAAA,udACnB,WAAYha,EAASI,GAAM,wCACnBJ,EAASI,4DAGjB,WAAuB,QACfyoB,GAAiB,aAAa,CAClCrgB,6BAA6B,IAC5BC,QAAQ,CACT5I,GAAI,qBACJ7G,KAAM,0BACN8vB,cAAe,mBACfC,YAAa,CACXxtB,KAAM,SACNwN,MAAO,SAAC3U,EAAOmM,EAAQuH,EAAQ1H,EAAM2H,GAYnC,OAXkC,KAA9BA,MAAAA,OAAA,EAAAA,EAAY+gB,iBACT10B,GAEMA,MAAAA,OAAA,EAAAA,EAAOlB,QAAS,KACzBqN,EAAOzI,KAAK,CACVyD,KAAM,eACN4I,MAAO,cACPhB,QAASJ,EAAAA,UAAUC,aAAa,6BALlCzC,EAAOzI,KAAK,CAAEyD,KAAM,WAAY4I,MAAO,iBASpC/P,IAGX40B,cAAe,mBACfC,QAAS,CACP1tB,KAAM,SACNuN,UAAU,EACVC,MAAO,SAAC3U,EAAOmM,EAAQuH,EAAQ1H,EAAM2H,GAqBnC,OApBiC,IAA7BA,EAAWihB,gBACR50B,EAEMA,EAAQ,EACjBmM,EAAOzI,KAAK,CACVyD,KAAM,YACN4I,MAAO,UACPhB,QAASJ,EAAAA,UAAUC,aAAa,2BAA4B,KAErD5O,EAAQ,KACjBmM,EAAOzI,KAAK,CACVyD,KAAM,YACN4I,MAAO,UACPhB,QAASJ,EAAAA,UAAUC,aACjB,2BACA,OAbJzC,EAAOzI,KAAK,CAAEyD,KAAM,WAAY4I,MAAO,aAkBpC/P,IAGXmd,WAAY,CACVhW,KAAM,QACNoN,UAAU,EACVC,MAAO,CACLrN,KAAM,SACNlG,MAAO,CACLwK,GAAI,qBACJ7G,KAAM,0BACNkwB,UAAW,qBACXC,UAAW,CACT5tB,KAAM,OACNQ,OAAQ,CAAC,gBAAiB,kBAE5B3H,MAAO,CACLmH,KAAM,SACNwN,MAAO,SAAC3U,EAAOmM,EAAQuH,EAAQ1H,EAAMgpB,GAuCnC,MArCuB,kBAArBA,EAAOD,WACG,oBAAV/0B,GAEAmM,EAAOzI,KAAK,CACVyD,KAAM,WACN4I,MAAO/D,EACP+C,QACE,sDAIF/O,GAAmB,oBAAVA,IAERA,EAAM6T,WACN,CAAC,QAAS,YAAY7E,SAAShP,EAAM6T,YAEtC1H,EAAOzI,KAAK,CACVyD,KAAM,YACN4I,MAAO,GAAF,OAAK/D,EAAL,cACLuF,SAAU,CAAC,QAAS,cAKtBvR,EAAMA,OACNf,MAAME,QAAQa,EAAMA,QACA,UAApBA,EAAM6T,WACNvS,OAAOqG,OAAO3H,EAAMA,OAAOlB,SAAWkB,EAAMA,MAAMlB,QAElDqN,EAAOzI,KAAK,CACVyD,KAAM,WACN4I,MAAO,GAAF,OAAK/D,EAAL,UACL+C,QAASJ,EAAAA,UAAUC,aAAa,sBAK/B5O,SAObmM,EAASsoB,EAAe,EAAD,GAC3BE,YAAa,GACbD,eAAe,EACfE,eAAe,EACfC,QAAS,MACNv0B,KAAK6d,UALmB,IAM3BhB,WAAY,UAAA7c,KAAK6d,gBAAL,SAAehB,WAAf,UACR7c,KAAK6d,gBADG,aACR,EAAehB,WAAWvQ,KAAI,SAACI,GAAD,cACzBA,GADyB,IAE5BhN,MAAO,uBAET,QAEN,OAAOf,MAAME,QAAQgN,GAAUA,EAAS,SAnIvByZ,CAAsBpL,EAAAA,uMCJ3C,aAGA,IAIMya,GAAY,EANlB,WAMkB,WAAe5gB,QAJd,CACjB5I,GAAI,SACJ7G,KAAM,WAGaswB,EAAAA,SAAAA,udACnB,WAAYtpB,EAASI,GAAM,wCACnBJ,EAASI,+CAGjB,SAAQJ,EAASI,EAAMmS,wCAGvB,WACE,OAAO8W,QATUC,CAAiB1a,EAAAA,gNCRtC,aAEA,aACA,iBAEqBsK,EAAAA,SAAAA,udACnB,WAAYlZ,EAASI,GAAM,wCACnBJ,EAASI,+CAGjB,SAAQJ,EAASI,EAAMmS,GAAU,WAC3BrQ,EAAQuF,EAAAA,QAAU+K,MAAMxS,EAAS,aAClCkC,IACDA,EAAQxM,OAAOqG,OAAOmG,IAChBhG,SAAQ,SAAAwa,GACZ,EAAKjC,aAAa,IAAI6U,EAAAA,QAAStpB,EAAS,aAAa0W,EAAK7W,4CAKhE,WACE,GAA6B,YAAzB,aAAOnL,KAAK6d,UACd,MAAO,CACH7d,KAAKmnB,sBAAsB,SAAU,MAArC,aAAkDnnB,KAAK6d,uCAK/D,WACE,OAAO,QAxBU2G,CAAkBtK,EAAAA,iNCLvC,aACA,iBAEqBwK,EAAAA,SAAAA,udACnB,WAAYpZ,EAASI,GAAM,wCACnBJ,EAASI,+CAGjB,SAAQJ,EAASI,EAAMmS,GAAU,WACzBgX,EAAiB70B,KAAKsb,kBAAiB,GAC1CuZ,GACDA,EAAertB,SAAQ,SAAAstB,GACrB,EAAK/U,aAAa,IAAIgV,EAAAA,QAAgBzpB,EAAS,0CAA0CwpB,2CAI/F,WACE,GAA6B,YAAzB,aAAO90B,KAAK6d,UACd,MAAO,CACH7d,KAAKmnB,sBAAsB,SAAU,MAArC,aAAkDnnB,KAAK6d,kBAhB5C6G,CAA8BxK,EAAAA,uMCHnD,aACA,UACA,aACA,IAAM8a,EAAoB,CACxB7pB,GAAI,SACJ+B,MAAO,SACP+O,SAAU,UACVR,UAAW,CACT5U,KAAM,OACNoN,UAAU,EACV5M,OAAQ,CACN0sB,EAAAA,cAAc5c,yBACd4c,EAAAA,cAAc3c,0BACd2c,EAAAA,cAAc1c,4BACd0c,EAAAA,cAAczc,wBACdyc,EAAAA,cAAcxc,iCACdwc,EAAAA,cAAcvc,wBACduc,EAAAA,cAActc,+BACdsc,EAAAA,cAAcrc,gCAGlB7Q,KAAO,CACLA,KAAM,OACNQ,OAAQ2sB,EAAAA,iBAGNiB,GAAmB,eAAelhB,QAAQihB,GAC3BD,EAAAA,SAAAA,udACnB,WAAYzpB,EAASI,GAAM,wCACnBJ,EAASI,+CAGjB,SAAQJ,EAASI,EAAMmS,wCAGvB,WACE,OAAOoX,QATUF,CAAwB7a,EAAAA,uMC3B7C,aACA,aAEA,IAyDMgb,GAAoB,eAAenhB,QAzDd,CACzBohB,gBAAiB,CACftuB,KAAM,SACNlG,MAAO,CACLygB,KAAM,CACJva,KAAM,SACNlG,MAAO,CACL2D,KAAM,kBACNsc,IAAK,kBACLwU,WAAY,SACZC,QAAS,CACPxuB,KAAM,OACNQ,OAAQ,CAAC,gBAEXR,KAAM,CACJA,KAAM,OACNQ,OAAQ,CAAC,QAAS,aAM5BiuB,2BAA4B,CAC1BzuB,KAAM,SACNoN,UAAU,EACVG,UAAU,EACVzT,MAAO,CACLkG,KAAM,CACJA,KAAM,OACNQ,OAAQ,CAAC,WAEX0jB,IAAK,CACHlkB,KAAM,SACNoN,UAAU,EACVtT,MAAO,CACL40B,OAAQ,CACN1uB,KAAM,SACNlG,MAAO,CACL,kBAAmB,kBACnB,cAAe,kBACf,gBAAiB,sBAKzB60B,OAAQ,CACN3uB,KAAM,SACNoN,UAAU,EACVtT,MAAO,CACL80B,OAAQ,kBACRC,KAAM,kBACNC,iBAAkB,wBAkBtBC,GAAuB,eAAe7hB,QARd,CAC5B6M,IAAK,CACH/Z,KAAM,SACNiQ,SAAU,CACRyJ,SAAU,+BAKVsV,GAAwB,eAAe9hB,QAZd,CAC7BzP,KAAM,WAYamgB,EAAAA,SAAAA,udACnB,WAAYnZ,EAASI,GAAM,wCACnBJ,EAASI,+CAGjB,SAAQJ,EAASI,EAAMmS,wCAEvB,WACE,IAAIhS,EAAS,GACPiqB,EAA0BZ,EAAkBl1B,KAAK6d,UAIvD,GAHIlf,MAAME,QAAQi3B,IAChBjqB,EAAOmO,UAAU8b,GAE6B,UAA5C91B,KAAK6d,SAASsX,gBAAgB/T,KAAKva,KAAkB,CACvD,IAAMe,EAASguB,EAAqB51B,KAAK6d,SAASsX,gBAAgB/T,MAC9DziB,MAAME,QAAQ+I,KAChB5H,KAAKwd,cAAL,UAAwBxd,KAAK0L,KAA7B,yBACAG,EAAOmO,UAAUpS,SAEd,GAAgD,SAA5C5H,KAAK6d,SAASsX,gBAAgB/T,KAAKva,KAAiB,CAC7D,IAAMe,EAASiuB,EAAsB71B,KAAK6d,SAASsX,gBAAgB/T,MAC/DziB,MAAME,QAAQ+I,KAChB5H,KAAKwd,cAAL,UAAwBxd,KAAK0L,KAA7B,yBACAG,EAAOmO,UAAUpS,IAGrB,OAAOiE,QA1BU4Y,CAAyBvK,EAAAA,yLC1E9C,aAGA,IAKM6b,GAAuB,EAP7B,WAO6B,WAAehiB,QALtB,CACpBsQ,QAAS,UACTlZ,GAAK,SACLtE,KAAO,WAGYyd,EAAAA,SAAAA,udACnB,WAAYhZ,EAASI,GAAM,mCACzB,cAAMJ,EAASI,IAGjB4S,qBAAuB,WAAM,QACrBzS,EAAS,GACPoU,EAAc8V,EAAqB,EAAKlY,UAC1Clf,MAAME,QAAQohB,IAChBpU,EAAOmO,UAAUiG,GAKnB,IAAM+V,EAAkB,EAAK7pB,YAAW,GAAO,SAAAid,GAAI,iBAAIA,MAAAA,GAAJ,UAAIA,EAAM7c,iBAAV,iBAAI,EAAiBmB,oBAArB,aAAI,EAA+BgB,SAA/B,UAAwC,EAAKmP,gBAA7C,aAAwC,EAAehX,SAO9G,OANImvB,MAAAA,GAAAA,EAAiBx3B,QACrBqN,EAAOzI,KAAK,EAAK+jB,sBAAsB,WAAY,QAAS,EAAKtJ,SAASxR,MAAO,KAAM,KAAM,0DAEzF,UAAC,EAAKf,eAAN,iBAAC,EAAcyE,WAAf,OAAC,EAAmB1D,MAAM,EAAKwR,SAASoY,OACxCpqB,EAAOzI,KAAK,EAAK+jB,sBAAsB,WAAY,OAAQ,EAAKtJ,SAASoY,KAAM,KAAM,KAAM,yDAExF,kBAAMpqB,IApBU,WADRyY,CAA4B4R,EAAAA,sMCTjD,aAGA,IAKMC,GAAsB,EAP5B,WAO4B,WAAepiB,QALd,CAC3BsQ,QAAS,UACTlZ,GAAK,SACLtE,KAAO,WAGYsd,EAAAA,SAAAA,udACnB,WAAY7Y,EAASI,GAAM,wCACnBJ,EAASI,4DAEjB,WAAuB,QACjBG,EAAS,GACPoU,EAAckW,EAAoBn2B,KAAK6d,UAO7C,OANIlf,MAAME,QAAQohB,IAChBpU,EAAOmO,UAAUiG,IAEfjgB,KAAK6d,SAASuY,WAAa,UAACp2B,KAAKsL,eAAN,iBAAC,EAAcyE,WAAf,OAAC,EAAmB1D,MAAMrM,KAAK6d,SAASuY,YACrEvqB,EAAOzI,KAAKpD,KAAKmnB,sBAAsB,QAAS,YAAannB,KAAK6d,SAASuY,UAAW,kBAEjF,kBAAMvqB,SAbIsY,CAA+B+R,EAAAA,gOCTpD,aACA,aACA,UACA,4lBAEqBziB,EAAAA,SAAAA,udAwBnB,WAAYnI,EAASI,EAAM2qB,EAAYljB,GAAS,mCAC9C,cAAM7H,EAASI,IACV2qB,WAAaA,EAClB,EAAKljB,QAAUkjB,EAH+B,8CAwBhD,SAAQ/qB,EAASI,EAAMmS,mCAEvB,WACE,IAAIpB,EAAezc,KAAKwc,yBAAwB,GAC5C8Z,EAAat2B,KAAKq2B,WAAW1nB,QAAQ,KAAM,IAEzC4nB,GADND,EAAaA,EAAW3nB,QAAQ,UAAW,MACdwC,MAAM,KAAK1E,OAAOuE,SAC3CwlB,EAAgB,KAChBC,GAAUF,MAAAA,OAAA,EAAAA,EAAY,KAAM,GAehC,OAdAA,EAAU/uB,SAAQ,SAACkvB,GACI,MAAjBF,IACFC,EAAUD,EAAc/a,UACpB+a,EAAc/a,UAAY,IAAMib,EAChCF,EAAcrrB,GAAK,IAAMurB,GAE/B,IAAMC,EAAcla,MAAAA,OAAH,EAAGA,EAAega,GAC/BE,IACmB,MAAjBH,GAAmD,OAA1BG,MAAAA,OAAA,EAAAA,EAAalb,aACxC+a,EAAgBG,OAItB32B,KAAKw2B,cAAgBA,EACdA,yCAET,WAA0B,MAExB,OADmBx2B,KAAKwc,yBAAwB,GAChD,UAAOxc,KAAKw2B,qBAAZ,aAAO,EAAoBtpB,oCAE7B,WACE,IAAMuC,EAAQzP,KAAK42B,kBACnB,OAAInnB,EAAMgM,YAAchI,EAAa2D,0BAC5BpX,KAAK62B,iBAAgB,GAE1BpnB,EAAMgM,YAAchI,EAAa0D,yBAC5BnX,KAAK6hB,eAAc,GAExBpS,EAAMgM,YAAchI,EAAa4D,4BAC5BrX,KAAK82B,kBAAiB,GAE3BrnB,EAAMgM,YAAchI,EAAagE,+BAC5BzX,KAAKua,qBAAoB,GAE9B9K,EAAMgM,YAAchI,EAAasI,oCAC5B/b,KAAK+a,iBAAgB,GAEvB,yCAET,WAAuB,WACjB8K,EAAMpS,EAAasjB,wBAAwB/2B,KAAKq2B,YAChDW,EAAY,GACZC,EAA0Bj3B,KAAKwc,yBAAwB,GACvDC,EAAezc,KAAKwc,yBAAwB,GAC5C0a,EAAKl3B,KACLw2B,EAAgB,KAGpB,GAAIx2B,KAAKq2B,WAAW3nB,SAAS,iBAAkB,CAC7C,IAAMyoB,EAAQn3B,KAAKq2B,WAAWc,MAFL,0BAGzB,GAAIA,EAAO,CACT,IAAMtoB,EAASsoB,EAAM,GAClBhmB,MAAM,KACN7E,KAAI,SAAC9I,GAAD,OAAOiQ,EAAa2jB,qBAAqB5zB,EAAE8N,WAC5CpE,GAAQ2B,MAAAA,OAAA,EAAAA,EAAS,KAAM,GACvBqlB,EAA0BrlB,MAAAA,OAAH,EAAGA,EAAS,GACzC,GAAIqlB,EAAyB,CAC3B,IAKMmD,EALwB,IAAIpD,EAAAA,QAChCj0B,KAAKsL,QACLtL,KAAKwd,cACL0W,GAGsB5V,qBAAqB,CAAEpR,MAAAA,IAC/C,GAAImqB,MAAAA,GAAAA,EAAyB74B,OAAQ,CACnC,IAAMqN,EAASwrB,EAAwB/qB,KAAI,SAAC3M,GAAD,cACtCA,GADsC,IAEzCM,KAAM,CAACiN,EAAO,EAAKmpB,iBAErBW,EAAU5zB,KAAV,MAAA4zB,GAAS,aAASnrB,OAM1B,IAAIyrB,EAAQ,IAAIC,MACd,GACA,CACE51B,IAAK,WAAmB,2BAAN1B,EAAM,yBAANA,EAAM,gBACSA,EAA/B,OAAeu3B,EAAgBv3B,EAA/B,GACMw3B,EAAuB,CAAC,gBAAiB,aAAc,SACvDC,EAAiBD,EAAqBxpB,MAAK,SAACxP,GAAD,OAC/Cy4B,EAAGb,WAAW3nB,SAASjQ,MAEzB,GACuB,IAArBu4B,EAAUx4B,QACO,aAAjBg5B,IACCE,EACD,CACA,IAAIC,EAAUH,EACO,MAAjBhB,IACFmB,EAAUnB,EAAc/a,UACpB+a,EAAc/a,UAAY,IAAMkc,EAChCnB,EAAcrrB,GAAK,IAAMwsB,GAE/B,IAAIhB,EAAcla,MAAAA,OAAH,EAAGA,EAAekb,GAC3BC,EAAqBX,MAAAA,OAAH,EAAGA,EAA0BU,GAC/CzqB,GAAQ0qB,MAAAA,OAAA,EAAAA,EAAoB1qB,QAAS,GACtCypB,EAuBkB,MAAjBH,GAAkD,MAAzBG,EAAYlb,YACvC+a,EAAgBG,GAvBdiB,EACFZ,EAAU5zB,KAAK,CACbsI,KAAMwrB,EAAG1Z,cACT3W,KAAM,kBACN4H,QAASJ,EAAAA,UAAUC,aACjB,8BACApB,GAEFjN,KAAM,CAACiN,EAAOgqB,EAAGb,cAGnBW,EAAU5zB,KAAK,CACbsI,KAAMwrB,EAAG1Z,cACT3W,KAAM,kBACN4H,QAASJ,EAAAA,UAAUC,aACjB,0BACAqpB,GAEF13B,KAAM,CAACiN,EAAOgqB,EAAGb,cASzB,OAAOiB,KAIb,IACEzR,EAAIgS,SAASP,GACb,MAAOl3B,IAMT,OAHI42B,MAAAA,GAAAA,EAAWx4B,OAGRw4B,2CAvLT,SAA+BhgB,GAC7B,IAAI6O,EAAM7lB,KAAK83B,wBAAwB9gB,GASvC,OARW,MAAP6O,KACFA,GAAM,aAAQ7O,IACV+gB,iBAAiB,iBAAiB,cAAU,eAChDlS,EAAIkS,iBAAiB,cAAc,cAAU,eAC7ClS,EAAIkS,iBAAiB,YAAY,cAAU,WAC3ClS,EAAIkS,iBAAiB,UAAU,cAAU,UACzC/3B,KAAK83B,wBAAwB9gB,GAAQ6O,GAEhCA,QAtBUpS,CAAqByG,EAAAA,qBAArBzG,EACZukB,WAAa,CAClBC,QAAQ,EACRC,QAAQ,EACRld,YAAY,EACZmd,MAAM,EACNC,OAAO,EACPC,MAAM,EACNC,YAAY,EACZloB,cAAc,GATGqD,EAWZqkB,wBAA0B,GAXdrkB,EA6BZ8kB,mBAAqB,SAACvhB,GAC3B,IAAIwhB,EAAgBxhB,EACpB,IACEwhB,EAAgB1G,KAAKC,UAAU/a,GAC/B,MAAO/J,GACPurB,EAAgBnW,OAAOmW,GAGzB,OADgB,IAAIC,OAAO71B,KAAK41B,GAAep0B,SAAS,WApCvCqP,EAuCZ2jB,qBAAuB,SAACpgB,GAC7B,IAAI0hB,EAAa,IAAID,OAAO71B,KAAKyf,OAAOrL,GAAO,UAAU5S,SAAS,SAClE,IACEs0B,EAAa5G,KAAKlM,MAAM8S,GACxB,MAAOzrB,GACPyrB,EAAarW,OAAOqW,GAEtB,OAAOA,qLCnDX,aACA,aAEA,IAWMC,GAAa,EAZnB,WAYmB,WAAe5kB,QAXd,CAClB5I,GAAI,SACJie,KAAM,CACJviB,KAAM,SACNoN,UAAU,EACVtT,MAAO,CACL,GAAM,SACN,SAAY,qBAKGi4B,EAAAA,SAAAA,udAGnB,WAAYttB,EAASI,EAAMmtB,EAAUpT,GAAO,mCAC1C,cAAMna,EAASI,IACV+Z,MAAQA,EACb,EAAKoT,SAAWA,EAH0B,8CAM5C,SAAQvtB,EAASI,EAAMmS,GAAU,WAC3Bib,EAAcjb,EAAS1S,GAC3BnL,KAAK64B,SAASE,kBAAkBD,GAAe94B,KAC/C,IAAIg5B,EAAgB,kBAAkBF,EACtC94B,KAAK+f,aAAa,IAAImN,EAAAA,QAAc5hB,EAAS0tB,IAC1Cnb,MAAAA,GAAAA,EAAUsP,SACXtP,EAASsP,SAAS3lB,SAAQ,SAACyW,EAAWwH,GACpC,EAAK1F,aAAa,IAAI6Y,EAAUttB,EAASI,EAAK,aAAa+Z,EAAM,IAAK,EAAKoT,SAAUpT,OAGjF5H,MAAAA,GAAAA,EAAUuL,KAChBppB,KAAK+f,aAAa,IAAI6Y,EAAUttB,EAASI,EAAO,QAAS1L,KAAK64B,SAAU,IAElEhb,MAAAA,GAAAA,EAAUqL,SAChBrL,EAASqL,QAAQ1hB,SAAQ,SAACyW,EAAWwH,GACnC,EAAK1F,aAAa,IAAI6Y,EAAUttB,EAASI,EAAK,YAAY+Z,EAAM,IAAK,EAAKoT,SAAUpT,2CAI1F,WAAuB,YACjB5Z,EAAS,GACPotB,EAAmBN,EAAW34B,KAAK6d,UACrClf,MAAME,QAAQo6B,IAChBptB,EAAOmO,UAAUif,GAEnB,IAAMC,EAAcl5B,MAAAA,MAAH,UAAGA,KAAM6d,gBAAT,aAAG,EAAgB1S,GAIpC,OAHI,UAACnL,KAAKsL,eAAN,iBAAC,EAAcyE,WAAf,iBAAC,EAAmBnC,kBAApB,OAAC,EAAgCsrB,IACnCrtB,EAAOzI,KAAKpD,KAAKmnB,sBAAsB,QAAS,KAAMnnB,KAAK6d,SAAS1S,KAE/DU,QAtCU+sB,CAAkB1e,EAAAA,gNCfvC,aACA,iBAEqBkT,EAAAA,SAAAA,udAEnB,WAAY9hB,EAASI,GAAM,mCACzB,cAAMJ,EAASI,IAFjBqtB,kBAAoB,GACO,8CAI3B,SAAQztB,EAASI,EAAMmS,GAAU,WAC/BA,EAASrW,SAAQ,SAACyW,EAAWwH,GAC3B,EAAK1F,aAAa,IAAI6Y,EAAAA,QAAUttB,EAASI,EAAK,IAAI+Z,EAAM,IAAK,EAAMA,2CAGvE,WACE,OAAK9mB,MAAME,QAAQmB,KAAK6d,UAKjB,KAJE,CACH7d,KAAKmnB,sBAAsB,QAAS,MAApC,aAAiDnnB,KAAK6d,UAAU,gBAdrDuP,CAAqBlT,EAAAA,uMCH1C,aACA,YAEA,IAWMwO,GAAc,EAZpB,WAYoB,WAAe3U,QAXd,CACnB5I,GAAI,SACJoB,UAAW,CACT1F,KAAM,SACNlG,MAAO,CACHw4B,MAAO,mBACPC,KAAM,mBACN1D,KAAM,uBAKO2D,EAAAA,SAAAA,udACnB,WAAY/tB,EAASI,GAAM,wCACnBJ,EAASI,+CAGjB,SAAQJ,EAASI,EAAMmS,GAAU,QAC5BA,MAAAA,GAAH,UAAGA,EAAUtR,iBAAb,iBAAG,EAAqB4gB,gBAAxB,OAAG,EAA+B3uB,QAChCwB,KAAK+f,aAAa,IAAIqN,EAAAA,QAAa9hB,EAASI,EAAK,4DAIrD,WACE,OAAOgd,QAZU2Q,CAAmBnf,EAAAA,uMCfxC,aACA,YACA,YACA,aACA,UACA,aACA,cAGqBmY,EAAAA,SAAAA,udACnB,WAAY/mB,EAASI,GAAM,wCACnBJ,EAASI,4DAGjB,WAAuB,yBACf4tB,IAAqB,UAACt5B,KAAK6d,gBAAN,iBAAC,EAAetR,iBAAhB,iBAAC,EAA0BmB,oBAA3B,OAAC,EAAwClP,QAE9D+6B,EADQv5B,KAAKmM,YAAW,GAAO,SAAAwO,GAAI,aAAIA,MAAAA,OAAA,EAAAA,EAAMxP,OAAO,SAAb,UAAa,EAAM0S,gBAAnB,aAAa,EAAgB1S,OACtDmB,KAAI,SAAAqO,GAAI,aAAIA,MAAAA,GAAJ,UAAIA,EAAMpO,iBAAV,aAAI,EAAiBmX,QAC3C8V,GAAY,eAAezlB,QAAQ,CACvCsQ,QAAS,UACTlZ,GAAI,SACJoB,UAAW,CACT1F,KAAM,SACNlG,MAAO,CACL2D,KAAM,SACNijB,MAAO,CACL1gB,KAAM,OACNQ,OAAQ,CAAC,OAAQ,SAAU,SAC3B4M,UAAU,GAEZwlB,UAAW,mBACXtM,SAAU,iBACVxN,MAAO2Z,EAAqB,kBAAmB,aAI/CI,GAAgB,aAAa,CAAC5lB,6BAA6B,IAAOC,QAAQ,CAC9ExH,UAAW,CACT1F,KAAM,SACNlG,MAAO,CACL+iB,KAAM,CACJ7c,KAAM,SACNwN,MAAQ,SAAC3U,EAAOmM,EAAQuH,GAOtB,OANGumB,EAAAA,oBAAoBjrB,SAAShP,GAC9BmM,EAAOzI,KAAK,CAACyD,KAAM,WAAYqG,MAAOmB,EAAAA,UAAUC,aAAa,YAAa2C,SAAU0oB,EAAAA,sBAE9EJ,EAAM7qB,SAAShP,IACrBmM,EAAOzI,KAAK,CAACyD,KAAM,SAAU4H,QAASJ,EAAAA,UAAUC,aAAa,iBAAkBD,EAAAA,UAAUC,aAAa,eAEjG5O,QAMXmM,EAAS,GACP+tB,EAAkBJ,EAAUx5B,KAAK6d,UAIvC,GAHIlf,MAAME,QAAQ+6B,IAChB/tB,EAAOmO,UAAU4f,GAEnB,UAAI55B,KAAK6d,gBAAT,iBAAI,EAAetR,iBAAnB,iBAAI,EAA0BmB,oBAA9B,OAAI,EAAwCO,MAAK,SAAA4rB,GAAG,MAAI,CAAC,UAAW,mBAAmBnrB,SAASmrB,MAAO,CACrG,IAAMC,EAAkBJ,EAAc15B,KAAK6d,UAC3ChS,EAAOmO,UAAU8f,GAEnB,iBAAG95B,KAAK6d,gBAAR,OAAG,EAAewG,QACT,kBAAMxY,GACR,iBAAM,2BAGjB,SAAQP,EAASI,EAAMmS,GAAU,sBAC/B7d,KAAK65B,KAAM,UAAAhc,EAAStR,iBAAT,mBAAoBmB,oBAApB,eAAmC,KAAM,UACjDmQ,MAAAA,GAAH,UAAGA,EAAU2J,mBAAb,iBAAG,EAAuB6F,gBAA1B,OAAG,EAAiCrZ,YAClChU,KAAK+f,aAAa,IAAIR,EAAAA,QAAejU,EAAnB,UAA+BI,EAA/B,2BAEjBmS,MAAAA,GAAA,UAAAA,EAAUtR,iBAAV,SAAqBktB,WAArB5b,MAAkCA,GAAlC,UAAkCA,EAAUtR,iBAA5C,iBAAkC,EAAqBmB,oBAAvD,OAAkC,EAAmClP,QACtEwB,KAAK+f,aAAa,IAAIV,EAAAA,QAAe/T,EAAnB,UAA+BI,EAA/B,2BAEjBmS,MAAAA,GAAH,UAAGA,EAAUtR,iBAAb,iBAAG,EAAqB4gB,gBAAxB,OAAG,EAA+B3uB,QAChCwB,KAAK+f,aAAa,IAAIqN,EAAAA,QAAa9hB,EAASI,EAAK,8BArElC2mB,CAAiBnY,EAAAA,uMCTtC,aACA,YAEA,IAWM6f,GAAe,EAZrB,WAYqB,WAAehmB,QAXd,CACpB5I,GAAI,SACJoB,UAAW,CACT1F,KAAM,SACNlG,MAAO,CACHw4B,MAAO,mBACPC,KAAM,mBACN1D,KAAM,uBAKOsE,EAAAA,SAAAA,udACnB,WAAY1uB,EAASI,GAAM,wCACnBJ,EAASI,+CAGjB,SAAQJ,EAASI,EAAMmS,GAAU,QAC5BA,MAAAA,GAAH,UAAGA,EAAUtR,iBAAb,iBAAG,EAAqB4gB,gBAAxB,OAAG,EAA+B3uB,QAChCwB,KAAK+f,aAAa,IAAIqN,EAAAA,QAAa9hB,EAASI,EAAK,4DAIrD,WACE,OAAOquB,QAZUC,CAAoB9f,EAAAA,uMCfzC,aAEA,aACA,aACA,iBAEqBgc,EAAAA,SAAAA,udACnB,WAAY5qB,EAASI,GAAM,wCACnBJ,EAASI,+CAGjB,SAAQJ,EAASI,EAAMmS,GAAU,WAC3Boc,EAAUpc,EAAShX,KACnBqzB,EAAcrc,EAASuY,UACvB+D,EAAYtc,EAASuc,QACrB/tB,EAAQrM,KAAKmM,YAAW,GACzBE,MAAAA,GAAAA,EAAO7N,QACR6N,EAAM7E,SAAQ,SAAA4hB,GACTA,MAAAA,IAAAA,EAAM/E,SAAY+E,MAAAA,GAAAA,EAAMhP,QAMlBgP,EAAKje,KAAO+uB,EACnB,EAAKna,aAAa,IAAIsZ,EAAAA,QAAW/tB,EAAS,aAAa8d,EAAKje,KACrDie,EAAKje,KAAOgvB,GACnB,EAAKpa,aAAa,IAAIia,EAAAA,QAAY1uB,EAAS,aAAa8d,EAAKje,KAR5C,SAAdie,EAAKviB,MAC4B,MAA/BuiB,EAAK7c,UAAUmB,cAAwB0b,EAAK7c,UAAUmB,aAAagY,QAAQuU,IAAY,GACxF,EAAKla,aAAa,IAAIsS,EAAAA,QAAS/mB,EAAS,aAAa8d,EAAKje,cAfnD+qB,CAAiBhc,EAAAA,0LCNtC,aACA,aACA,UAEA,IAKMmgB,GAAe,eAAetmB,QALd,CACpBsQ,QAAS,UACTlZ,GAAK,SACLtE,KAAO,WAGYqd,EAAAA,SAAAA,udACnB,WAAY5Y,EAASI,GAAM,mCACzB,cAAMJ,EAASI,IAGjB4S,qBAAuB,WAAM,YACrBzS,EAAS,GACPoU,EAAcoa,EAAa,EAAKxc,UAUtC,OATIlf,MAAME,QAAQohB,IAChBpU,EAAOmO,UAAUiG,GAEf,UAAC,EAAK3U,eAAN,iBAAC,EAAcyE,WAAf,OAAC,EAAmB1D,MAAM,EAAKwR,SAASuY,YAC1CvqB,EAAOzI,KAAK,EAAK+jB,sBAAsB,QAAS,YAAa,EAAKtJ,SAASuY,UAAW/nB,EAAAA,UAAUC,aAAa,kBAE3G,UAAC,EAAKhD,eAAN,iBAAC,EAAcyE,WAAf,OAAC,EAAmB1D,MAAM,EAAKwR,SAASoY,OACxCpqB,EAAOzI,KAAK,EAAK+jB,sBAAsB,QAAS,OAAQ,EAAKtJ,SAASoY,KAAM5nB,EAAAA,UAAUC,aAAa,kBAEhG,kBAAMzC,IAhBU,WADRqY,CAAoBgS,EAAAA,wDCV5B,IAAIoE,EAAEA,GAAG,GAAGA,EAAEC,MAAM,GAAGD,EAAEE,kBAAkB,SAASC,GAAG,IAAIC,EAAE,EAAE,OAAO,WAAW,OAAOA,EAAED,EAAEj8B,OAAO,CAACoB,MAAK,EAAGF,MAAM+6B,EAAEC,MAAM,CAAC96B,MAAK,KAAM06B,EAAEK,cAAc,SAASF,GAAG,MAAM,CAACt3B,KAAKm3B,EAAEE,kBAAkBC,KAAKH,EAAEM,YAAW,EAAGN,EAAEO,sBAAqB,EAAGP,EAAEQ,sBAAqB,EAAGR,EAAES,wBAAuB,EAAGT,EAAEU,mBAAkB,EAAGV,EAAEW,wBAAuB,EAAGX,EAAEY,oDAAmD,EAC5ZZ,EAAEr5B,eAAeq5B,EAAEM,YAAY,mBAAmB55B,OAAOm6B,iBAAiBn6B,OAAOC,eAAe,SAASw5B,EAAEC,EAAEU,GAAG,OAAGX,GAAG97B,MAAMyC,WAAWq5B,GAAGz5B,OAAOI,YAAmBq5B,EAAEC,GAAGU,EAAE17B,OAAT+6B,GAAyBH,EAAEe,UAAU,SAASZ,GAAGA,EAAE,CAAC,iBAAiB3vB,YAAYA,WAAW2vB,EAAE,iBAAiBa,QAAQA,OAAO,iBAAiBv8B,MAAMA,KAAK,iBAAiB,EAAAu7B,GAAQ,EAAAA,GAAQ,IAAI,IAAII,EAAE,EAAEA,EAAED,EAAEj8B,SAASk8B,EAAE,CAAC,IAAIU,EAAEX,EAAEC,GAAG,GAAGU,GAAGA,EAAEG,MAAMA,KAAK,OAAOH,EAAE,MAAMp1B,MAAM,8BAA+Bs0B,EAAEkB,OAAOlB,EAAEe,UAAUr7B,MAChes6B,EAAEmB,iBAAiB,mBAAoB/4B,QAAQ,iBAAkBA,OAAO,KAAK43B,EAAEoB,qBAAqBpB,EAAEU,mBAAmBV,EAAEmB,iBAAiBnB,EAAEqB,UAAU,GAAGrB,EAAEsB,yBAAyB,GAAGtB,EAAEuB,gBAAgB,SAASvB,EAAEwB,SAAS,SAASrB,EAAEC,EAAEU,EAAEzoB,GAAG+nB,IAAIJ,EAAEU,kBAAkBV,EAAEyB,iBAAiBtB,EAAEC,EAAEU,EAAEzoB,GAAG2nB,EAAE0B,mBAAmBvB,EAAEC,EAAEU,EAAEzoB,KAChU2nB,EAAE0B,mBAAmB,SAASvB,EAAEC,GAAG,IAAIU,EAAEd,EAAEkB,OAAOf,EAAEA,EAAEtpB,MAAM,KAAK,IAAI,IAAIwB,EAAE,EAAEA,EAAE8nB,EAAEj8B,OAAO,EAAEmU,IAAI,CAAC,IAAIspB,EAAExB,EAAE9nB,GAAG,KAAKspB,KAAKb,GAAG,OAAOA,EAAEA,EAAEa,IAA0BvB,EAAEA,EAAT/nB,EAAEyoB,EAAlBX,EAAEA,EAAEA,EAAEj8B,OAAO,OAAoBmU,GAAG,MAAM+nB,GAAGJ,EAAEr5B,eAAem6B,EAAEX,EAAE,CAAC35B,cAAa,EAAGC,UAAS,EAAGrB,MAAMg7B,KAC1OJ,EAAEyB,iBAAiB,SAAStB,EAAEC,EAAEU,GAAG,IAAIzoB,EAAE8nB,EAAEtpB,MAAM,KAAKspB,EAAE,IAAI9nB,EAAEnU,OAAO,IAAIy9B,EAAEtpB,EAAE,GAAGspB,GAAGxB,GAAGwB,KAAK3B,EAAEqB,UAAUrB,EAAEqB,UAAUrB,EAAEkB,OAAO,IAAI,IAAIU,EAAE,EAAEA,EAAEvpB,EAAEnU,OAAO,EAAE09B,IAAI,CAAC,IAAIC,EAAExpB,EAAEupB,GAAG,KAAKC,KAAKF,GAAG,OAAOA,EAAEA,EAAEE,GAAGxpB,EAAEA,EAAEA,EAAEnU,OAAO,GAAoD,OAAPk8B,EAAEA,EAA5CU,EAAEd,EAAEmB,kBAAkB,QAAQL,EAAEa,EAAEtpB,GAAG,SAAsB8nB,EAAEH,EAAEr5B,eAAeq5B,EAAEqB,UAAUhpB,EAAE,CAAC7R,cAAa,EAAGC,UAAS,EAAGrB,MAAMg7B,IAAIA,IAAIU,SAAI,IAASd,EAAEsB,yBAAyBjpB,KAAK8nB,EAAE,IAAIc,KAAKa,WAAW,EAAE9B,EAAEsB,yBAAyBjpB,GAAG2nB,EAAEmB,iBAAiBnB,EAAEkB,OAAO94B,OAAOiQ,GAAG2nB,EAAEuB,gBAAgBpB,EAAE,IACpf9nB,GAAG2nB,EAAEr5B,eAAeg7B,EAAE3B,EAAEsB,yBAAyBjpB,GAAG,CAAC7R,cAAa,EAAGC,UAAS,EAAGrB,MAAMg7B,OAAOJ,EAAE+B,WAAW,aAC3G/B,EAAEwB,SAAS,UAAS,SAASrB,GAA2H,SAASW,EAAEc,EAAEC,GAAGn8B,KAAKs8B,mBAAmBJ,EAAE5B,EAAEr5B,eAAejB,KAAK,cAAc,CAACc,cAAa,EAAGC,UAAS,EAAGrB,MAAMy8B,IAAI,GAAG1B,EAAE,OAAOA,EAAEW,EAAEh6B,UAAUgD,SAAS,WAAW,OAAOpE,KAAKs8B,oBAAoB,IAAI3pB,EAAE,kBAAkB,IAAI4oB,KAAKa,WAAW,GAAG,IAAIH,EAAE,EAAE,OAAlX,SAASvB,EAAEwB,GAAG,GAAGl8B,gBAAgB06B,EAAE,MAAM,IAAIl6B,UAAU,+BAA+B,OAAO,IAAI46B,EAAEzoB,GAAGupB,GAAG,IAAI,IAAID,IAAIC,MAAuQ,MAAM,OACla5B,EAAEwB,SAAS,mBAAkB,SAASrB,GAAG,GAAGA,EAAE,OAAOA,EAAEA,EAAE/3B,OAAO,mBAAmB,IAAI,IAAIg4B,EAAE,uHAAuHvpB,MAAM,KAAKiqB,EAAE,EAAEA,EAAEV,EAAEl8B,OAAO48B,IAAI,CAAC,IAAIzoB,EAAE2nB,EAAEkB,OAAOd,EAAEU,IAAI,mBAAoBzoB,GAAG,mBAAmBA,EAAEvR,UAAUq5B,IAAIH,EAAEr5B,eAAe0R,EAAEvR,UAAUq5B,EAAE,CAAC35B,cAAa,EAAGC,UAAS,EAAGrB,MAAM,WAAW,OAAO46B,EAAEiC,kBAAkBjC,EAAEE,kBAAkBx6B,UAAU,OAAOy6B,IAAG,MAAM,OACxdH,EAAEiC,kBAAkB,SAAS9B,GAAyD,OAAtDA,EAAE,CAACt3B,KAAKs3B,IAAK/3B,OAAOC,UAAU,WAAW,OAAO3C,MAAay6B,GAAGH,EAAEkC,kBAAkB,SAAS/B,EAAEC,GAAGD,aAAapY,SAASoY,GAAG,IAAI,IAAIW,EAAE,EAAEzoB,GAAE,EAAGspB,EAAE,CAAC94B,KAAK,WAAW,IAAIwP,GAAGyoB,EAAEX,EAAEj8B,OAAO,CAAC,IAAI09B,EAAEd,IAAI,MAAM,CAAC17B,MAAMg7B,EAAEwB,EAAEzB,EAAEyB,IAAIt8B,MAAK,GAAS,OAAL+S,GAAE,EAAS,CAAC/S,MAAK,EAAGF,WAAM,KAAkD,OAAxCu8B,EAAEv5B,OAAOC,UAAU,WAAW,OAAOs5B,GAAUA,GAAG3B,EAAEwB,SAAS,wBAAuB,SAASrB,GAAG,OAAOA,GAAI,WAAW,OAAOH,EAAEkC,kBAAkBx8B,MAAK,SAAS06B,GAAG,OAAOA,QAAM,MAAM,OACrdJ,EAAEwB,SAAS,0BAAyB,SAASrB,GAAG,OAAOA,GAAI,WAAW,OAAOH,EAAEkC,kBAAkBx8B,MAAK,SAAS06B,EAAEU,GAAG,OAAOA,QAAM,MAAM,OAAOd,EAAEmC,gBAAgB,SAAShC,EAAEC,EAAEU,GAAG,GAAG,MAAMX,EAAE,MAAM,IAAIj6B,UAAU,yCAAyC46B,EAAE,kCAAkC,GAAGV,aAAalpB,OAAO,MAAM,IAAIhR,UAAU,sCAAsC46B,EAAE,qCAAqC,OAAOX,EAAE,IAC7ZH,EAAEwB,SAAS,+BAA8B,SAASrB,GAAG,OAAOA,GAAI,SAASC,EAAEU,GAAG,IAAIzoB,EAAE2nB,EAAEmC,gBAAgBz8B,KAAK06B,EAAE,cAAcA,GAAG,GAAG,IAAIuB,EAAEtpB,EAAEnU,OAAO09B,EAAExB,EAAEl8B,OAAO48B,EAAEG,KAAKha,IAAI,EAAEga,KAAKja,IAAM,EAAF8Z,EAAIzoB,EAAEnU,SAAS,IAAI,IAAI29B,EAAE,EAAEA,EAAED,GAAGd,EAAEa,GAAG,GAAGtpB,EAAEyoB,MAAMV,EAAEyB,KAAK,OAAM,EAAG,OAAOA,GAAGD,KAAI,MAAM,OAAO5B,EAAEoC,KAAK,SAASjC,EAAEC,GAAG,OAAO15B,OAAOI,UAAU0C,eAAe/B,KAAK04B,EAAEC,IAC/UJ,EAAEqC,OAAOrC,EAAEoB,qBAAqB,mBAAmB16B,OAAO27B,OAAO37B,OAAO27B,OAAO,SAASlC,EAAEC,GAAG,IAAI,IAAIU,EAAE,EAAEA,EAAEl7B,UAAU1B,OAAO48B,IAAI,CAAC,IAAIzoB,EAAEzS,UAAUk7B,GAAG,GAAGzoB,EAAE,IAAI,IAAIspB,KAAKtpB,EAAE2nB,EAAEoC,KAAK/pB,EAAEspB,KAAKxB,EAAEwB,GAAGtpB,EAAEspB,IAAI,OAAOxB,GAAGH,EAAEwB,SAAS,iBAAgB,SAASrB,GAAG,OAAOA,GAAGH,EAAEqC,SAAQ,MAAM,OAAOrC,EAAEsC,4BAA4B,WAAW,IAAI,IAAInC,EAAE,GAAGC,EAAE15B,OAAOuB,OAAO,IAAI+3B,EAAEkB,OAAOjE,MAAMkD,EAAE,CAAC94B,IAAI,SAASy5B,EAAEzoB,EAAEspB,GAAG,OAAOb,GAAGX,GAAG,KAAK9nB,GAAGspB,GAAGvB,MAAM,OAAM,IAAKA,EAAEmC,EAAE,MAAMzB,GAAG,OAAM,IAAKd,EAAEwC,sCAAqC,EAC3exC,EAAEyC,gBAAgBzC,EAAEwC,sCAAsCxC,EAAEsC,8BAA8BtC,EAAE0C,aAAa,SAASvC,GAAG,IAAIC,EAAE,oBAAoBh4B,QAAQA,OAAOC,UAAU83B,EAAE/3B,OAAOC,UAAU,OAAO+3B,EAAEA,EAAE34B,KAAK04B,GAAGH,EAAEK,cAAcF,IAC9NH,EAAEwB,SAAS,WAAU,SAASrB,GAAG,SAASC,EAAEuC,GAA4C,GAAzCj9B,KAAKk9B,KAAK/4B,GAAGo3B,KAAKa,SAAS,GAAGh4B,WAAc64B,EAAE,CAACA,EAAE3C,EAAE0C,aAAaC,GAAG,IAAI,IAAIz5B,IAAIA,EAAEy5B,EAAE95B,QAAQvD,MAAM4D,EAAEA,EAAE9D,MAAMM,KAAKm9B,IAAI35B,EAAE,GAAGA,EAAE,KAA8N,SAASmP,KAAK,SAASspB,EAAEgB,GAAG,IAAIz5B,SAASy5B,EAAE,MAAM,WAAWz5B,GAAG,OAAOy5B,GAAG,aAAaz5B,EAAE,SAAS04B,EAAEe,GAAG,IAAI3C,EAAEoC,KAAKO,EACzfG,GAAG,CAAC,IAAI55B,EAAE,IAAImP,EAAE2nB,EAAEr5B,eAAeg8B,EAAEG,EAAE,CAAC19B,MAAM8D,KAAK,SAAS24B,EAAEc,GAAG,IAAI3C,EAAEU,kBAAkB,CAAC,IAAIx3B,EAAExC,OAAOi8B,GAAGz5B,IAAIxC,OAAOi8B,GAAG,SAASI,GAAG,OAAGA,aAAa1qB,EAAS0qB,GAAEr8B,OAAOs8B,aAAaD,IAAInB,EAAEmB,GAAU75B,EAAE65B,OAAM,GAAG/C,EAAEwC,sCAAsC,GAAGrC,GAAGH,EAAEyC,gBAAgB,OAAOtC,OAAO,GAD3G,WAAa,IAAIA,IAAIz5B,OAAOu8B,KAAK,OAAM,EAAG,IAAI,IAAIN,EAAEj8B,OAAOu8B,KAAK,IAAI/5B,EAAExC,OAAOu8B,KAAK,IAAIF,EAAE,IAAI5C,EAAE,CAAC,CAACwC,EAAE,GAAG,CAACz5B,EAAE,KAAK,OAAG,GAAG65B,EAAE17B,IAAIs7B,IAAI,GAAGI,EAAE17B,IAAI6B,KAAY65B,EAAEG,OAAOP,GAAGI,EAAEF,IAAI35B,EAAE,IAAU65B,EAAEI,IAAIR,IAAI,GAAGI,EAAE17B,IAAI6B,IAAG,MAAMk6B,GAAG,OAAM,GACvGtC,GAAI,OAAOX,EAAE,IAAI2C,EAAE,kBAAkB7B,KAAKa,SAASD,EAAE,UAAUA,EAAE,qBAAqBA,EAAE,QAAQ,IAAIh4B,EAAE,EAChG,OADkGu2B,EAAEt5B,UAAU+7B,IAAI,SAASF,EAAEz5B,GAAG,IAAIy4B,EAAEgB,GAAG,MAAMj3B,MAAM,uBAA4B,GAALk2B,EAAEe,IAAO3C,EAAEoC,KAAKO,EAAEG,GAAG,MAAMp3B,MAAM,qBAChfi3B,GAAoB,OAAjBA,EAAEG,GAAGp9B,KAAKk9B,KAAK15B,EAASxD,MAAM06B,EAAEt5B,UAAUO,IAAI,SAASs7B,GAAG,OAAOhB,EAAEgB,IAAI3C,EAAEoC,KAAKO,EAAEG,GAAGH,EAAEG,GAAGp9B,KAAKk9B,UAAK,GAAQxC,EAAEt5B,UAAUq8B,IAAI,SAASR,GAAG,OAAOhB,EAAEgB,IAAI3C,EAAEoC,KAAKO,EAAEG,IAAI9C,EAAEoC,KAAKO,EAAEG,GAAGp9B,KAAKk9B,MAAMxC,EAAEt5B,UAAUo8B,OAAO,SAASP,GAAG,SAAOhB,EAAEgB,IAAI3C,EAAEoC,KAAKO,EAAEG,IAAI9C,EAAEoC,KAAKO,EAAEG,GAAGp9B,KAAKk9B,cAAYD,EAAEG,GAAGp9B,KAAKk9B,MAAgBxC,IAAG,MAAM,OAAOJ,EAAEqD,SAAS,aACrUrD,EAAEwB,SAAS,OAAM,SAASrB,GAAG,SAASC,IAAI,IAAIv2B,EAAE,GAAG,OAAOA,EAAEy5B,SAASz5B,EAAEhB,KAAKgB,EAAE05B,KAAK15B,EAAE,SAASi3B,EAAEj3B,EAAE84B,GAAG,IAAIz5B,EAAEW,EAAE25B,MAAM,OAAOxD,EAAEiC,mBAAkB,WAAW,GAAG/4B,EAAE,CAAC,KAAKA,EAAEq6B,MAAM15B,EAAE25B,OAAOt6B,EAAEA,EAAEo6B,SAAS,KAAKp6B,EAAEL,MAAMK,EAAEq6B,MAAM,OAAOr6B,EAAEA,EAAEL,KAAK,CAACvD,MAAK,EAAGF,MAAMu9B,EAAEz5B,IAAIA,EAAE,KAAK,MAAM,CAAC5D,MAAK,EAAGF,WAAM,MAAU,SAASiT,EAAExO,EAAE84B,GAAG,IAAIz5B,EAAEy5B,UAAUA,EAAE,UAAUz5B,GAAG,YAAYA,EAAE24B,EAAEsB,IAAIR,GAAGz5B,EAAE24B,EAAEx6B,IAAIs7B,IAAIz5B,EAAE,MAAM45B,EAAEjB,EAAEgB,IAAIF,EAAEz5B,IAAIA,EAAE,KAAKy5B,EAAE,IAAII,EAAEl5B,EAAE45B,MAAMv6B,GAAG,GAAG65B,GAAG/C,EAAEoC,KAAKv4B,EAAE45B,MAAMv6B,GAAG,IAAIW,EAAE,EAAEA,EAAEk5B,EAAE7+B,OAAO2F,IAAI,CAAC,IAAIu5B,EAAEL,EAAEl5B,GAAG,GAAG84B,GAAIA,GAAGS,EAAEn+B,KAAMm+B,EAAEn+B,KACnf09B,IAAIS,EAAEn+B,IAAI,MAAM,CAAC4L,GAAG3H,EAAEijB,KAAK4W,EAAE5X,MAAMthB,EAAEkE,MAAMq1B,GAAG,MAAM,CAACvyB,GAAG3H,EAAEijB,KAAK4W,EAAE5X,OAAO,EAAEpd,WAAM,GAAQ,SAAS4zB,EAAE93B,GAA4C,GAAzCnE,KAAK+9B,MAAM,GAAG/9B,KAAK89B,MAAMpD,IAAI16B,KAAKghB,KAAK,EAAK7c,EAAE,CAACA,EAAEm2B,EAAE0C,aAAa74B,GAAG,IAAI,IAAI84B,IAAIA,EAAE94B,EAAEhB,QAAQvD,MAAMq9B,EAAEA,EAAEv9B,MAAMM,KAAKm9B,IAAIF,EAAE,GAAGA,EAAE,KAC7C,GAAG3C,EAAEwC,sCAAsC,GAAGrC,GAAGH,EAAEyC,gBAAgB,OAAOtC,OAAO,GAD/B,WAAa,GAAGH,EAAEO,uBAAuBJ,GAAG,mBAAmBA,IAAIA,EAAEr5B,UAAU+R,SAAS,mBAAmBnS,OAAOu8B,KAAK,OAAM,EAAG,IAAI,IAAIp5B,EAAEnD,OAAOu8B,KAAK,CAACpB,EAAE,IAAIc,EAAE,IAAIxC,EAAEH,EAAE0C,aAAa,CAAC,CAAC74B,EAAE,QAAQ,GAAG,KAAK84B,EAAEt7B,IAAIwC,IAAI,GAAG84B,EAAEjc,MAAMic,EAAEt7B,IAAI,CAACw6B,EAAE,KAAKc,EAAEE,IAAI,CAAChB,EAAE,GAAG,MAAMc,GAAG,GAAGA,EAAEjc,KAAK,OAAM,EACtf,IAAIxd,EAAEy5B,EAAE9pB,UAAUkqB,EAAE75B,EAAEL,OAAO,OAAGk6B,EAAEz9B,MAAMy9B,EAAE39B,MAAM,IAAIyE,GAAG,KAAKk5B,EAAE39B,MAAM,OAAY29B,EAAE75B,EAAEL,QAAgBvD,MAAM,GAAGy9B,EAAE39B,MAAM,GAAGy8B,GAAG,KAAKkB,EAAE39B,MAAM,KAAK8D,EAAEL,OAAOvD,MAAW,MAAM89B,GAAG,OAAM,GAAwFxB,GAAI,OAAOzB,EAAE,IAAI0B,EAAE,IAAI6B,QAAQ/B,EAAE76B,UAAU+7B,IAAI,SAASh5B,EAAE84B,GAAe,IAAIz5B,EAAEmP,EAAE3S,KAApBmE,EAAE,IAAIA,EAAE,EAAEA,GACrQ,OADuRX,EAAEijB,OAAOjjB,EAAEijB,KAAKzmB,KAAK+9B,MAAMv6B,EAAE2H,IAAI,IAAI3H,EAAE6E,MAAM7E,EAAE6E,MAAM3I,MAAMu9B,GAAGz5B,EAAE6E,MAAM,CAAClF,KAAKnD,KAAK89B,MAAMF,SAAS59B,KAAK89B,MAAMF,SAASC,KAAK79B,KAAK89B,MAAMv+B,IAAI4E,EAAEzE,MAAMu9B,GAAGz5B,EAAEijB,KAAKrjB,KAAKI,EAAE6E,OAClgBrI,KAAK89B,MAAMF,SAASz6B,KAAKK,EAAE6E,MAAMrI,KAAK89B,MAAMF,SAASp6B,EAAE6E,MAAMrI,KAAKghB,QAAehhB,MAAMi8B,EAAE76B,UAAUo8B,OAAO,SAASr5B,GAAe,UAAZA,EAAEwO,EAAE3S,KAAKmE,IAAYkE,QAAOlE,EAAEsiB,OAAMtiB,EAAEsiB,KAAKxM,OAAO9V,EAAEshB,MAAM,GAAGthB,EAAEsiB,KAAKjoB,eAAewB,KAAK+9B,MAAM55B,EAAEgH,IAAIhH,EAAEkE,MAAMu1B,SAASz6B,KAAKgB,EAAEkE,MAAMlF,KAAKgB,EAAEkE,MAAMlF,KAAKy6B,SAASz5B,EAAEkE,MAAMu1B,SAASz5B,EAAEkE,MAAMw1B,KAAK,KAAK79B,KAAKghB,OAAO,KAAQib,EAAE76B,UAAU68B,MAAM,WAAWj+B,KAAK+9B,MAAM,GAAG/9B,KAAK89B,MAAM99B,KAAK89B,MAAMF,SAASlD,IAAI16B,KAAKghB,KAAK,GAAGib,EAAE76B,UAAUq8B,IAAI,SAASt5B,GAAG,QAAQwO,EAAE3S,KAAKmE,GAAGkE,OAAO4zB,EAAE76B,UAAUO,IAAI,SAASwC,GAAG,OAAOA,EAC7fwO,EAAE3S,KAAKmE,GAAGkE,QAAQlE,EAAEzE,OAAOu8B,EAAE76B,UAAU+R,QAAQ,WAAW,OAAOioB,EAAEp7B,MAAK,SAASmE,GAAG,MAAM,CAACA,EAAE5E,IAAI4E,EAAEzE,WAAUu8B,EAAE76B,UAAUoI,KAAK,WAAW,OAAO4xB,EAAEp7B,MAAK,SAASmE,GAAG,OAAOA,EAAE5E,QAAO08B,EAAE76B,UAAUiG,OAAO,WAAW,OAAO+zB,EAAEp7B,MAAK,SAASmE,GAAG,OAAOA,EAAEzE,UAASu8B,EAAE76B,UAAUoG,QAAQ,SAASrD,EAAE84B,GAAG,IAAI,IAAqBI,EAAjB75B,EAAExD,KAAKmT,YAAckqB,EAAE75B,EAAEL,QAAQvD,MAAMy9B,EAAEA,EAAE39B,MAAMyE,EAAEpC,KAAKk7B,EAAEI,EAAE,GAAGA,EAAE,GAAGr9B,OAAOi8B,EAAE76B,UAAUsB,OAAOC,UAAUs5B,EAAE76B,UAAU+R,QAAQ,IAAIiqB,EAAE,EAAE,OAAOnB,IAAG,MAAM,OAC3b3B,EAAEwB,SAAS,6BAA4B,SAASrB,GAAG,OAAOA,GAAI,SAASC,EAAEU,GAAG,IAAIzoB,EAAE2nB,EAAEmC,gBAAgBz8B,KAAK06B,EAAE,YAAYA,GAAG,QAAG,IAASU,IAAIA,EAAEzoB,EAAEnU,QAAQ48B,EAAEG,KAAKha,IAAI,EAAEga,KAAKja,IAAM,EAAF8Z,EAAIzoB,EAAEnU,SAAS,IAAI,IAAIy9B,EAAEvB,EAAEl8B,OAAO,EAAEy9B,GAAG,EAAEb,GAAG,GAAGzoB,IAAIyoB,IAAIV,IAAIuB,GAAG,OAAM,EAAG,OAAO,GAAGA,KAAI,MAAM,OAAO3B,EAAEwB,SAAS,gBAAe,SAASrB,GAAG,OAAOA,GAAI,SAASC,GAAG,MAAM,iBAAkBA,GAAG1xB,MAAM0xB,MAAK,MAAM,OACvXJ,EAAEwB,SAAS,kBAAiB,SAASrB,GAAG,OAAOA,GAAI,SAASC,GAAG,IAAS/nB,EAALyoB,EAAE,GAAK,IAAIzoB,KAAK+nB,EAAEJ,EAAEoC,KAAKhC,EAAE/nB,IAAIyoB,EAAEh4B,KAAK,CAACuP,EAAE+nB,EAAE/nB,KAAK,OAAOyoB,KAAI,MAAM,OAsEpEh9B,EAAOC,QArEvE,WAAa,SAASo8B,EAAE/H,GAAwT,GAArT1yB,KAAKk+B,KAAK,GAAGl+B,KAAKm+B,SAAS,GAAGn+B,KAAK8W,SAAS9V,OAAO27B,OAAO,GAAGE,GAAG78B,KAAK0U,MAAM,CAAC0pB,IAAIC,EAAEC,MAAMC,EAAEC,QAAQC,EAAEC,MAAMC,EAAEvc,OAAOwc,EAAEC,SAASC,EAAEC,KAAKC,EAAE9Q,MAAM+Q,EAAEC,KAAKC,EAAE3b,MAAM4b,EAAGC,UAAUC,EAAGC,SAASC,EAAGC,MAAM/B,EAAEgC,OAAOrC,EAAEx5B,OAAOL,EAAEm8B,SAAS1C,EAAEt2B,OAAOxC,EAAEy7B,OAAOxC,EAAEyC,MAAM1D,EAAEvb,IAAIsb,EAAE4D,KAAK7D,EAAE8D,IAAIptB,EAAEqtB,KAAK5E,GAAGp7B,KAAKkzB,QAAQ,GAAGlzB,KAAKigC,MAAM,IAAIC,IAAOxN,EAAE,CAAwD,GAAvDyN,EAAEngC,KAAKk+B,KAAKxL,GAAGA,EAAEyL,UAAUgC,EAAEngC,KAAKm+B,SAASzL,EAAEyL,UAAazL,EAAE5b,SAAS,IAAI,IAAIspB,KAAK1N,EAAE5b,SAAS9W,KAAKqgC,WAAWD,EAAE1N,EAAE5b,SAASspB,IAAI,GAAG1N,EAAEQ,QAAQ,IAAI,IAAIoN,KAAK5N,EAAEQ,QAAQlzB,KAAKugC,MAAMD,EACngB5N,EAAEQ,QAAQoN,IAAI,GAAG5N,EAAE8N,YAAY,IAAI,IAAIC,KAAK/N,EAAE8N,YAAYxgC,KAAK0gC,IAAID,EAAE/N,EAAE8N,YAAYC,IAAI,GAAG/N,EAAEiO,QAAQ,CAAa,GAAZjO,EAAEA,EAAEiO,SAAYhiC,MAAME,QAAQ6zB,GAAG,MAAM1sB,MAAM,8BAA8B0sB,EAAElrB,QAAQxH,KAAK4gC,OAAOrsB,KAAKvU,OAAOA,KAAKk+B,KAAKtkB,QAAQ8Y,EAAE,SAASzlB,GAAG,OAAOA,GAAG,oBAAqBquB,SAAS5I,EAAEgI,GAAG16B,KAAK6gC,WAAWnO,IAAI,SAASgI,EAAEhI,GAC1F,OAD6FoO,IAAIA,EAAEC,IAAIC,EAAE,CAACC,OAAO,QAAQC,SAAQ,EAAGC,WAAW,IAAIC,cAAc,OAAOC,SAAS,EAAEC,aAAY,EAAGC,MAAK,EAAGC,gBAAe,GAAIC,EAAEV,IAAIW,EAAE,CAACtoB,SAAS,KAAKuoB,MAAMF,EAAEG,SAAS,CAACC,QAAQ,CAAC,QACnf,QAAQC,SAAS,UAAUC,QAAQ,OAAOrC,OAAO,UAAUsC,OAAO,MAAMpC,OAAO,CAAC,SAAS,QAAQqC,OAAO,QAAQvD,MAAM,OAAOwD,KAAK,QAAQ3C,SAAS,CAAC,QAAQ,QAAQ5f,MAAM,QAAQ9Q,OAAO,QAAQszB,QAAQ,WAAWzP,EAAEoO,EAAExX,OAAOoJ,EAAEsO,GAAUS,EAAEW,UAAU1P,EAAEgP,GAAG,SAAStG,EAAE1I,GAAyB,OAAtBA,EAAEtf,OAAOsf,EAAEA,EAAE5b,SAAe,CAACqU,OAAO,qDAAqDnrB,KAAKqiC,UAAU,CAACx7B,KAAK,SAAS0I,OAAO,QAAQuH,SAAS4b,IAAI,qbAC7Z1yB,KAAKqiC,UAAU,CAACx7B,KAAK,OAAO0I,OAAO,QAAQuH,SAAS4b,IAAI,0CAA0C,SAAS/f,EAAE+f,GAAyB,OAAtBA,EAAEtf,OAAOsf,EAAEA,EAAE5b,SAAe,CAACqU,OAAO,qDAAqDnrB,KAAKqiC,UAAU,CAACx7B,KAAK,SAAS0I,OAAO,QAAQuH,SAAS4b,IAAI,sFAAsF4P,EAAGl+B,WAAW,wBAAwBpE,KAAKqiC,UAAU,CAACx7B,KAAK,MAAM0I,OAAO,QAAQuH,SAAS4b,IAAI,gDAAgD,SAASuJ,EAAEvJ,GAAG,IAAI0N,EACxf1N,EAAEtf,OAAOsf,EAAEA,EAAE5b,SAAS,IAAIwpB,EAAE,GAC2X,OADxXA,EAAEl9B,KAAK,iDAAiDpD,KAAKqiC,UAAU,CAACx7B,KAAK,SAAS0I,OAAO,QAAQuH,SAAS4b,IAAI,gFAAgF6P,EAAGn+B,WAAW,wBAAwBpE,KAAKqiC,UAAU,CAACx7B,KAAK,OAAO0I,OAAO,QAAQuH,SAAS4b,IAAI,+EAA+E,EAAE8P,SAASpC,EAAEqC,UAAUnC,EAAEl9B,KAAK,eAAeg9B,EAAEqC,QAAQ,4BAA4BziC,KAAKqiC,UAAU,CAACx7B,KAAK,cACtfoK,SAASmvB,EAAEqC,QAAQlzB,OAAO,UAAUuH,SAAS4b,IAAI,0CAA0C4N,EAAEl9B,KAAK,gNAAgNpD,KAAKqiC,UAAU,CAACx7B,KAAK,OAAO0I,OAAO,QAAQuH,SAAS4b,IAAI,6CAAmD,CAACvH,OAAOmV,EAAEnzB,KAAK,OAAO,SAAS+uB,EAAExJ,GAAG,IAAI0N,EAAE1N,EAAEtf,OAAOsf,EAAEA,EAAE5b,SAAS,IAAIwpB,EAAE,GACZ,OADeA,EAAEl9B,KAAK,iDAC7epD,KAAKqiC,UAAU,CAACx7B,KAAK,SAAS0I,OAAO,QAAQuH,SAAS4b,IAAI,oCAAoC0N,EAAE5P,MAAM8P,EAAEl9B,KAAK,uDAAuDk9B,EAAEl9B,KAAK,8CAA8CpD,KAAKqiC,UAAU,CAACx7B,KAAK,WAAW0I,OAAO,QAAQuH,SAAS4b,IAAI,0CAA0C4N,EAAEl9B,KAAK,cAAcs/B,EAAGt+B,WAAW,0BAA0BpE,KAAKqiC,UAAU,CAACx7B,KAAK,MAAM0I,OAAO,QAAQuH,SAAS4b,IAAI,oCAA0C,CAACvH,OAAOmV,EAAEnzB,KAAK,OAAO,SAASgvB,EAAEzJ,EAC9f0N,EAAEE,GAAG,IAAIG,EAAE/N,EAAEtf,OAAOnG,EAAEylB,EAAE5b,SAAc,GAAL4b,EAAE,GAAM,MAAM+N,EAAEvsB,MAAM,CAAC,IAAIvV,MAAME,QAAQ4hC,EAAEvsB,OAAO,MAAMlO,MAAM,YAAYy6B,EAAE55B,KAAK,iDAAiD,GAAG,IAAI45B,EAAEvsB,MAAM1V,OAAO,MAAMwH,MAAM,YAAYy6B,EAAE55B,KAAK,2DAChH,GAD4K6rB,EAAEtvB,KAAK,6CAA6CpD,KAAKqiC,UAAU,CAACx7B,KAAK,QAAQ0I,OAAO,QAAQuH,SAAS7J,IAAI,oEAAmE,IAAKwzB,EAAEjQ,OAAOkC,EAAEtvB,KAAK,qCACzdpD,KAAKqiC,UAAU,CAACx7B,KAAK,aAAa0I,OAAO,QAAQuH,SAAS7J,IAAI,0CAA6C,MAAMwzB,EAAEvsB,MAAM,CAAyV,IAAxVwe,EAAEtvB,KAAK,eAAeq9B,EAAEjQ,MAAM,mFAAmFiQ,EAAEvsB,MAAM1V,OAAO,gBAAgBwB,KAAKqiC,UAAU,CAACx7B,KAAK,cAAcoK,SAASwvB,EAAEvsB,MAAM1V,OAAO+Q,OAAO,MAAMuH,SAAS7J,IAAI,0CAA0CylB,EAAEtvB,KAAK,kEAAsE6J,EAAE,EAAEA,EAAEwzB,EAAEvsB,MAAM1V,OAAOyO,IAAI,CAACylB,EAAEtvB,KAAK,uBACvf6J,EAAE,YAAY,IAAI01B,EAAEvC,EAAE,IAAInzB,EAAE,IAAI2H,EAAE5U,KAAK4iC,kBAAkBnC,EAAEvsB,MAAMjH,IAAIylB,EAAEtvB,KAAKpD,KAAK6iC,YAAYjuB,EAAE0rB,EAAEqC,EAAE,eAAe11B,EAAE,QAAQqzB,EAAE/2B,MAAM,SAAS,IAAI,6BAA6B0D,EAAE,+CAA+CA,EAAE,0CAA0C,OAAOA,EAAE,MAAMylB,EAAEtvB,KAAK,8BAA8BsvB,EAAEtvB,KAAK,2BAA2B,MAAM,CAAC+nB,OAAOuH,EAAEvlB,KAAK,OAAO,SAASiwB,EAAE1K,GAAG,IAAI0N,EAAE1N,EAAEtf,OAAOsf,EAAEA,EAAE5b,SAAS,IAAIwpB,EAAE,GAAGG,GAAE,EAIxO,IAJ2O,IAAKL,EAAE0C,UAAUrC,GAAE,EAAGH,EAAEl9B,KAAK,4FACldk9B,EAAEl9B,KAAK,iDAAiDpD,KAAKqiC,UAAU,CAACx7B,KAAK,SAAS0I,OAAO,QAAQuH,SAAS4b,IAAI,kEAAkE0N,EAAE9uB,OAAOmvB,GAAE,EAAGH,EAAEl9B,KAAK,wCAAwCg9B,EAAE2C,WAAWtC,GAAE,EAAGH,EAAEl9B,KAAK,4CAA4Cg9B,EAAE4C,YAAYvC,GAAE,EAAGH,EAAEl9B,KAAK,6CAA6Cg9B,EAAE6C,WAAWxC,GAAE,EAAGH,EAAEl9B,KAAK,kCAAkCg9B,EAAE6C,SAAS,KAAKnR,KAAKC,UAAU,MAAMqO,EAAE8C,QAAQ9C,EAAE8C,QAAQ,KACjf,aAAa9C,EAAE+C,SAAS1C,GAAE,EAAGH,EAAEl9B,KAAK,gCAAgCg9B,EAAE+C,OAAO,KAAKrR,KAAKC,UAAU,MAAMqO,EAAE8C,QAAQ9C,EAAE8C,QAAQ,KAAK,aAAa9C,EAAEgD,YAAY3C,GAAE,EAAGH,EAAEl9B,KAAK,+CAA+Cg9B,EAAEiD,YAAY5C,GAAE,EAAGH,EAAEl9B,KAAK,+CAA+Cg9B,EAAEkD,kBAAkB7C,GAAE,EAAGH,EAAEl9B,KAAK,qDAAqDg9B,EAAEmD,kBAAkB9C,GAAE,EAAGH,EAAEl9B,KAAK,qDAAqDk9B,EAAEl9B,KAAK,wCAChd,IAAKg9B,EAAE5P,MAAM8P,EAAEl9B,KAAK,qCAAqCpD,KAAKqiC,UAAU,CAACx7B,KAAK,cAAc0I,OAAO,QAAQuH,SAAS4b,IAAI,oBAAmB,IAAK0N,EAAE5P,OAAO8P,EAAEl9B,KAAK,kEAAkE,MAAMg9B,EAAE9e,KAAKgf,EAAEl9B,KAAK,qBAAqBg9B,EAAE9e,IAAI,gBAAgBthB,KAAKqiC,UAAU,CAACx7B,KAAK,YAAYoK,SAASmvB,EAAE9e,IAAI/R,OAAO,MAAMuH,SAAS4b,IAAI,mBAAmB,MAAM0N,EAAE7e,KAAK+e,EAAEl9B,KAAK,qBAAqBg9B,EAAE7e,IAAI,gBAAgBvhB,KAAKqiC,UAAU,CAACx7B,KAAK,YAAYoK,SAASmvB,EAAE7e,IAAIhS,OAAO,MACpfuH,SAAS4b,IAAI,mBAAmB,MAAM0N,EAAE5hC,QAAQ8hC,EAAEl9B,KAAK,uBAAuBg9B,EAAE5hC,OAAO,gBAAgBwB,KAAKqiC,UAAU,CAACx7B,KAAK,eAAeoK,SAASmvB,EAAE5hC,OAAO+Q,OAAO,MAAMuH,SAAS4b,IAAI,mBAAsB,MAAM0N,EAAEoD,QAAQ,CAAC,IAAIv2B,EAAEmzB,EAAEoD,QAAQ,iBAAiBpD,EAAEoD,UAAUv2B,EAAE,IAAIuE,OAAO4uB,EAAEoD,QAAQpD,EAAEqD,eAAenD,EAAEl9B,KAAK,gBAAgB6J,EAAE7I,WAAW,4BAA4BpE,KAAKqiC,UAAU,CAACx7B,KAAK,gBAAgBoK,SAAS,IAAIhE,EAAE7I,WAAWuK,QAAQ,KAAK,QAAQ,IAAIY,OAAO,YAAYuH,SAAS4b,IAAI,mBAIlX,OAJqY,MAC9f0N,EAAEsD,UAAUpD,EAAEl9B,KAAK,8BAA8Bg9B,EAAEsD,SAAS,yBAAyB1jC,KAAKqiC,UAAU,CAACx7B,KAAK,iBAAiBoK,SAAS,IAAImvB,EAAEsD,SAAS,IAAIn0B,OAAO,YAAYuH,SAAS4b,IAAI,mBAAmB,MAAM0N,EAAElB,OAAOjyB,EAAE6kB,KAAKC,UAAUqO,EAAElB,MAAMoB,EAAEl9B,KAAK,eAAe6J,EAAE,sCAAsCjN,KAAKqiC,UAAU,CAACx7B,KAAK,aAAaoK,SAAS,IAAImvB,EAAElB,KAAK/xB,KAAK,MAAM,IAAIoC,OAAO,YAAYuH,SAAS4b,IAAI,qBAAoB,IAAK0N,EAAEuD,SAASrD,EAAEl9B,KAAK,gBAAgBwgC,EAAGx/B,WAAW,6BAC9dpE,KAAKqiC,UAAU,CAACx7B,KAAK,gBAAgB0I,OAAO,YAAYuH,SAAS4b,IAAI,oBAAmB,IAAK0N,EAAEyD,OAAOvD,EAAEl9B,KAAK,eAAe0gC,EAAG1/B,WAAW,4BAA4BpE,KAAKqiC,UAAU,CAACx7B,KAAK,cAAc0I,OAAO,YAAYuH,SAAS4b,IAAI,oBAAmB,IAAK0N,EAAE2D,UAAUzD,EAAEl9B,KAAK,eAAe4gC,EAAG5/B,WAAW,4BAA4BpE,KAAKqiC,UAAU,CAACx7B,KAAK,iBAAiB0I,OAAO,YAAYuH,SAAS4b,IAAI,oBAAmB,IAAK0N,EAAE6D,WAAW3D,EAAEl9B,KAAK,eAAe8gC,EAAG9/B,WAAW,4BAC5dpE,KAAKqiC,UAAU,CAACx7B,KAAK,kBAAkB0I,OAAO,YAAYuH,SAAS4b,IAAI,oBAAmB,IAAK0N,EAAE+D,KAAK7D,EAAEl9B,KAAK,yCAAyCghC,EAAGhgC,WAAW,4BAA4BpE,KAAKqiC,UAAU,CAACx7B,KAAK,YAAY0I,OAAO,YAAYuH,SAAS4b,IAAI,oBAAmB,IAAK0N,EAAEiE,YAAY/D,EAAEl9B,KAAK,gDAAgDpD,KAAKqiC,UAAU,CAACx7B,KAAK,mBAAmBiQ,SAAS4b,IAAI,oBAAmB,IAAK0N,EAAEkE,QAAQhE,EAAEl9B,KAAK,eAAemhC,EAAGngC,WAAW,4BACzdpE,KAAKqiC,UAAU,CAACx7B,KAAK,eAAe0I,OAAO,YAAYuH,SAAS4b,IAAI,mBAAmB4N,EAAEl9B,KAAK,2BAAiC,CAACohC,UAAU/D,EAAEtV,OAAOmV,EAAEnzB,KAAK,OAAO,SAAShJ,EAAEuuB,EAAE0N,EAAEE,GAAG,IAAIG,EAAE/N,EAAEtf,OAAOnG,EAAE,GAClI,IAAI,IAAI01B,KAD6H11B,EAAE7J,KAAK,2FAA2FpD,KAAKqiC,UAAU,CAACx7B,KAAK,SAAS0I,OAAO,QAAQuH,SAAS4b,EAAE5b,WAAW,oCAAoC4b,EAAE+N,EAAElhC,KAAK,SAASkhC,EAAEA,EAAE/gC,OAAO,MAAMuN,EAAE7J,KAAK,gIAC1b6J,EAAE7J,KAAK,gCAA+BsvB,EAAE1yB,KAAK4iC,kBAAkBlQ,IAAkB5b,SAAS6rB,EAAE1rB,WAAW,YAAYyb,EAAE5b,SAAS6rB,GAAGjQ,EAAE5b,SAAS6rB,GAAGh0B,QAAQ,UAAU,UAC6D,OADnD1B,EAAE7J,KAAKpD,KAAK6iC,YAAYnQ,EAAE4N,EAAE,KAAK,yBAAyBA,EAAE/2B,MAAM,SAAS,IAAI,4FAA4F,iBAAiB0D,EAAE7J,KAAK,yCAAyCu/B,EAAE3iC,KAAK4iC,kBAAkBnC,GAAGxzB,EAAE7J,KAAKpD,KAAK6iC,YAAYF,EAAErC,EAAEF,EAAE,QAAQ,2BAA2BE,EAAE/2B,MACtf,SAAS,IAAI,8FAA8F,mBAAmB0D,EAAE7J,KAAK,0CAA0C6J,EAAE7J,KAAK,eAAe6J,EAAE7J,KAAK,kBAAwB,CAAC+nB,OAAOle,EAAEE,KAAK,OAAO,SAAS8vB,EAAEvK,EAAE0N,EAAEE,GAAGF,EAAE1N,EAAEtf,OAAO,IAAIqtB,EAAE/N,EAAE5b,SAAS4b,EAAEA,EAAEjN,MAAM,IAAIxY,EAAE,GACzH,OAD4HqzB,EAAEmE,QAAQ/R,GAAG4N,EAAEmE,QAAQ/R,GAAGtf,OAAOgtB,EAAEE,EAAEmE,QAAQ/R,GAAG,CAACtf,OAAOgtB,GAAGnzB,EAAE7J,KAAK,0CAA0CsvB,EAAE,kEAAkE1yB,KAAKqiC,UAAU,CAACx7B,KAAK,WAChgB0I,OAAO,QAAQuH,SAAS2pB,IAAI,+BAA8B,IAAKL,EAAE0C,QAAQ71B,EAAE7J,KAAK,8BAA8B,cAAcg9B,EAAE0C,QAAQ71B,EAAE7J,KAAK,2BAA2B6J,EAAE7J,KAAK,gBAAsB,CAAC+nB,OAAOle,EAAEE,KAAK,OAAO,SAAS3J,EAAEkvB,EAAE0N,EAAEE,GAAG,IAAIG,EAAE/N,EAAEtf,OAAOsf,EAAEA,EAAE5b,SAAS,IAAI7J,EAAE,GAAGA,EAAE7J,KAAK,2FAA2FpD,KAAKqiC,UAAU,CAACx7B,KAAK,SAAS0I,OAAO,QAAQuH,SAAS4b,IAAI,oCAAoC,IAAIiQ,EAAElC,EAAEiE,YAAYjE,EAAE9/B,MAAM,GAAGgiC,EAAE,CAAC11B,EAAE7J,KAAK,0BAC3f6J,EAAE7J,KAAK,4BAA4B,IAAI,IAAIwR,EAAE5T,OAAOwI,KAAKm5B,GAAGgC,EAAE,EAAEA,EAAE/vB,EAAEpW,OAAOmmC,IAAI,CAAC,IAAIC,EAAEhwB,EAAE+vB,GAAGE,EAAEC,EAAEF,GAAGG,EAAEC,EAAGzgC,KAAKsgC,GAAG,IAAIA,EAAE,KAAKA,EAAE,KAAKI,EAAE,YAAYF,EAAEG,GAAG9E,EAAEA,EAAE,IAAI,IAAIwE,EAAEO,EAAExC,EAAEiC,GAAG13B,MAAMi4B,EAAEA,EAAE,IAAIL,EAAEK,GAAG,SAAI,EAAOl4B,EAAE7J,KAAK,eAAe0hC,EAAEI,IAAIj4B,EAAE7J,KAAK,wCAAwC2hC,EAAE,QAAQF,EAAE,MAAM53B,EAAE7J,KAAK,WAAW6hC,EAAE,KAAKh4B,EAAE7J,KAAK,WAAW+hC,GAAGP,EAAE5kC,KAAK4iC,kBAAkBD,EAAEiC,IAAI33B,EAAE7J,KAAKpD,KAAK6iC,YAAY+B,EAAEtE,EAAE4E,EAAE,aAAaD,EAAE,OAAO3E,EAAE/2B,MAAM,SAAS,IAAI,kFAC1b07B,KAAI,IAAKjlC,KAAKk+B,KAAKkH,kBAAkBn4B,EAAE7J,KAAK,wCAAwCq9B,EAAE4E,SAASjF,EAAEp/B,OAAOwI,KAAKm5B,GAAG11B,EAAE7J,KAAK,kLAAkL0uB,KAAKC,UAAUqO,GAAG,8IAA8I,WAAWK,EAAE4E,QAAQp4B,EAAE7J,KAAK,oDACre6J,EAAE7J,KAAK,2HAA2H6J,EAAE7J,KAAK,4BAA4B6J,EAAE7J,KAAK,eAAepD,KAAKqiC,UAAU,CAACx7B,KAAK,eAAeoK,SAAS,IAAImvB,EAAEjzB,KAAK,MAAM,IAAIoC,OAAO,0BAA0BuH,SAAS4b,IAAI,cAAczlB,EAAE7J,KAAK,wBAE1R,OAFqT,MAAMq9B,EAAE6E,UAAU,MAAM7E,EAAE8E,WAAS9E,EAAE4E,OAAOp4B,EAAE7J,KAAK,kCAAkCu/B,EAAE,YAAY,SAAS,cAAc11B,EAAE7J,KAAK,sCAC3du/B,EAAE,YAAY,SAAS,gBAAgBA,EAAE,uBAAuB,IAAI,aAAY,MAAMlC,EAAE6E,UAAUr4B,EAAE7J,KAAK,8BAA8Bq9B,EAAE6E,SAAS,gBAAgBtlC,KAAKqiC,UAAU,CAACx7B,KAAK,iBAAiBoK,SAASwvB,EAAE6E,SAAS/1B,OAAO,eAAeuH,SAAS4b,IAAI,mBAAmB,MAAM+N,EAAE8E,UAAUt4B,EAAE7J,KAAK,8BAA8Bq9B,EAAE8E,SAAS,gBAAgBvlC,KAAKqiC,UAAU,CAACx7B,KAAK,iBAAiBoK,SAASwvB,EAAE8E,SAASh2B,OAAO,eAAeuH,SAAS4b,IAAI,mBAAmBiQ,EAAE11B,EAAE7J,KAAK,mCAC9d6J,EAAE7J,KAAK,+BAAqC,CAAC+nB,OAAOle,EAAEE,KAAK,OAAO,SAASkwB,EAAE3K,GAAG,IAAI0N,EAAE1N,EAAEtf,OAAOsf,EAAEA,EAAE5b,SAAS,IAAIwpB,EAAE,GAAGA,EAAEl9B,KAAK,oCAAoC,IAAIq9B,GAAE,EAG3C,OAH8C,IAAKL,EAAE0C,UAAUrC,GAAE,EAAGH,EAAEl9B,KAAK,4FAA4Fk9B,EAAEl9B,KAAK,qFAAqFpD,KAAKqiC,UAAU,CAACx7B,KAAK,SAAS0I,OAAO,YAAYuH,SAAS4b,IAAI,oCAAoC,MAAM0N,EAAE9e,KAAKgf,EAAEl9B,KAAK,uBACpfg9B,EAAE9e,IAAI,gBAAgBthB,KAAKqiC,UAAU,CAACx7B,KAAK,YAAYoK,SAASmvB,EAAE9e,IAAI/R,OAAO,YAAYuH,SAAS4b,IAAI,mBAAmB,MAAM0N,EAAE7e,KAAK+e,EAAEl9B,KAAK,uBAAuBg9B,EAAE7e,IAAI,gBAAgBvhB,KAAKqiC,UAAU,CAACx7B,KAAK,YAAYoK,SAASmvB,EAAE7e,IAAIhS,OAAO,YAAYuH,SAAS4b,IAAI,mBAAmB,MAAM0N,EAAE5c,OAAO8c,EAAEl9B,KAAK,yBAAyBg9B,EAAE5c,MAAM,gBAAgBxjB,KAAKqiC,UAAU,CAACx7B,KAAK,cAAcoK,SAASmvB,EAAE5c,MAAMjU,OAAO,YAAYuH,SAAS4b,IAAI,mBAAmB,MAAM0N,EAAEoF,UAAUlF,EAAEl9B,KAAK,yBACpeg9B,EAAEoF,SAAS,gBAAgBxlC,KAAKqiC,UAAU,CAACx7B,KAAK,iBAAiBoK,SAASmvB,EAAEoF,SAASj2B,OAAO,YAAYuH,SAAS4b,IAAI,oBAAmB,IAAK0N,EAAEqF,SAASnF,EAAEl9B,KAAK,2CAA2CpD,KAAKqiC,UAAU,CAACx7B,KAAK,gBAAgB0I,OAAO,YAAYuH,SAAS4b,IAAI,oBAAmB,IAAK0N,EAAEsF,UAAUpF,EAAEl9B,KAAK,sCAAsCpD,KAAKqiC,UAAU,CAACx7B,KAAK,iBAAiB0I,OAAO,YAAYuH,SAAS4b,IAAI,oBAAmB,IAAK0N,EAAEuF,UAAUrF,EAAEl9B,KAAK,sCACjdpD,KAAKqiC,UAAU,CAACx7B,KAAK,iBAAiB0I,OAAO,YAAYuH,SAAS4b,IAAI,mBAAmB4N,EAAEl9B,KAAK,2BAAiC,CAACohC,UAAU/D,EAAEtV,OAAOmV,EAAEnzB,KAAK,OAAO,SAASuwB,EAAEhL,EAAE0N,EAAEE,GAAG,IAAIG,EAAE/N,EAAEtf,OAAOsf,EAAE5b,UAAS4b,EAAE,IAAKtvB,KAAK,4HAA4H,IAAI,IAAI6J,EAAE,EAAEA,EAAEwzB,EAAE/rB,MAAMlW,OAAOyO,IAAI,CAACylB,EAAEtvB,KAAK,6DAA6D,IAAIu/B,EAAE3iC,KAAK4iC,kBAAkBnC,EAAE/rB,MAAMzH,IAAIylB,EAAEtvB,KAAKpD,KAAK6iC,YAAYF,EAC9frC,EAAEF,EAAE,iBAAiBE,EAAE/2B,MAAM,SAAS,IAAI,iEAAiE,WAAWmpB,EAAEtvB,KAAK,8QAC7H,OAD2YsvB,EAAEtvB,KAAK,mHAC5Y,CAAC+nB,OAAOuH,EAAEvlB,KAAK,OAAO,SAASqyB,EAAG9M,GAAY,OAATA,EAAEtf,OAAa,CAAC+X,OAAO,qDAAqDnrB,KAAKqiC,UAAU,CAACx7B,KAAK,WAAW0I,OAAO,QAAQuH,SAAS4b,EAAE5b,WAAW,iCAAiC,SAASwoB,EAAG5M,GAAG,IAAI0N,EAAE1N,EAAEtf,OAAOsf,EAAEA,EAAE5b,SAAS,IAAIwpB,EAAE,GAC9Q,OADiRA,EAAEl9B,KAAK,0DAA0Dg9B,EAAEwF,OAAOtF,EAAEl9B,KAAK,mCAAmCk9B,EAAEl9B,KAAK,WAAWpD,KAAKqiC,UAAU,CAACx7B,KAAK,YAAY0I,OAAO,QAAQuH,SAAS4b,IAAI,UAAU4N,EAAEl9B,KAAK,oCAC/d,CAAC+nB,OAAOmV,EAAEnzB,KAAK,OAAO,SAASiyB,EAAG1M,GAAG,IAAI0N,EAAE1N,EAAEtf,OAAOsf,EAAEA,EAAE5b,SAAS,IAAIwpB,EAAE,GACmF,OADhFF,EAAE3wB,OAAO2wB,EAAEiF,OAAO/E,EAAEl9B,KAAK,mCAAmCg9B,EAAE3wB,MAAM,eAAe6wB,EAAEl9B,KAAK,kCAAkCg9B,EAAE3wB,MAAM,eAAe6wB,EAAEl9B,KAAK,aAAapD,KAAKqiC,UAAU,CAACx7B,KAAK,aAAa0I,OAAO,QAAQ0B,SAAS6gB,KAAKC,UAAUqO,EAAE3wB,OAAOqH,SAAS4b,IAAI,YAAY0N,EAAEiF,OAAO/E,EAAEl9B,KAAK,2BAA2B0uB,KAAKC,UAAUqO,EAAE1gC,OAAO,aAAa4gC,EAAEl9B,KAAK,0BAA0B0uB,KAAKC,UAAUqO,EAAE1gC,OAAO,aAC3e4gC,EAAEl9B,KAAK,aAAapD,KAAKqiC,UAAU,CAACx7B,KAAK,aAAa0I,OAAO,QAAQ0B,SAAS6gB,KAAKC,UAAUqO,EAAE1gC,OAAOoX,SAAS4b,IAAI,WAAW4N,EAAEl9B,KAAK,2BAAiC,CAAC+nB,OAAOmV,EAAEnzB,KAAK,OAAO,SAASgyB,EAAEzM,GAAG,IAAI0N,EAAE1N,EAAEtf,OAAoB,OAAbsf,EAAEA,EAAE5b,SAAe,CAACqU,OAAO,eAAe2G,KAAKC,UAAUqO,EAAE/4B,QAAQ,IAAI,oCAAoCrH,KAAKqiC,UAAU,CAACx7B,KAAK,YAAYoK,SAAS,IAAImvB,EAAE/4B,OAAO8F,KAAK,MAAM,IAAIoC,OAAO,QAAQuH,SAAS4b,IAAI,uCAAuC,SAASuM,EAAEvM,GAAG,IAAI0N,EAAE1N,EAAEtf,OAAOsf,EAAEA,EAAE5b,SAC9e,IAAIwpB,EAAE,GAAGG,EAAE,WAAWL,EAAEyF,KAAKC,EAAGC,EAAG94B,GAAE,EACwc,OADrcqzB,EAAEl9B,KAAK,iDAAiDpD,KAAKqiC,UAAU,CAACx7B,KAAK,SAAS0I,OAAO,QAAQuH,SAAS4b,IAAI,oCAAoC0N,EAAE5P,MAAM8P,EAAEl9B,KAAK,uDAAuDk9B,EAAEl9B,KAAK,8CAA8CpD,KAAKqiC,UAAU,CAACx7B,KAAK,aAAa0I,OAAO,QAAQuH,SAAS4b,IAAI,0CAA0C0N,EAAE4F,YAAY/4B,GAAE,EAAGqzB,EAAEl9B,KAAK,sDAAsD,MACjfg9B,EAAE9e,KAAKgf,EAAEl9B,KAAK,8BAA8Bg9B,EAAE9e,IAAI,gBAAgBthB,KAAKqiC,UAAU,CAACx7B,KAAK,WAAWoK,SAASmvB,EAAE9e,IAAI/R,OAAO,eAAeuH,SAAS4b,IAAI,mBAAmB,MAAM0N,EAAE7e,KAAK+e,EAAEl9B,KAAK,8BAA8Bg9B,EAAE7e,IAAI,gBAAgBvhB,KAAKqiC,UAAU,CAACx7B,KAAK,WAAWoK,SAASmvB,EAAE7e,IAAIhS,OAAO,eAAeuH,SAAS4b,IAAI,mBAAmB4N,EAAEl9B,KAAK,cAAcq9B,EAAEr8B,WAAW,0BAA0BpE,KAAKqiC,UAAU,CAACx7B,KAAK,QAAQ0I,OAAO,QAAQuH,SAAS4b,IAAI,oCAA0C,CAAC8R,UAAUv3B,EAC9fke,OAAOmV,EAAEnzB,KAAK,OAAO,SAAS6xB,EAAEtM,GAAG,IAAI0N,EAAE1N,EAAEtf,OAAOsf,EAAEA,EAAE5b,SAAS,IAAIwpB,EAAE,GAAGG,GAAE,EAA0X,OAAvXH,EAAEl9B,KAAK,qCAAoC,IAAKg9B,EAAE0C,UAAUrC,GAAE,EAAGH,EAAEl9B,KAAK,uIAAuIk9B,EAAEl9B,KAAK,wEAAwEpD,KAAKqiC,UAAU,CAACx7B,KAAK,OAAO0I,OAAO,YAAYuH,SAAS4b,IAAI,6BAAmC,CAAC8R,UAAU/D,EAAEtV,OAAOmV,EAAEnzB,KAAK,OAAO,SAAS2xB,EAAEpM,GAAG,IAAI0N,EAC9f1N,EAAEtf,OAAOsf,EAAEA,EAAE5b,SAAS,IAAIwpB,EAAEF,EAAE6F,gBAAgB,KAAKxF,EAAEL,EAAE8F,mBAAmB,IAAIj5B,EAAEmzB,EAAE+F,kBAAkB,IAAIxD,EAAEvC,EAAEgG,YAA4W,OAAhWhG,GAAGA,EAAEiG,eAAejG,EAAE,uEAAuEzxB,QAAQ,MAAM2xB,EAAE,KAAKA,GAAGF,EAAE,GAAG,KAAK,IAAIzxB,QAAQ,KAAK8xB,GAAG9xB,QAAQ,KAAK1B,IAAGqzB,EAAE,IAAKl9B,KAAK,2BAA2Bu/B,GAAG,IAAInxB,OAAO4uB,IAAI,eAAepgC,KAAKqiC,UAAU,CAACx7B,KAAK,WAAW0I,OAAO,QAAQuH,SAAS4b,IAAI,yDAA+D,CAACvH,OAAOmV,EAAEnzB,KAAK,OAAO,SAASyxB,EAAElM,EAC/f0N,EAAEE,GAAG,IAAIG,EAAE,GAAgK,OAA7JA,EAAEr9B,KAAK,SAASpD,KAAKsmC,oBAAoB,CAACC,OAAO,QAAQ76B,KAAK00B,EAAEhtB,OAAOsf,EAAEtf,OAAO0D,SAAS4b,EAAE5b,SAASrR,QAAQ66B,EAAEkG,UAAU9T,EAAEjN,QAAQ,2BAAiC,CAAC0F,OAAOsV,EAAEtzB,KAAK,OAAO,SAASwxB,EAAEjM,EAAE0N,EAAEE,GAAGF,EAAE1N,EAAEtf,OAAO,IAAIqtB,EAAE/N,EAAE5b,SAAS4b,EAAEA,EAAEjN,MAAM,IAAIxY,EAAE,GAAG01B,EAAEvC,EAAEqG,WAAWniC,KAAK87B,EAAEqG,WAAWniC,KAAK,gBACrN,OADqOg8B,EAAEmE,QAAQ/R,GAAG4N,EAAEmE,QAAQ/R,GAAGtf,OAAOgtB,EAAEE,EAAEmE,QAAQ/R,GAAG,CAACtf,OAAOgtB,GAAGnzB,EAAE7J,KAAK,gDAAgDsvB,EAAE,gCAAgC1yB,KAAKqiC,UAAU,CAACx7B,KAAK,kBACve0I,OAAO,QAAQ0B,SAAS,IAAI0xB,EAAE,IAAI7rB,SAAS2pB,IAAI,QAAQxzB,EAAE7J,KAAK,2BAAiC,CAAC+nB,OAAOle,EAAEE,KAAK,OAAO,SAASsxB,EAAE/L,GAAG,IAAI0N,EAAE1N,EAAEtf,OAAOsf,EAAEA,EAAE5b,SAAS,IAAIwpB,EAAE,GAAGG,GAAE,EACV,OADaH,EAAEl9B,KAAK,qCAAoC,IAAKg9B,EAAE0C,UAAUrC,GAAE,EAAGH,EAAEl9B,KAAK,wYACrPk9B,EAAEl9B,KAAK,kDAAkDpD,KAAKqiC,UAAU,CAACx7B,KAAK,UAAU0I,OAAO,YAAYuH,SAAS4b,IAAI,wCAA8C,CAAC8R,UAAU/D,EAAEtV,OAAOmV,EAAEnzB,KAAK,OAAO,SAASoxB,EAAE7L,EAAE0N,EAAEE,GAAG,IAAIG,EAAE/N,EAAEtf,OAAOnG,EAAEylB,EAAE5b,SAEkQ,IAFzP4b,EAAE,IAAKtvB,KAAK,6CAA6CpD,KAAKqiC,UAAU,CAACx7B,KAAK,QAAQ0I,OAAO,QAAQuH,SAAS7J,IAAI,oEAAmE,IAAKwzB,EAAEjQ,OAAOkC,EAAEtvB,KAAK,qCAAqCpD,KAAKqiC,UAAU,CAACx7B,KAAK,aAC1f0I,OAAO,QAAQuH,SAAS7J,IAAI,mBAAmB,MAAMwzB,EAAEnf,KAAKoR,EAAEtvB,KAAK,qBAAqBq9B,EAAEnf,IAAI,gBAAgBthB,KAAKqiC,UAAU,CAACx7B,KAAK,WAAWoK,SAASwvB,EAAEnf,IAAI/R,OAAO,MAAMuH,SAAS7J,IAAI,mBAAmB,MAAMwzB,EAAElf,KAAKmR,EAAEtvB,KAAK,qBAAqBq9B,EAAElf,IAAI,gBAAgBvhB,KAAKqiC,UAAU,CAACx7B,KAAK,WAAWoK,SAASwvB,EAAElf,IAAIhS,OAAO,MAAMuH,SAAS7J,IAAI,mBAAmB,MAAMwzB,EAAEjiC,QAAQk0B,EAAEtvB,KAAK,uBAAuBq9B,EAAEjiC,OAAO,gBAAgBwB,KAAKqiC,UAAU,CAACx7B,KAAK,cAAcoK,SAASwvB,EAAEjiC,OAAO+Q,OAAO,MAAMuH,SAAS7J,IACvf,mBAAmB,MAAMwzB,EAAEiD,UAAUhR,EAAEtvB,KAAK,6BAA6B0uB,KAAKC,UAAU0O,EAAEiD,UAAU,wBAAwB1jC,KAAKqiC,UAAU,CAACx7B,KAAK,gBAAgBoK,SAAS6gB,KAAKC,UAAU0O,EAAEiD,UAAUn0B,OAAO,QAAQuH,SAAS7J,IAAI,oBAAmB,IAAKwzB,EAAEiG,QAAQhU,EAAEtvB,KAAK,sDAAsDpD,KAAKqiC,UAAU,CAACx7B,KAAK,cAAcoK,SAAS,oFAAoF1B,OAAO,QAAQuH,SAAS7J,IAAI,mBAAsB,MAClfwzB,EAAEvB,KAAK,CAAC,IAAIyD,EAAE7Q,KAAKC,UAAU0O,EAAEvB,MAAMxM,EAAEtvB,KAAK,iEAAiEu/B,EAAE,2CAA2C3iC,KAAKqiC,UAAU,CAACx7B,KAAK,YAAYoK,SAAS,IAAIwvB,EAAEvB,KAAK/xB,KAAK,MAAM,IAAIoC,OAAO,WAAWuH,SAAS7J,IAAI,8BACJ,OADkC,MAAMwzB,EAAEvsB,OAAOwe,EAAEtvB,KAAK,yIAAyIg9B,GAAG,KAAKK,EAAEzgC,KAAK4iC,kBAAkBnC,EAAEvsB,OAAOwe,EAAEtvB,KAAKpD,KAAK6iC,YAAYpC,EAC5fH,EAAEF,EAAE,aAAaE,EAAE/2B,MAAM,SAAS,IAAI,2GAA2G,WAAWmpB,EAAEtvB,KAAK,mBAAmBsvB,EAAEtvB,KAAK,0BAA0BsvB,EAAEtvB,KAAK,2BAAiC,CAAC+nB,OAAOuH,EAAEvlB,KAAK,OAAO,SAASkxB,IAAI,IAAI3L,EAAE,GAAqC,OAAlCA,EAAEtvB,KAAK,2BAAiC,CAAC+nB,OAAOuH,EAAEvlB,KAAK,OAAO,SAASw5B,EAAGjU,EAAE0N,EAAEE,GAAG,OAAO5N,EAAE/jB,QAAQyxB,EAAE,MAASE,EAAY,GAAG,mBAAoBA,EAAEl8B,SAASk8B,SAASA,GAAG,SAASH,EAAEzN,EAAE0N,EAAEE,GACje,IAAI,IAAIG,UAD4d,IAASH,IAAIA,EAAE,IACteF,EAAE,CAAC,IAAInzB,EAAEmzB,EAAEK,IAAGxzB,EAAE,iBAAkBA,IAAGtO,MAAME,QAAQoO,IAAI,MAAMA,GAAK,EAAEjM,OAAOwI,KAAKyD,GAAGzO,SAAYk0B,EAAE+N,GAAG/N,EAAE+N,IAAI,GAAGN,EAAEzN,EAAE+N,GAAGL,EAAEK,GAAGH,KAAW,IAAKA,EAAEsG,kBAAa,IAASlU,EAAE+N,KAAG/N,EAAE+N,GAAGL,EAAEK,IAAG,OAAO/N,EAAE,SAASoS,EAAEpS,GAAG,OAAOA,EAAE/jB,QAAQk4B,GAAG,SAASzG,GAAG,OAAOA,GAAG,IAAK,IAAI,IAAK,IAAI,IAAK,KAAK,MAAM,KAAKA,EAAE,IAAK,KAAK,MAAM,MAAM,IAAK,KAAK,MAAM,MAAM,IAAK,SAAS,MAAM,UAAU,IAAK,SAAS,MAAM,cAAa,SAASW,IAAI,MAAM/6B,MAAM,0EAC1a,IAAI62B,EAAE,CAACtc,SAAS,mCAAmCqf,OAAO,wCAAwCkH,YAAY,yCAAyCC,UAAU,0FAA0FC,UAAU,uFAAuFC,aAAa,iEAAiEC,cAAc,2DAA2DC,eAAe,0DACngBC,WAAW,gEAAgEC,cAAc,gDAAgDC,YAAY,oDAAoDC,eAAe,sDAAsDC,gBAAgB,mDAAmDC,UAAU,4CAA4CC,iBAAiB,oDAAoDC,aAAa,+CACzdjI,OAAO,wCAAwCkI,UAAU,mEAAmEC,UAAU,gEAAgEC,YAAY,mDAAmDC,eAAe,oDAAoDC,cAAc,0CAA0CC,eAAe,iDAAiDC,eAAe,iDAC/c5J,MAAM,wCAAwC6J,WAAW,kDAAkD5U,SAAS,8DAA8D6U,SAAS,2EAA2EC,YAAY,qDAAqDC,cAAc,0DAA0DC,YAAY,mFAAmFC,UAAU,yFACxf3I,MAAM,wCAAwC4I,WAAW,kDAAkDC,YAAY,qDAAqDlK,QAAQ,yCAAyCK,SAAS,gDAAgDE,KAAK,sCAAsC4J,QAAQ,mEAAmEC,QAAQ,gEAAgEpmB,UAAU,mFAC9dqmB,WAAW,2DAA2DC,WAAW,uEAAuEzJ,UAAU,oCAAoCE,SAAS,0CAA0CrR,MAAM,8CAA8C6a,WAAW,yCAAyCC,SAAS,0FAA0FC,SAAS,uFAC7cjJ,KAAK,qDAAqDD,IAAI,mDAAmDl8B,OAAO,mCAAmCqlC,aAAa,4DAA4DC,eAAe,oEAAoEC,eAAe,mEAAmExoB,IAAI,2CAA2CyoB,SAAS,yCAAyCvJ,KAAK,4CAC/ewJ,YAAY,6DAA6DC,gBAAgB,qEAAqE5J,SAAS,gDAAgDh5B,OAAO,oCAAoCk2B,EAAEtc,SAASsc,EAAE+C,OAAO/C,EAAEiK,YAAYjK,EAAEkK,UAAUlK,EAAEmK,UAAUnK,EAAEoK,aAAapK,EAAEqK,cAAcrK,EAAEsK,eAAetK,EAAEuK,WAAWvK,EAAEwK,cAAcxK,EAAEyK,YAAYzK,EAAE0K,eAAe1K,EAAE2K,gBAAgB3K,EAAE4K,UAAU5K,EAAE6K,iBAAiB7K,EAAE8K,aAAa9K,EAAE6C,OAAO7C,EAAE+K,UACnf/K,EAAEgL,UAAUhL,EAAEiL,YAAYjL,EAAEkL,eAAelL,EAAEmL,cAAcnL,EAAEoL,eAAepL,EAAEqL,eAAerL,EAAEyB,MAAMzB,EAAEsL,WAAWtL,EAAEtJ,SAASsJ,EAAEuL,SAASvL,EAAEwL,YAAYxL,EAAEyL,cAAczL,EAAE0L,YAAY1L,EAAE2L,UAAU3L,EAAEgD,MAAMhD,EAAE4L,WAAW5L,EAAE6L,YAAY7L,EAAEgC,SAAShC,EAAEkC,KAAKlC,EAAE8L,QAAQ9L,EAAE+L,QAAQ/L,EAAEra,UAAUqa,EAAEgM,WAAWhM,EAAEiM,WAAWjM,EAAEwC,UAAUxC,EAAE3O,MAAM2O,EAAEkM,WAAWlM,EAAEmM,SAASnM,EAAEoM,SAASpM,EAAEmD,KAAKnD,EAAEkD,IAAIlD,EAAEh5B,OAAOg5B,EAAEqM,aAAarM,EAAEsM,eAAetM,EAAEuM,eAAevM,EAAEjc,IAAIic,EAAEwM,SAASxM,EAAEiD,KAAKjD,EAAEyM,YAAYzM,EAAE0M,gBAAgB1M,EAAE8C,SAAS9C,EAAEl2B,OAClf,IACkKm6B,EAAEE,EAAES,EAAEC,EADpKoE,EAAG,wJAAwJC,EAAG,iBAAiBf,EAAG,6BAA6B6B,EAAG,0BAA0BjD,EAAG,uBAAuBE,EAAG,cAAcE,EAAG,iBAAiBE,EAAG,mBAAmBE,EAAG,iBAAiBG,EAAG,uEAAuE7B,EAAG,kBAAkBH,EAAG,6GAC3bD,EAAG,+JAAuK,IAAI,IAAIkH,EAAE,IAAKz+B,SAAS,+DAAd,GAAiF,MAAM2nB,IAc3Q,OAd+Q+H,EAAEr5B,UAAUqK,SAAS,SAASinB,EAAE0N,GAAG,OAAOpgC,KAAK+T,QAAQqsB,EAAbpgC,CAAgB0yB,IAAI+H,EAAEr5B,UAAUqoC,4BAA4B,SAAS/W,EAAE0N,EAAEE,EAAEG,GAAG,IAAIxzB,EAAE,GAAG01B,GAAE,IAAKjQ,EAAEtf,OAAOa,UAAU,cAAcye,EAAEtf,OAAOvM,KAAK+N,GAAE,IAAK8d,EAAEtf,OAAOa,WAAU,IAAKye,EAAEtf,OAAOgB,UAC9e,cAAcse,EAAEtf,OAAOvM,KAC6H,OADxH,MAAM6rB,EAAEtf,OAAOhI,SAASu3B,GAAE,GAAG,IAAKjQ,EAAEtf,OAAOgB,WAAWQ,GAAE,GAAI,mBAAoB8d,EAAEtf,OAAOhI,SAASk1B,EAAEmE,QAAQ/R,EAAEjN,SAAS6a,EAAEmE,QAAQ/R,EAAEjN,OAAO,IAAI6a,EAAEmE,QAAQ/R,EAAEjN,OAAOikB,UAAUhX,EAAEtf,OAAOhI,QAAQsnB,EAAE,mBAAmBA,EAAEjN,MAAM,wCAAwCiN,EAAEjN,MAAM,qCAAqCiN,EAAEZ,KAAKC,UAAUW,EAAEtf,OAAOhI,SAASq1B,EAAE,qBAAqB/N,EAAE,cAAc+N,EAAE,qBAAqBA,EAAEzgC,KAAKqiC,UAAU,CAACx7B,KAAK,WAAW0I,OAAO,QAAQuH,SAAS4b,EAAE5b,WAAW7J,EAAE7J,KAAK,uCACvfu/B,EAAE,yBAAyBlC,GAAG,yCAA2C7rB,EAAE,oBAAoB6rB,GAAG,cAAeL,EAAE,UAAUA,EAAE,KAAK,IAAI,UAAiBnzB,EAAEE,KAAK,OAAOstB,EAAEr5B,UAAU2S,QAAQ,SAAS2e,GAAG,SAAS0N,EAAExrB,EAAE+vB,GAAuC,OAApClE,EAAE90B,KAAKiJ,EAAE+vB,GAAGA,EAAEgF,OAAOlJ,EAAEkJ,KAAKhF,EAAEgF,MAAahH,EAAE5gC,KAAKu+B,EAAE1rB,EAAE6rB,GAAG,GAAG,OAAO/N,GAAG,iBAAkBA,EAAE,MAAM1sB,MAAM,mBAAmB,IAAIs6B,EAAEtgC,KAAKygC,EAAE,CAAChb,MAAM,EAAElc,OAAM,IAAKmpB,EAAEkX,QAAQl1B,MAAM,GAAG3U,GAAG,GAAG0kC,QAAQ,GAAGoF,MAAM,CAACl7B,QAAQg4B,IAAyC,GAApC3mC,KAAKigC,MAAMhC,eAAevL,EAAEkX,QAAWnJ,EAAEl3B,QAAQigC,EAAE,MAAMxjC,MAAM,uCAC1e,IAAG,IAAK0sB,EAAEoX,OAAO,GAAGnrC,MAAME,QAAQ6zB,GAAGA,EAAE1yB,KAAK4iC,kBAAkBlQ,GAAGtf,WAAW,CAAC,IAAInG,EAAEjM,OAAO27B,OAAO,GAAGjK,GAAGA,EAAE,CAAC7rB,KAAK,SAASw+B,OAAOp4B,EAAE88B,SAASrF,WAAWz3B,UAAUA,EAAE88B,SAAS98B,EAAE,CAAC,mBAAmB,aAAa,qBAAqB,gBAAgBylB,EAAExlB,MAAM,IAAIwlB,EAAExlB,MAAM,IAAI,QAAQ,KAAKwlB,EAAE1yB,KAAK4iC,kBAAkBlQ,GAAGzlB,EAAE7J,KAAKpD,KAAK6iC,YAAYnQ,EAAE+N,EAAE,MAAMA,EAAEl3B,MAAM,SAAS,IAAI,qEAAqE,UAAU0D,EAAE7J,KAAK,wBAAwB6J,EAAE7J,KAAK,ybAC/d6J,EAAE7J,KAAK,KAAK6J,EAAE7J,KAAK,gBAAgBsvB,EAAEzlB,EAAEE,KAAK,MAAM,IAAIw1B,EAAE,IAAKlC,EAAEl3B,MAAMigC,EAAEz+B,UAAU,QAAQ,UAAU2nB,GAA6H,OAA1H1yB,KAAKk+B,KAAKtkB,OAAOD,QAAQ8E,IAAIze,KAAK6gC,WAAW,2BAA2B8B,EAAEv+B,aAAapE,KAAKigC,MAAMhC,QAAQmC,EAAE72B,MAAMk3B,EAAEl3B,MAAa62B,GAAG3F,EAAEr5B,UAAUyhC,YAAY,SAASnQ,EAAE0N,EAAEE,EAAEG,EAAExzB,GAAG,IAAI01B,EAAE,GAAG/tB,EAAE5U,KAAKigC,MAAMt+B,IAAI+wB,EAAEtf,QAE5I,OAFoJwB,IAAG8d,EAAE9d,GAAIo1B,OAAM,EAAGtX,EAAEuX,WAAW,GAAGtH,EAAEv/B,KAAKpD,KAAKypC,4BAA4B/W,EAAE,sCAAsCA,EAAEjN,MAAM,+GACpbgb,EAAE9xB,QAAQ,aAAa+jB,EAAEjN,OAAO,6DAA6D2a,EAAEnzB,MAAMjN,KAAKigC,MAAM9C,IAAIzK,EAAEtf,OAAOsf,GAAGA,EAAEjN,MAAM2a,EAAE3a,MAAM2a,EAAE1rB,MAAM0rB,EAAE3a,OAAOiN,EAAE9d,EAAE,MAAM0rB,EAAEA,EAAE,SAASF,EAAE3a,SAAQ6a,EAAE5N,EAAEwX,aAAanoC,KAAK/B,KAAK0yB,EAAE4N,EAAEF,IAAKjV,OAAOmV,EAAEnV,OAAOxc,QAAQ,aAAa+jB,EAAEjN,OAAO6a,EAAE,IAAKF,EAAE72B,MAAMigC,EAAEz+B,UAAU,QAAQ,QAAQ,SAAS,SAAS,UAAU,QAAQu1B,EAAEnV,QAAQiV,EAAErgC,GAAG2yB,EAAEjN,OAAO6a,EAAE/rB,KAAKvU,MAAM2iC,EAAEv/B,KAAKpD,KAAKypC,4BAA4B/W,EAAE+N,EAAE9xB,QAAQ,aAAa+jB,EAAEjN,OAAO2a,EAAEnzB,IAAI01B,EAAEv/B,KAAKpD,KAAKsmC,oBAAoB,CAAC6D,MAAMl9B,EAC/fvB,KAAKkJ,EAAExB,OAAOsf,EAAEtf,OAAO3N,QAAQ26B,EAAEtpB,SAAS4b,EAAE5b,SAAS0vB,UAAU9T,EAAEjN,SAASzlB,KAAKk+B,KAAKtkB,OAAOD,QAAQ8E,IAAIze,KAAK6gC,WAAW,iBAAiBnO,EAAEjN,MAAM,MAAM6a,EAAEl8B,cAAqBu+B,EAAEx1B,KAAK,OAAOstB,EAAEr5B,UAAUwhC,kBAAkB,SAASlQ,GAAGA,EAAE1yB,KAAKoqC,YAAY1X,GAAG,IAAI0N,EAAEpgC,KAAKkzB,QAAQR,EAAE7rB,MAAwE,GAAlEu5B,WAAW1N,EAAE7rB,KAAK6rB,EAAEyN,EAAEzN,EAAE0N,EAAE,CAACwG,aAAY,OAAMxG,EAAEpgC,KAAK0U,MAAMge,EAAE7rB,OAAY,MAAMb,MAAM,YAAY0sB,EAAE7rB,KAAK,+BAA+B,MAAM,CAACiQ,SAAS9V,OAAO27B,OAAO,GAAG38B,KAAK8W,SAAS4b,EAAE5b,UAAU1D,OAAO+sB,EAAEzN,EAAE1yB,KAAKm+B,SAASzL,EAAE7rB,MAClf,CAAC+/B,aAAY,IAAKsD,aAAa9J,IAAI3F,EAAEr5B,UAAUipC,eAAe,SAAS3X,GAAoD,IAAI0N,GAArD1N,EAAEA,EAAEvhB,MAAM,KAAK7E,KAAI,SAASm0B,GAAG,OAAOA,EAAEnvB,WAAiB,GAAOgvB,EAAEF,EAAEkK,SAAS,MAAMtqC,KAAK4iC,kBAAkB,CAAC/7B,KAAK,QAAQqN,MAAMksB,EAAE/7B,MAAM,GAAG,KAAK+O,OAAO,CAACvM,KAAK6rB,EAAE,IAAwP,OAApPA,EAAEruB,MAAM,GAAGiI,KAAI,SAASm0B,GAAG,IAAIxzB,EAAEwzB,EAAE/a,QAAQ,KAAK,IAAI,IAAIzY,EAAE,CAAC,IAAI01B,EAAElC,EAAE8J,OAAO,EAAEt9B,GAAGqE,OAA8B,UAAvBmvB,EAAEA,EAAE8J,OAAOt9B,EAAE,GAAGqE,SAAmB,UAAUmvB,EAAEA,EAAE,SAASA,EAAE+J,OAAOxhC,MAAMwhC,OAAO/J,MAAMA,EAAE+J,OAAO/J,IAAIH,EAAEqC,GAAGlC,OAAOA,EAAExpB,WAAW,OAAOqpB,EAAEG,EAAEp8B,MAAM,KAAI,EAAGi8B,EAAEG,IAAG,KAAYH,GAAG7F,EAAEr5B,UAAUihC,UACrf,SAAS3P,GAAG,IAAI0N,EAAE1N,EAAE7rB,KAAKy5B,EAAE5N,EAAEjjB,MAAMgxB,EAAE/N,EAAEzhB,SAAShE,EAAEylB,EAAEnjB,OAAOozB,EAAE,CAAC97B,KAAK,IAAIu5B,EAAE,IAAI3xB,QAAQ,IAAIikB,EAAE5b,SAASspB,GAAG,KAA+F,OAA1FuC,EAAElzB,MAAM6wB,EAAE,IAAIA,EAAE,IAAI,QAAQ,MAAMG,IAAIkC,EAAE1xB,SAASwvB,GAAG,MAAMxzB,IAAI01B,EAAEpzB,OAAOtC,GAAG01B,EAAEz1B,MAAM,QAAc,iBAAiBlM,OAAOwI,KAAKm5B,GAAGr2B,KAAI,SAASsI,GAAG,OAAOA,EAAE,KAAK+tB,EAAE/tB,MAAKzH,KAAK,MAAM,QAAQstB,EAAEr5B,UAAUklC,oBAAoB,SAAS5T,GAAG,IAAI0N,EAAE1N,EAAEyX,WAAM,IAAS/J,IAAIA,EAAE,SAAS,IAAIE,EAAE5N,EAAE6T,YAAO,IAASjG,IAAIA,EAAE,UAAU,IAAIG,EAAE/N,EAAE8T,UAAUv5B,EAAEylB,EAAEhnB,KAAKi3B,EAAEjQ,EAAEtf,OAAOwB,EAAE8d,EAAEjtB,QAAQk/B,EAAEjS,EAAE5b,SAAS4b,EAAE,OAAO+N,EAAE,IAAImE,EAAE,iBAC9enE,EAAE,MAAG,mBAAmBkC,EAAErC,IAAI1rB,EAAE6vB,QAAQhE,IAAI7rB,EAAE6vB,QAAQhE,GAAG3pB,SAAS6tB,EAAE/vB,EAAE6vB,QAAQhE,GAAGrtB,OAAOuvB,GAAG/tB,EAAE6vB,QAAQhE,GAAG,CAAC3pB,SAAS6tB,EAAEvxB,OAAOuvB,GAAM3iC,KAAKk+B,KAAKpqB,4BAAkC,8BAA8B4e,EAAE,sBAAsB+N,EAAE,uBAAuBmE,EAAE,qBAAqBxE,EAAE,OAAOxrB,EAAErL,MAAM,SAAS,IAAImpB,EAAE,WAAW4N,EAAE,eAAeF,EAAE,KAAKwE,EAAE,MAAMlS,EAAE,aAAazlB,EAAE,qDAAqD23B,EAAE,gCAAgCA,EAAE,yDACxclS,EAAE,+DAAgF,mBAAmBA,EAAE,sBAAsB+N,EAAE,sBAA9DkC,EAAE,OAAOjQ,GAA4E,OAAO9d,EAAErL,MAAM,SAAS,IAAImpB,EAAE,WAAW4N,EAAE,eAAeF,EAAE,KAAK1N,EAAE,aAAazlB,EAAE,mDAAmD01B,EAAE,mBAAmBA,EAAE,wDAAwDjQ,EAAE,0DAA+D,IAAI+H,EAAEr5B,UAAUs/B,IAAI,SAAShO,EAAE0N,GAAGpgC,KAAK0U,MAAMge,GAAG0N,GAAG3F,EAAEr5B,UAAUi/B,WAC1e,SAAS3N,EAAE0N,GAAGpgC,KAAK8W,SAAS4b,GAAG0N,GAAG3F,EAAEr5B,UAAUm/B,MAAM,SAAS7N,EAAE0N,GAAG,GAAGpgC,KAAK0U,MAAMge,GAAG,MAAM1sB,MAAM,sCAAsChG,KAAKkzB,QAAQR,GAAG0N,GAAG3F,EAAEr5B,UAAUw/B,OAAO,SAASlO,GAAG,GAAG,mBAAoBA,EAAE,MAAM1sB,MAAM,mCAAmC,OAAO0sB,EAAE1yB,OAAOy6B,EAAEr5B,UAAUgpC,YAAY,SAAS1X,GAAG,IAAI0N,EAAEpgC,KAAK,GAAG,iBAAkB0yB,EAAEA,EAAE1yB,KAAKqqC,eAAe3X,QAAQ,GAAG/zB,MAAME,QAAQ6zB,GAAG,CAAC,GAAG,IAAIA,EAAEl0B,OAAO,MAAMwH,MAAM,oBAAmB0sB,EAAE,CAAC7rB,KAAK,QAAQ6N,MAAMge,IAAKhe,MAAMpI,KAAI,SAASq2B,GAAG,OAAOvC,EAAEwC,kBAAkBD,MAAK1vB,OAAM,SAAS0vB,GAAG,OAAM,IAChiBA,EAAEvvB,OAAOa,cAAaye,EAAEze,UAAS,GAAIye,EAAEhe,MAAMpI,KAAI,SAASq2B,GAAG,OAAOvC,EAAEwC,kBAAkBD,MAAK1vB,OAAM,SAAS0vB,GAAG,OAAM,IAAKA,EAAEvvB,OAAOgB,cAAase,EAAEte,UAAS,GAAI,GAAGse,EAAE+X,OAAO,CAAC,IAAInK,EAAEtgC,KAAK4iC,kBAAkBlQ,EAAE+X,QAAQr3B,cAAcsf,EAAE+X,OAAO,IAA0Bx9B,EAAtBwzB,EAAEz/B,OAAO27B,OAAO,GAAGjK,GAAK,IAAIzlB,KAAKylB,SAASA,EAAEzlB,GAAGkzB,EAAEzN,EAAE4N,EAAE,CAACsG,aAAY,IAAKlU,EAAE/xB,MAAM8/B,EAAE,OAAO/N,GAAG+H,EAAEr5B,UAAU4kC,UAAU,SAAStT,GAAG,IAAI0N,EAAEpgC,KAAKsgC,EAAEtgC,KAAKoqC,YAAY1X,GACvX,OAD0X1yB,KAAKkzB,QAAQoN,EAAEz5B,QAAQy5B,EAAEH,EAAEG,EAAEtgC,KAAKgmC,UAAUhmC,KAAKkzB,QAAQoN,EAAEz5B,OAAO,CAAC6jC,cAAa,KACvc,WAD6cpK,EAAEH,EAAEG,EAAEtgC,KAAKm+B,SAASmC,EAAEz5B,MACxf,CAAC+/B,aAAY,KAAoB//B,MAAYy5B,EAAE5rB,MAAM4rB,EAAE5rB,MAAMpI,KAAI,SAASm0B,GAAG,OAAOL,EAAE4F,UAAUvF,MAAKH,EAAErsB,SAASqsB,EAAE5rB,MAAMzB,OAAM,SAASwtB,GAAG,OAAM,IAAKA,EAAExsB,YAAWqsB,GAAK,UAAUA,EAAEz5B,MAAYy5B,EAAEpsB,MAAMlU,KAAKgmC,UAAU1F,EAAEpsB,OAAOosB,IAAE,WAAWA,EAAEz5B,MAAMy5B,EAAE3/B,OAAOK,OAAOmS,QAAQmtB,EAAE3/B,OAAO6G,SAAQ,SAASi5B,GAAG,OAAOH,EAAE3/B,MAAM8/B,EAAE,IAAIL,EAAE4F,UAAUvF,EAAE,OAAM,iBAAkB/N,IAAIA,EAAE7rB,MAAM6rB,EAAE1yB,KAAKgmC,UAAUtT,EAAE7rB,MAAMs5B,EAAEG,EAAE5N,EAAE,CAACgY,cAAa,KAAM1pC,OAAOmS,QAAQuf,GAAGlrB,SAAQ,SAASi5B,GAAG,OAAOH,EAAEG,EAAE,IAAIL,EAAE4F,UAAUvF,EAAE,QAAcH,IAC7e7F,EAAwEkQ,mBC5FPvsC,EAAOC,QAA4S,SAASskC,EAAE11B,EAAE9I,EAAE83B,GAAG,SAASh6B,EAAExD,EAAEg8B,GAAG,IAAIt2B,EAAE1F,GAAG,CAAC,IAAIwO,EAAExO,GAAG,CAAmE,GAAG4+B,EAAE,OAAOA,EAAE5+B,GAAE,GAAI,IAAIi0B,EAAE,IAAI1sB,MAAM,uBAAuBvH,EAAE,KAAK,MAAMi0B,EAAExkB,KAAK,mBAAmBwkB,EAAE,IAAIlvB,EAAEW,EAAE1F,GAAG,CAACJ,QAAQ,IAAI4O,EAAExO,GAAG,GAAGsD,KAAKyB,EAAEnF,SAAQ,SAASskC,GAAoB,OAAO1gC,EAAlBgL,EAAExO,GAAG,GAAGkkC,IAAeA,KAAIn/B,EAAEA,EAAEnF,QAAQskC,EAAE11B,EAAE9I,EAAE83B,GAAG,OAAO93B,EAAE1F,GAAGJ,QAAQ,IAAI,IAAIg/B,OAAE,EAAoC5+B,EAAE,EAAEA,EAAEw9B,EAAEz9B,OAAOC,IAAIwD,EAAEg6B,EAAEx9B,IAAI,OAAOwD,EAA7b,CAA4c,CAAC,EAAE,CAAC,SAAS4P,EAAQzT,EAAOC,GAOv1B,MAAMwrC,EAAQh4B,EAAQ,WAOhB+4B,EAAW,WACb,aAEA,MAAMC,EAAgBhB,EAAMgB,cAEtBC,EAAM,CAAC,OAAQ,MAAO,MAAO,QAAS,OAAQ,OAAQ,MAAO,QAAS,QAAS,OAAQ,MACzF,SAAU,SAAU,WAAY,WAAY,UAAW,UAAW,YAAa,WAAY,YACzFC,EAAW,CAAC,SAAU,QAAS,SAAU,QAAS,SAAU,QAAS,QAAS,UAAW,SAAU,QAAS,QAC9G,WAAY,UAAW,aAAc,aAAc,YAAa,YAAa,cAAe,aAAc,cACxGC,EAAU,CAAC,SAAU,SAAU,QAAS,QAAS,QAAS,UAAW,SAAU,SAAU,WACzFC,EAAa,CAAC,WAAY,UAAW,UAAW,YAqDtD,MAAMC,EAAa,GACnBJ,EAAItjC,SAAQ,SAAU2jC,EAAM1lB,GACxBylB,EAAWC,EAAKC,eAAiB3lB,KAErCslB,EAASvjC,SAAQ,SAAU2jC,EAAM1lB,GAC7BylB,EAAWC,EAAKC,eAAiB3lB,KAErCulB,EAAQxjC,SAAQ,SAAU2jC,EAAM1lB,GAC5B,MAAM4lB,EAAQF,EAAKC,cACnBF,EAAWG,GAAuB,IAAb5lB,EAAQ,GAC7BylB,EAAWG,EAAMC,UAAU,EAAGH,EAAK3sC,OAAS,GAAK,QAAU0sC,EAAWG,MAE1EH,EAAWK,UAAY,IACvBN,EAAWzjC,SAAQ,SAAU2jC,EAAM1lB,GAC/B,MAAM4lB,EAAQF,EAAKC,cACb/4B,EAAMkpB,KAAKiQ,IAAI,GAAkB,GAAb/lB,EAAQ,IAClCylB,EAAWG,GAASh5B,EACpB64B,EAAWG,EAAQ,MAAQh5B,KA4B/B,MAAMo5B,EAAgB,CAClB,CAAC,IAAM,KACP,CAAC,IAAK,MACN,CAAC,IAAK,KACN,CAAC,IAAK,MACN,CAAC,IAAK,KACN,CAAC,GAAI,MACL,CAAC,GAAI,KACL,CAAC,GAAI,MACL,CAAC,GAAI,KACL,CAAC,EAAG,MACJ,CAAC,EAAG,KACJ,CAAC,EAAG,MACJ,CAAC,EAAG,MAGFC,EAAc,CAAC,EAAK,IAAM,EAAK,IAAK,EAAK,IAAK,EAAK,GAAI,EAAK,GAAI,EAAK,EAAG,EAAK,GAOnF,SAASC,EAAejsC,GACpB,IAAK,IAAI+lB,EAAQ,EAAGA,EAAQgmB,EAAcjtC,OAAQinB,IAAS,CACvD,MAAMmmB,EAAUH,EAAchmB,GAC9B,GAAI/lB,GAASksC,EAAQ,GACjB,OAAOA,EAAQ,GAAKD,EAAejsC,EAAQksC,EAAQ,IAG3D,MAAO,GA8DX,SAASC,EAAcnsC,EAAOosC,GAC1B,QAAqB,IAAVpsC,EAOX,OAAOqsC,EAHPrsC,EAAQ67B,KAAKyQ,MAAMtsC,GAEJusC,EAAsBH,IAIzC,MAAMI,EACO,UADPA,EAEO,UAFPA,EAGK,QAHLA,EAIK,QAJLA,EAKQ,WAGRC,EACK,QADLA,EAEK,QAFLA,EAGK,QAUX,SAASJ,EAAersC,EAAO4pB,GAC3B,IAAI8iB,EACJ,MAAMzG,EAAWjmC,EAAQ,EAEzB,OADAA,EAAQ67B,KAAK8Q,IAAI3sC,GACT4pB,EAAOgjB,SACX,KAAKJ,EACDE,EAtEZ,SAA0B1sC,EAAO6sC,GAG7B,IAFA,IAAIC,EAAU,GACVC,EAAQF,EAAMG,WAAW,GACtBhtC,EAAQ,GACX8sC,EAAQG,QAAQtqB,OAAOuqB,cAAcltC,EAAQ,GAAK,GAAK+sC,IACvD/sC,EAAQ67B,KAAKyQ,OAAOtsC,EAAQ,GAAK,IAErC,OAAO8sC,EAAQr/B,KAAK,IA+DO0/B,CAAiBntC,EAAO4pB,EAAOwjB,OAASX,EAAc,IAAM,KAC/E,MACJ,KAAKD,EACDE,EAAmBT,EAAejsC,GAC9B4pB,EAAOwjB,OAASX,IAChBC,EAAmBA,EAAiBh6B,eAExC,MACJ,KAAK85B,EACDE,EArOZ,SAAuB1sC,EAAOqtC,GAC1B,IAAIC,EAAS,SAAUC,EAAKrjC,EAAMsjC,GAC9B,IAAIC,EAAQ,GACZ,GAAIF,GAAO,GACPE,GAASvjC,EAAO,QAAU,KAAOsjC,EAAMnC,EAASkC,GAAOnC,EAAImC,SACxD,GAAIA,EAAM,IAAK,CAClB,MAAMG,EAAO7R,KAAKyQ,MAAMiB,EAAM,IACxBI,EAAYJ,EAAM,GACxBE,GAASvjC,EAAO,QAAU,IAAMohC,EAAQoC,EAAO,GAC3CC,EAAY,EACZF,GAAS,IAAMH,EAAOK,GAAW,EAAOH,GACjCA,IACPC,EAAQA,EAAM7B,UAAU,EAAG6B,EAAM3uC,OAAS,GAAK,aAEhD,GAAIyuC,EAAM,IAAM,CACnB,MAAMK,EAAW/R,KAAKyQ,MAAMiB,EAAM,KAC5BI,EAAYJ,EAAM,IACxBE,GAASvjC,EAAO,KAAO,IAAMkhC,EAAIwC,GAAY,WACzCD,EAAY,EACZF,GAASH,EAAOK,GAAW,EAAMH,GAC1BA,IACPC,GAAS,UAEV,CACH,IAAII,EAAMhS,KAAKyQ,MAAMzQ,KAAKiS,MAAMP,GAAO,GACnCM,EAAMtC,EAAWzsC,SACjB+uC,EAAMtC,EAAWzsC,QAErB,MAAMivC,EAASlS,KAAKiQ,IAAI,GAAU,EAAN+B,GACtBG,EAAOnS,KAAKyQ,MAAMiB,EAAMQ,GACxBJ,EAAYJ,EAAMS,EAAOD,EAC/BN,GAASvjC,EAAO,KAAO,IAAMojC,EAAOU,GAAM,GAAO,GAAS,IAAMzC,EAAWsC,EAAM,GAC7EF,EAAY,EACZF,GAASH,EAAOK,GAAW,EAAMH,GAC1BA,IACPC,GAAS,MAGjB,OAAOA,GAIX,OADYH,EAAOttC,GAAO,EAAOqtC,GA4LNY,CAAcjuC,EAAO4pB,EAAOyjB,SAC3CzjB,EAAOwjB,OAASX,EAChBC,EAAmBA,EAAiBh6B,cAC7BkX,EAAOwjB,OAASX,IACvBC,EAAmBA,EAAiBhB,eAExC,MACJ,KAAKc,EACDE,EAAmB,GAAK1sC,EAExB,IAAIkuC,EAAYtkB,EAAOukB,gBAAkBzB,EAAiB5tC,OAC1D,GAAIovC,EAAY,EAAG,CACf,IAAIE,EAAU,IAAKnvC,MAAMivC,EAAY,GAAIzgC,KAAK,KAC9Ci/B,EAAmB0B,EAAU1B,EAQjC,GANwB,KAApB9iB,EAAOykB,WACP3B,EAAmBvB,EAAcuB,GAAkB9/B,KAAI4B,GAC5CmU,OAAO2rB,cAAc9/B,EAAK+/B,YAAY,GAAK3kB,EAAOykB,SAAW,MACrE5gC,KAAK,KAGRmc,EAAO4kB,QAEP,IAAK,IAAIC,EADC5S,KAAKyQ,OAAOI,EAAiB5tC,OAAS,GAAK8qB,EAAO8kB,mBAAmB5sB,UAC9D2sB,EAAK,EAAGA,IAAM,CAC3B,MAAME,EAAMjC,EAAiB5tC,OAAS2vC,EAAK7kB,EAAO8kB,mBAAmB5sB,SACrE4qB,EAAmBA,EAAiB7B,OAAO,EAAG8D,GAAO/kB,EAAO8kB,mBAAmBE,UAAYlC,EAAiB7B,OAAO8D,QAGvH/kB,EAAO8kB,mBAAmB3kC,UAAUjC,SAAQ+mC,IACxC,MAAMF,EAAMjC,EAAiB5tC,OAAS+vC,EAAU/sB,SAChD4qB,EAAmBA,EAAiB7B,OAAO,EAAG8D,GAAOE,EAAUD,UAAYlC,EAAiB7B,OAAO8D,MAI3G,GAAI/kB,EAAOyjB,QAAS,CAChB,IAEIyB,EAFY,CAAC,EAAK,KAAM,EAAK,KAAM,EAAK,MAC5BpC,EAAiBA,EAAiB5tC,OAAS,MAEtDgwC,GAAWpC,EAAiB5tC,OAAS,GAAuD,MAAlD4tC,EAAiBA,EAAiB5tC,OAAS,MACtFgwC,EAAS,MAEbpC,GAAsCoC,EAE1C,MACJ,KAAKtC,EACD,KAAM,CACFh+B,KAAM,QACNxO,MAAO4pB,EAAOmlB,OAO1B,OAJI9I,IACAyG,EAAmB,IAAMA,GAGtBA,EAIX,MAAMsC,EAAgB,CAAC,GAAM,KAAQ,KAAQ,KAAQ,KAAQ,KAAQ,KAAQ,KAAQ,KAAQ,KAAQ,KAAQ,KAAQ,KAAQ,KAAQ,KAAQ,KAAQ,KAAQ,KAAQ,KAAQ,KAAQ,KAAQ,KAAQ,KAAQ,KAAQ,KAAQ,KAAQ,KAAQ,KAAQ,KAAQ,MAAQ,MAAQ,MAAQ,MAAQ,MAAQ,MAAQ,MAAQ,OAOrT,SAASzC,EAAsBH,GAC3B,MAAMxiB,EAAS,CACXziB,KAAM,UACNylC,QAASJ,EACTY,KAAMX,EACNY,SAAS,GAGb,IAAI4B,EAAeC,EACnB,MAAMC,EAAY/C,EAAQgD,YAAY,KAYtC,QAXmB,IAAfD,EACAF,EAAgB7C,GAEhB6C,EAAgB7C,EAAQR,UAAU,EAAGuD,GACrCD,EAAiB9C,EAAQR,UAAUuD,EAAY,GACrB,MAAtBD,EAAe,KACftlB,EAAOyjB,SAAU,IAKjB4B,GACJ,IAAK,IACDrlB,EAAOwjB,KAAOX,EAElB,IAAK,IACD7iB,EAAOgjB,QAAUJ,EACjB,MACJ,IAAK,IACD5iB,EAAOwjB,KAAOX,EAElB,IAAK,IACD7iB,EAAOgjB,QAAUJ,EACjB,MACJ,IAAK,IACD5iB,EAAOwjB,KAAOX,EACd7iB,EAAOgjB,QAAUJ,EACjB,MACJ,IAAK,KACD5iB,EAAOwjB,KAAOX,EACd7iB,EAAOgjB,QAAUJ,EACjB,MACJ,IAAK,IACD5iB,EAAOgjB,QAAUJ,EACjB,MACJ,QAAS,CAEL,IAAI6B,EAAW,KACXF,EAAkB,EAClBkB,EAAiB,EACjBX,EAAqB,GACrBY,EAAoB,EAoCxB,GAnCyBnE,EAAc8D,GAAeriC,KAAIg0B,GAAKA,EAAE2N,YAAY,KAAIxkC,UAChEjC,SAASynC,IAEtB,IAAIC,GAAQ,EACZ,IAAK,IAAIf,EAAK,EAAGA,EAAKO,EAAclwC,OAAQ2vC,IAAM,CAC9C,MAAMgB,EAAQT,EAAcP,GAC5B,GAAIc,GAAaE,GAASF,GAAaE,EAAQ,EAAG,CAK9C,GAHAD,GAAQ,EACRrB,IACAmB,IACiB,OAAbjB,EACAA,EAAWoB,OACR,GAAIA,IAAUpB,EAEjB,KAAM,CACF7/B,KAAM,SAGd,OAGHghC,IACiB,KAAdD,GACAD,IACAD,KAGAX,EAAmBhrC,KAAK,CACpBoe,SAAUwtB,EACVV,UAAWjsB,OAAO2rB,cAAciB,SAK5CpB,EAAkB,EAAG,CACrBvkB,EAAOgjB,QAAUJ,EAIjB5iB,EAAOykB,SAAWA,EAElBzkB,EAAOukB,gBAAkBA,EAEzBvkB,EAAOylB,eAAiBA,EAGxB,MA6BMb,EA7BgB,SAAUkB,GAG5B,GAA0B,IAAtBA,EAAW5wC,OACX,OAAO,EAGX,MAAM6wC,EAAUD,EAAW,GAAGd,UAC9B,IAAK,IAAIH,EAAK,EAAGA,EAAKiB,EAAW5wC,OAAQ2vC,IACrC,GAAIiB,EAAWjB,GAAIG,YAAce,EAC7B,OAAO,EAIf,MAAMC,EAAUF,EAAW9iC,KAAIiiC,GAAaA,EAAU/sB,WAChD+tB,EAAM,SAAU7c,EAAG0N,GACrB,OAAa,IAANA,EAAU1N,EAAI6c,EAAInP,EAAG1N,EAAI0N,IAG9BqN,EAAS6B,EAAQxhC,OAAOyhC,GAE9B,IAAK,IAAI9pB,EAAQ,EAAGA,GAAS6pB,EAAQ9wC,OAAQinB,IACzC,IAAyC,IAArC6pB,EAAQ5pB,QAAQD,EAAQgoB,GACxB,OAAO,EAGf,OAAOA,EAGK+B,CAAcpB,GAC1BF,EAAU,GACV5kB,EAAO4kB,SAAU,EACjB5kB,EAAO8kB,mBAAqB,CACxB5sB,SAAU0sB,EACVI,UAAWF,EAAmB,GAAGE,aAGrChlB,EAAO4kB,SAAU,EACjB5kB,EAAO8kB,mBAAqBA,QAMhC9kB,EAAOgjB,QAAUJ,EACjB5iB,EAAOmlB,MAAQE,GAK3B,OAAOrlB,EAGX,MAAMmmB,EAA+B,CACjCxQ,EAAG,IAAK8B,EAAG,IAAK8D,EAAG,IAAKpE,EAAG,IAAKiP,EAAG,IAAK5Q,EAAG,IAAK5C,EAAG,IAAK8C,EAAG,IAAK7C,EAAG,IAAK2E,EAAG,IAAKpG,EAAG,IACnFqK,EAAG,IAAKpyB,EAAG,KAAMg9B,EAAG,KAAMlV,EAAG,IAAK0E,EAAG,QAASyF,EAAG,QAASlH,EAAG,IAAKyH,EAAG,KASzE,SAASyK,EAAuB9D,GAC5B,IAAI+D,EAAO,GACX,MAAMvmB,EAAS,CACXziB,KAAM,WACNipC,MAAOD,GAELE,EAAa,SAAUC,EAAOC,GAChC,GAAIA,EAAMD,EAAO,CACb,IAAIjO,EAAU+J,EAAQR,UAAU0E,EAAOC,GAGvClO,EAAUA,EAAQ5wB,MAAM,MAAMhE,KAAK,KACnC0iC,EAAKzsC,KAAK,CAACyD,KAAM,UAAWnH,MAAOqiC,MAK3C,IADA,IAAIiO,EAAQ,EAAG3B,EAAM,EACdA,EAAMvC,EAAQttC,QAAQ,CACzB,GAA4B,MAAxBstC,EAAQjiC,OAAOwkC,GAAc,CAE7B,GAAgC,MAA5BvC,EAAQjiC,OAAOwkC,EAAM,GAAY,CAEjC0B,EAAWC,EAAO3B,GAClBwB,EAAKzsC,KAAK,CAACyD,KAAM,UAAWnH,MAAO,MAEnCswC,EADA3B,GAAO,EAEP,SASJ,GALA0B,EAAWC,EAAO3B,GAClB2B,EAAQ3B,GAII,KAFZA,EAAMvC,EAAQpmB,QAAQ,IAAKsqB,IAIvB,KAAM,CACF9hC,KAAM,SAGd,IAAIgiC,EAASpE,EAAQR,UAAU0E,EAAQ,EAAG3B,GAE1C6B,EAASA,EAAO/+B,MAAM,OAAOhE,KAAK,IAClC,IAKIgjC,EALAC,EAAM,CACNvpC,KAAM,SACNwpC,UAAWH,EAAOrmC,OAAO,IAEzBymC,EAAQJ,EAAOpB,YAAY,KAE/B,IAAe,IAAXwB,EAAc,CAEd,MAAMC,EAAWL,EAAO5E,UAAUgF,EAAQ,GACpCE,EAAOD,EAAS7qB,QAAQ,KAC9B,IAAIpE,EAAKC,EACT,MAAMkvB,EAAa,SAAUC,GACzB,YAAkB,IAAPA,GAA6B,MAAPA,OAC7B,EAGOlO,SAASkO,KAGV,IAAVF,EACAlvB,EAAMivB,GAENjvB,EAAMivB,EAASjF,UAAU,EAAGkF,GAC5BjvB,EAAMgvB,EAASjF,UAAUkF,EAAO,IAEpC,MAAMG,EAAW,CACbrvB,IAAKmvB,EAAWnvB,GAChBC,IAAKkvB,EAAWlvB,IAEpB6uB,EAAIQ,MAAQD,EACZR,EAAUD,EAAO5E,UAAU,EAAGgF,QAE9BH,EAAUD,EAAO5E,UAAU,GAE/B,GAAuB,IAAnB6E,EAAQ3xC,OACR4xC,EAAIS,cAAgBV,OAEjB,GAAIA,EAAQ3xC,OAAS,EAAG,CAC3B,IAAIsyC,EAAWX,EAAQtmC,OAAOsmC,EAAQ3xC,OAAS,IACb,IAA9B,OAAOknB,QAAQorB,IACfV,EAAIW,cAAgBD,EACH,MAAbA,IACAV,EAAIrD,SAAU,GAIlBqD,EAAIS,cAAgBV,EAAQ7E,UAAU,EAAG6E,EAAQ3xC,OAAS,IAE1D4xC,EAAIS,cAAgBV,OAMxBC,EAAIS,cAAgBpB,EAA6BW,EAAIC,WAEzD,QAAiC,IAAtBD,EAAIS,cAEX,KAAM,CACF3iC,KAAM,QACNxO,MAAO0wC,EAAIC,WAGnB,GAA6B,MAAzBD,EAAIS,cAAc,GAClBT,EAAIpjC,MAAQm/B,OACT,GAA6B,MAAzBiE,EAAIS,cAAc,GACI,MAAzBT,EAAIS,cAAc,GAClBT,EAAIpjC,MAAQm/B,EAEZiE,EAAIpjC,MAAQm/B,OAEb,IAAiD,IAA7C,iBAAiBzmB,QAAQ0qB,EAAIC,WAAmB,CACvD,IAAIW,EAAiBZ,EAAIS,cAUzB,GATIT,EAAIW,gBACJC,GAAkB,IAAMZ,EAAIW,eAEhCX,EAAIa,cAAgBhF,EAAsB+E,GACtCZ,EAAIQ,YAA2BvwC,IAAlB+vC,EAAIQ,MAAMtvB,KACnB8uB,EAAIa,cAAcpD,gBAAkBuC,EAAIQ,MAAMtvB,MAC9C8uB,EAAIa,cAAcpD,gBAAkBuC,EAAIQ,MAAMtvB,MAGhB,IAAlC,MAAMoE,QAAQ0qB,EAAIC,WAGlB,GADAD,EAAIjsC,GAAK,EACLisC,EAAIQ,YAA2BvwC,IAAlB+vC,EAAIQ,MAAMrvB,IACvB6uB,EAAIjsC,EAAIisC,EAAIQ,MAAMrvB,IAClB6uB,EAAIa,cAAcpD,gBAAkBuC,EAAIjsC,MACrC,CACH,IAAI+3B,EAAIkU,EAAIa,cAAcpD,gBAAkBuC,EAAIa,cAAclC,eAC1D7S,GAAK,IACLkU,EAAIjsC,EAAI+3B,IAKF,MAAlBkU,EAAIC,WAAuC,MAAlBD,EAAIC,YAC7BD,EAAIa,cAAgBhF,EAAsBmE,EAAIS,gBAElDhB,EAAKzsC,KAAKgtC,GACVJ,EAAQ3B,EAAM,EAElBA,IAGJ,OADA0B,EAAWC,EAAO3B,GACX/kB,EAGX,MAAM4nB,EAAO,CAAC,GAAI,SAAU,UAAW,YAAa,WAAY,SAAU,WAAY,UAChFC,EAAS,CAAC,UAAW,WAAY,QAAS,QAAS,MAAO,OAAQ,OAAQ,SAAU,YAAa,UAAW,WAAY,YACxHC,EAAe,MAEfC,EAAmB,SAAUC,GAK/B,MAAMC,EAAOC,KAAKC,IAAIH,EAAGI,KAAMJ,EAAGK,OAClC,IAAIC,EAAY,IAAKJ,KAAKD,GAAOM,YAKjC,OAJkB,IAAdD,IACAA,EAAY,GAGTA,EAAY,EAAIL,GAAQ,EAAIK,GAAaR,EAAeG,GAAQK,EAAY,GAAKR,GAGtFU,EAAY,SAAUJ,EAAMC,GAC9B,MAAO,CACHD,KAAMA,EACNC,MAAOA,EACPI,UAAW,WACP,OAAkB,KAAVJ,EAAgBG,EAAUJ,EAAO,EAAG,GAAKI,EAAUJ,EAAMC,EAAQ,IAE7EK,cAAe,WACX,OAAkB,IAAVL,EAAeG,EAAUJ,EAAO,EAAG,IAAMI,EAAUJ,EAAMC,EAAQ,IAE7EM,SAAU,WACN,OAAOH,EAAUJ,EAAO,EAAGC,IAE/BO,aAAc,WACV,OAAOJ,EAAUJ,EAAO,EAAGC,MAKjCQ,EAAa,SAAUnC,EAAOC,GAChC,OAAQA,EAAMD,GAAS,OAAqB,GAG1CoC,EAAsB,CAACrT,EAAMsR,KAC/B,IAAIgC,EACJ,OAAQhC,GACJ,IAAK,IACDgC,EAAiBtT,EAAKuT,iBACtB,MACJ,IAAK,IACDD,EAAiBtT,EAAKwT,cAAgB,EACtC,MACJ,IAAK,IACDF,EAAiBtT,EAAKyT,aACtB,MACJ,IAAK,IAKDH,GAHcb,KAAKC,IAAI1S,EAAKuT,iBAAkBvT,EAAKwT,cAAexT,EAAKyT,cAEtDhB,KAAKC,IAAI1S,EAAKuT,iBAAkB,IACXlB,EAAe,EACrD,MAEJ,IAAK,IACDiB,EAAiBtT,EAAK8S,YACC,IAAnBQ,IAEAA,EAAiB,GAErB,MACJ,IAAK,IAAK,CACN,MAAMI,EAAWX,EAAU/S,EAAKuT,iBAAkB,GAC5CI,EAAerB,EAAiBoB,GAChCE,EAAQnB,KAAKC,IAAIgB,EAASf,KAAM3S,EAAKwT,cAAexT,EAAKyT,cAC/D,IAAII,EAAOT,EAAWO,EAAcC,GACpC,GAAIC,EAAO,GAGHD,GADyBtB,EAAiBoB,EAASR,cAEnDW,EAAO,QAER,GAAIA,EAAO,EAAG,CAEjB,MAAMC,EAAsBxB,EAAiBoB,EAASP,gBACtDU,EAAOT,EAAWU,EAAqBF,GAE3CN,EAAiB9W,KAAKyQ,MAAM4G,GAC5B,MAEJ,IAAK,IAAK,CACN,MAAME,EAAYhB,EAAU/S,EAAKuT,iBAAkBvT,EAAKwT,eAClDG,EAAerB,EAAiByB,GAChCH,EAAQnB,KAAKC,IAAIqB,EAAUpB,KAAMoB,EAAUnB,MAAO5S,EAAKyT,cAC7D,IAAII,EAAOT,EAAWO,EAAcC,GACpC,GAAIC,EAAO,EAGHD,GAD0BtB,EAAiByB,EAAUf,eAErDa,EAAO,QAER,GAAIA,EAAO,EAAG,CAEjB,MAAMG,EAAuB1B,EAAiByB,EAAUd,iBACxDY,EAAOT,EAAWY,EAAsBJ,GAE5CN,EAAiB9W,KAAKyQ,MAAM4G,GAC5B,MAEJ,IAAK,IAAK,CAKN,MAAMH,EAAWX,EAAU/S,EAAKuT,iBAAkB,GAC5CU,EAAiB3B,EAAiBoB,GAClCQ,EAAe5B,EAAiBoB,EAASR,YACzCiB,EAAMnU,EAAKoU,UAEbd,EADAa,EAAMF,EACWP,EAASf,KAAO,EAC1BwB,GAAOD,EACGR,EAASf,KAAO,EAEhBe,EAASf,KAE9B,MAEJ,IAAK,IAAK,CAKN,MAAMoB,EAAYhB,EAAU/S,EAAKuT,iBAAkBvT,EAAKwT,eAClDa,EAAkB/B,EAAiByB,GACnCf,EAAYe,EAAUf,YACtBsB,EAAgBhC,EAAiBU,GACjCmB,EAAMnU,EAAKoU,UAEbd,EADAa,EAAME,EACWN,EAAUd,gBAAgBL,MAAQ,EAC5CuB,GAAOG,EACGtB,EAAUJ,MAAQ,EAElBmB,EAAUnB,MAAQ,EAEvC,MAEJ,IAAK,IACDU,EAAiBtT,EAAKuU,cACtB,MACJ,IAAK,IACDjB,EAAiBtT,EAAKuU,cACtBjB,GAAkC,GACX,IAAnBA,IACAA,EAAiB,IAErB,MACJ,IAAK,IACDA,EAAiBtT,EAAKuU,eAAiB,GAAK,KAAO,KACnD,MACJ,IAAK,IACDjB,EAAiBtT,EAAKwU,gBACtB,MACJ,IAAK,IACDlB,EAAiBtT,EAAKyU,gBACtB,MACJ,IAAK,IACDnB,EAAiBtT,EAAK0U,qBACtB,MACJ,IAAK,IACL,IAAK,IAED,MACJ,IAAK,IAGL,IAAK,IACDpB,EAAiB,MAGzB,OAAOA,GAGX,IAAIqB,EAAc,KASlB,SAASC,EAAeC,EAAQ9H,EAAS+H,GACrC,IAAIC,EAAc,EACdC,EAAgB,EAEpB,QAAwB,IAAbF,EAA0B,CAGjC,MAAMG,EAASxR,SAASqR,GACxBC,EAAcvY,KAAKyQ,MAAMgI,EAAS,KAClCD,EAAgBC,EAAS,IAyE7B,IAAIC,OACkB,IAAZnI,GAEc,OAAhB4H,IACAA,EAAc9D,EAAuB,0DAEzCqE,EAAaP,GAEbO,EAAarE,EAAuB9D,GAGxC,MACMlB,EAAW,IAAI4G,KAAKoC,EADgC,IAApC,GAAKE,EAAcC,GAAsB,KAG/D,IAAInsC,EAAS,GASb,OARAqsC,EAAWnE,MAAMtoC,SAAQ,SAAU0sC,GACb,YAAdA,EAAKrtC,KACLe,GAAUssC,EAAKx0C,MAEfkI,GAzFc,SAAUm3B,EAAMoV,GAClC,IAAI9B,EAAiBD,EAAoBrT,EAAMoV,EAAW9D,WAG1D,IAAuD,IAAnD,gBAAgB3qB,QAAQyuB,EAAW9D,WAOnC,GAN6B,MAAzB8D,EAAW9D,YAEW,IAAlB8D,EAAWhwC,IACXkuC,GAAkC9W,KAAKiQ,IAAI,GAAI2I,EAAWhwC,IAG9DgwC,EAAWnnC,MAAO,CAClB,GAA6B,MAAzBmnC,EAAW9D,WAA8C,MAAzB8D,EAAW9D,UAC3CgC,EAAiBlB,EAAOkB,EAAiB,OACtC,IAA6B,MAAzB8B,EAAW9D,UAGlB,KAAM,CACFniC,KAAM,QACNxO,MAAOy0C,EAAW9D,WAJtBgC,EAAiBnB,EAAKmB,GAOtB8B,EAAWnnC,QAAUm/B,EACrBkG,EAAiBA,EAAejgC,cACzB+hC,EAAWnnC,QAAUm/B,IAC5BkG,EAAiBA,EAAejH,eAEhC+I,EAAWvD,OAASyB,EAAe7zC,OAAS21C,EAAWvD,MAAMrvB,MAC7D8wB,EAAiBA,EAAe/G,UAAU,EAAG6I,EAAWvD,MAAMrvB,WAGlE8wB,EAAiBtG,EAAesG,EAAgB8B,EAAWlD,oBAE5D,GAA6B,MAAzBkD,EAAW9D,UAElBgC,EAAiBtG,EAAesG,EAAgB8B,EAAWlD,oBACxD,GAA6B,MAAzBkD,EAAW9D,WAA8C,MAAzB8D,EAAW9D,UAAmB,CAErE,MAAM2D,EAAuB,IAAdF,EAAoBC,EACnC,GAAII,EAAWlD,cAAc/C,QACzBmE,EAAiBtG,EAAeiI,EAAQG,EAAWlD,mBAChD,CACH,MAAMmD,EAAYD,EAAWlD,cAAcpD,gBAC3C,GAAkB,IAAduG,GAAiC,IAAdA,EACnB/B,EAAiBtG,EAAe+H,EAAaK,EAAWlD,eAClC,IAAlB8C,IACA1B,GAAkB,IAAMxG,EAAckI,EAAe,WAEtD,IAAkB,IAAdK,GAAiC,IAAdA,EAG1B,KAAM,CACFlmC,KAAM,QACNxO,MAAO00C,GAJX/B,EAAiBtG,EAAeiI,EAAQG,EAAWlD,gBAQvD+C,GAAU,IACV3B,EAAiB,IAAMA,GAEE,MAAzB8B,EAAW9D,YACXgC,EAAiB,MAAQA,GAEd,IAAX2B,GAA6C,MAA7BG,EAAWpD,gBAC3BsB,EAAiB,KAGzB,OAAOA,EAsBOgC,CAAgBzJ,EAAUsJ,MAIrCtsC,EAQX,SAAS0sC,EAAcL,GACnB,IAAIM,EAAU,GACd,GAAwB,aAApBN,EAAWptC,KACX0tC,EAAQ1tC,KAAO,WACf0tC,EAAQzE,MAAQmE,EAAWnE,MAAMxjC,KAAI,SAAU4nC,GAC3C,IAAIM,EAAM,GACV,GAAkB,YAAdN,EAAKrtC,KACL2tC,EAAItiC,MAAQgiC,EAAKx0C,MAAMiP,QAAQ,sBAAuB,aACnD,GAAuB,MAAnBulC,EAAK7D,WAAwC,MAAnB6D,EAAK7D,UAAmB,CAEzD,IAAI9B,EACC5vC,MAAME,QAAQq1C,EAAKjD,cAAc7C,sBAClCG,EAAY2F,EAAKjD,cAAc7C,oBAEnCoG,EAAItiC,MAAQ,GACW,MAAnBgiC,EAAK7D,YACLmE,EAAItiC,MAAQ,OAEhBsiC,EAAItiC,OAAS,aACTq8B,IACAiG,EAAItiC,OAASq8B,EAAUD,UAAY,UAEvCkG,EAAI5uB,MAAQ,SAASlmB,GACM,MAAnBw0C,EAAK7D,YACL3wC,EAAQA,EAAM4rC,UAAU,IAE5B,IAAIwI,EAAc,EAAGC,EAAgB,EAerC,OAdIxF,GACAuF,EAActJ,OAAOhI,SAAS9iC,EAAM4rC,UAAU,EAAG5rC,EAAMgmB,QAAQ6oB,EAAUD,aACzEyF,EAAgBvJ,OAAOhI,SAAS9iC,EAAM4rC,UAAU5rC,EAAMgmB,QAAQ6oB,EAAUD,WAAa,KAGnE5uC,EAAMlB,OAAS,GAChB,EAEbs1C,EAActJ,OAAOhI,SAAS9iC,IAE9Bo0C,EAActJ,OAAOhI,SAAS9iC,EAAM4rC,UAAU,EAAG,IACjDyI,EAAgBvJ,OAAOhI,SAAS9iC,EAAM4rC,UAAU,KAGnC,GAAdwI,EAAmBC,QAE3B,GAAIG,EAAKjD,cACZiD,EAAKjD,cAAc9sC,EAAI+vC,EAAK/vC,EAC5BqwC,EAAMF,EAAcJ,EAAKjD,mBACtB,CAEHuD,EAAItiC,MAAQ,YACZ,IAAI86B,EAAS,GACb,GAAuB,MAAnBkH,EAAK7D,WAAwC,MAAnB6D,EAAK7D,UAE/Bc,EAAO3pC,SAAQ,SAAUlD,EAAMmhB,GACvByuB,EAAKtD,OAASsD,EAAKtD,MAAMrvB,IACzByrB,EAAO1oC,EAAKgnC,UAAU,EAAG4I,EAAKtD,MAAMrvB,MAAQkE,EAAQ,EAEpDunB,EAAO1oC,GAAQmhB,EAAQ,UAG5B,GAAuB,MAAnByuB,EAAK7D,UAEZa,EAAK1pC,SAAQ,SAAUlD,EAAMmhB,GACrBA,EAAQ,IACJyuB,EAAKtD,OAASsD,EAAKtD,MAAMrvB,IACzByrB,EAAO1oC,EAAKgnC,UAAU,EAAG4I,EAAKtD,MAAMrvB,MAAQkE,EAE5CunB,EAAO1oC,GAAQmhB,UAIxB,IAAuB,MAAnByuB,EAAK7D,UAIZ,KAAM,CACFniC,KAAM,QACNxO,MAAOw0C,EAAK7D,WALhBrD,EAAS,CAAC,GAAM,EAAG,GAAM,EAAG,GAAM,EAAG,GAAM,GAQ/CwH,EAAI5uB,MAAQ,SAAUlmB,GAClB,OAAOstC,EAAOttC,IAItB,OADA80C,EAAInE,UAAY6D,EAAK7D,UACdmE,SAER,CACHD,EAAQ1tC,KAAO,UACf,MAAM4tC,EAAUR,EAAWnH,OAASX,EACpC,IAAIuI,EAWJ,OARQA,EAFLT,EAAW9vC,GAAK8vC,EAAW9vC,EAAI,EACG,IAA9B8vC,EAAWlF,eACI,IAAIkF,EAAW9vC,KAEf,IAAI8vC,EAAW9vC,EAAI8vC,EAAWlF,kBAAkBkF,EAAW9vC,KAG/D,IAGV8vC,EAAW3H,SACf,KAAKJ,EACDqI,EAAQriC,MAAQuiC,EAAU,SAAW,SACrCF,EAAQ3uB,MAAQ,SAAUlmB,GACtB,OAh1BpB,SAA0B8sC,EAASD,GAG/B,IAFA,IAAIE,EAAQF,EAAMG,WAAW,GACzBiI,EAAU,EACLl2C,EAAI,EAAGA,EAAI+tC,EAAQhuC,OAAQC,IAChCk2C,IAAYnI,EAAQE,WAAWF,EAAQhuC,OAASC,EAAI,GAAKguC,EAAQ,GAAKlR,KAAKiQ,IAAI,GAAI/sC,GAEvF,OAAOk2C,EA00BgBC,CAAiBl1C,EAAO+0C,EAAU,IAAM,MAEnD,MACJ,KAAKvI,EACDqI,EAAQriC,MAAQuiC,EAAU,aAAe,aACzCF,EAAQ3uB,MAAQ,SAAUlmB,GACtB,OA53BpB,SAAwBm1C,GAGpB,IAFA,IAAIF,EAAU,EACVpzB,EAAM,EACD9iB,EAAIo2C,EAAMr2C,OAAS,EAAGC,GAAK,EAAGA,IAAK,CACxC,MAAMywC,EAAQ2F,EAAMp2C,GACdiB,EAAQgsC,EAAYwD,GACtBxvC,EAAQ6hB,EACRozB,GAAWj1C,GAEX6hB,EAAM7hB,EACNi1C,GAAWj1C,GAGnB,OAAOi1C,EA+2BgBG,CAAeL,EAAU/0C,EAAQA,EAAM0S,gBAElD,MACJ,KAAK85B,EACDqI,EAAQriC,MAAQ,MAAQlR,OAAOwI,KAAK0hC,GAAYnpB,OAAO,MAAO,WAAW5U,KAAK,KAAO,KACrFonC,EAAQ3uB,MAAQ,SAAUlmB,GACtB,OA57BpB,SAAuBsX,GACnB,MACM3P,EADQ2P,EAAK7F,MAAM,uBACJ7E,KAAI4nC,GAAQhJ,EAAWgJ,KAC5C,IAAIa,EAAO,CAAC,GAcZ,OAbA1tC,EAAOG,SAAQ9H,IACX,GAAIA,EAAQ,IAAK,CACb,IAAIs1C,EAAMD,EAAKrrC,MACXsrC,GAAO,MACPD,EAAK3xC,KAAK4xC,GACVA,EAAM,GAEVD,EAAK3xC,KAAK4xC,EAAMt1C,QAEhBq1C,EAAK3xC,KAAK2xC,EAAKrrC,MAAQhK,MAGhBq1C,EAAKjnC,QAAO,CAAC4kB,EAAG0N,IAAM1N,EAAI0N,GAAG,GA46BrB6U,CAAcv1C,EAAM0rC,gBAE/B,MACJ,KAAKc,EACDqI,EAAQriC,MAAQ,QAAQwiC,IACpBT,EAAWlH,UAEXwH,EAAQriC,OAAS,mBAErBqiC,EAAQ3uB,MAAQ,SAAUlmB,GACtB,IAAIw1C,EAASx1C,EAiBb,OAhBIu0C,EAAWlH,UAEXmI,EAASx1C,EAAM4rC,UAAU,EAAG5rC,EAAMlB,OAAS,IAG3Cy1C,EAAW/F,QACXgH,EAASA,EAAO/jC,MAAM,KAAKhE,KAAK,IAEhC8mC,EAAW7F,mBAAmB5mC,SAAQ2tC,IAClCD,EAASA,EAAO/jC,MAAMgkC,EAAI7G,WAAWnhC,KAAK,OAGtB,KAAxB8mC,EAAWlG,WAEXmH,EAASA,EAAO/jC,MAAM,IAAI7E,KAAI8oC,GAAQ/yB,OAAO2rB,cAAcoH,EAAKnH,YAAY,GAAKgG,EAAWlG,SAAW,MAAO5gC,KAAK,KAEhHq1B,SAAS0S,IAEpB,MACJ,KAAKhJ,EACD,KAAM,CACFh+B,KAAM,QACNxO,MAAOu0C,EAAWxF,QAKlC,OAAO8F,EA6BX,SAASc,EAAcC,EAAWxJ,GAC9B,MACMyJ,EAAYjB,EADC1E,EAAuB9D,IAEpC0J,EAAY,IAAMD,EAAUzF,MAAMxjC,KAAI4nC,GAAQ,IAAMA,EAAKhiC,MAAQ,MAAK/E,KAAK,IAAM,IAGvF,IAAI1N,EADY,IAAI+R,OAAOgkC,EAAW,KACnB/jC,KAAK6jC,GACxB,GAAa,OAAT71C,EAAe,CAuCf,MAAMg2C,EAAM,IACNC,EAAM,IACNC,EAAM,GACNC,EAAM,GAENC,EAAM,GACNC,EAAM,GAENloC,EAAa,GACnB,IAAK,IAAInP,EAAI,EAAGA,EAAIgB,EAAKjB,OAAQC,IAAK,CAClC,MAAMs3C,EAAQR,EAAUzF,MAAMrxC,EAAI,GAC9Bs3C,EAAMnwB,QACNhY,EAAWmoC,EAAM1F,WAAa0F,EAAMnwB,MAAMnmB,EAAKhB,KAIvD,GAAqD,IAAlDuC,OAAOg1C,oBAAoBpoC,GAAYpP,OAEtC,OAGJ,IAAIy3C,EAAO,EAEX,MAAMC,EAAQC,IACVF,IAAS,EACTA,GAAQE,EAAM,EAAI,GAGhBC,EAASvvC,MAEDA,EAAOovC,KAAYpvC,EAAOovC,IAGxC,WAAW9kC,MAAM,IAAI3J,SAAQ0sC,GAAQgC,EAAMtoC,EAAWsmC,MAEtD,MACMmC,GADQD,EAAOX,IACGW,EAAOV,GACzBY,EAAQF,EAAOT,GACfY,GAASD,GAASF,EAAOR,GAE/BK,EAAO,EACP,SAAS9kC,MAAM,IAAI3J,SAAQ0sC,GAAQgC,EAAMtoC,EAAWsmC,MAEpD,MACMsC,GADQJ,EAAOP,IACGO,EAAON,GAOzBW,GAHYJ,EAAQ,KAAOC,EAAQ,OAASC,EAAO,MAAQ,QAC/CC,EAAQ,QAAU,QAS9BtD,EAAMlzC,KAAK02C,YAAYpB,UAE7B,IAAIqB,GAAiB,EACjBC,GAAe,EA2BnB,GA1BAH,EAAMtlC,MAAM,IAAI3J,SAAQ0sC,IACpB,QAA+B,IAArBtmC,EAAWsmC,GACdyC,GAEC/oC,EAAWsmC,IAAkC,IAAzB,MAAMxuB,QAAQwuB,GAAgB,EAAI,EACtD0C,GAAe,GAGfhpC,EAAWsmC,GAAQ9B,EAAoBc,EAAKgB,QAIhD,GADAyC,GAAiB,EACdC,EACC,KAAM,CACF1oC,KAAM,YAOlBN,EAAWmzB,EAAI,EACfnzB,EAAWmzB,GAAK,EAEhBnzB,EAAWmzB,EAAI,EAEfsV,EAAO,CAEP,MAAMQ,EAAWrF,KAAKC,IAAI7jC,EAAWqxB,EAAG,GAClC6X,EAAoC,KAApBlpC,EAAW6yB,EAAI,GAAY,GAAK,GAAK,GACrDsW,EAAc,IAAIvF,KAAKqF,EAAWC,GACxClpC,EAAWmzB,EAAIgW,EAAYxE,cAC3B3kC,EAAWi3B,EAAIkS,EAAYvE,aAE/B,GAAI8D,EAGA,KAAM,CACFpoC,KAAM,SAGd,GAAIqoC,EAGA,KAAM,CACFroC,KAAM,SAGVsoC,IAEA5oC,EAAWkzB,EAAqB,KAAjBlzB,EAAW8sB,EAAW,EAAI9sB,EAAW8sB,EAC/B,IAAjB9sB,EAAWm3B,IACXn3B,EAAWkzB,GAAK,KAIxB,IAAI8S,EAASpC,KAAKC,IAAI7jC,EAAWqxB,EAAGrxB,EAAWmzB,EAAGnzB,EAAWi3B,EAAGj3B,EAAWkzB,EAAGlzB,EAAW+E,EAAG/E,EAAW+hC,EAAG/hC,EAAW6sB,GAKrH,OAJG7sB,EAAWuxB,GAAKvxB,EAAWg3B,KAE1BgP,GAA2C,IAAhChmC,EAAWuxB,GAAKvxB,EAAWg3B,GAAU,KAE7CgP,GAKf,IAAIoD,EAAe,IAAIxlC,OAAO,sGA8C9B,MAAO,CACHq6B,cAAAA,EAAeoL,aAjPnB,SAAsBv3C,EAAOosC,GACzB,QAAqB,IAAVpsC,EAUX,OALkB40C,EADCrI,EAAsBH,IAKhBlmB,MAAMlmB,IAuOFw3C,WAVjC,SAAoBtD,EAAQ9H,EAAS+H,GAEjC,QAAqB,IAAXD,EAIV,OAAOD,EAAe5xC,KAAK/B,KAAM4zC,EAAQ9H,EAAS+H,IAITsD,SAtC7C,SAAkB7B,EAAWxJ,GAEzB,QAAwB,IAAdwJ,EAAV,CAIA,QAAsB,IAAZxJ,EAAyB,CAC/B,IAAKkL,EAAazyC,KAAK+wC,GACnB,KAAM,CACF8B,OAAO,IAAKpxC,OAASoxC,MACrBlpC,KAAM,QACNxO,MAAO41C,GAIf,OAAO9D,KAAK5rB,MAAM0vB,GAElB,OAAOD,EAActzC,KAAK/B,KAAMs1C,EAAWxJ,MA/xCtC,GAwzCjB1tC,EAAOC,QAAUusC,GAEf,CAAC,UAAU,IAAI,EAAE,CAAC,SAAS/4B,EAAQzT,EAAOC,IAC5C,SAAWm9B,IAAQ,WAOnB,IAAIqO,EAAQh4B,EAAQ,WAEpB,MAAMwlC,EAAY,MACd,aAEA,IAAIC,EAAYzN,EAAMyN,UAClBC,EAAmB1N,EAAM0N,iBACzBC,EAAmB3N,EAAM2N,iBACzBC,EAAiB5N,EAAM4N,eACvBC,EAAa7N,EAAM6N,WACnBC,EAAa9N,EAAM8N,WACnBC,EAAW/N,EAAM+N,SACjBC,EAAahO,EAAMgO,WACnBC,EAAmBjO,EAAMiO,iBACzBC,EAAalO,EAAMmO,YACnBnN,EAAgBhB,EAAMgB,cA8H1B,SAASS,EAAUn5B,EAAK69B,EAAOxxC,GAE3B,QAAmB,IAAR2T,EAAX,CAIA,IAAI8lC,EAAWpN,EAAc14B,GACzB+lC,EAAYD,EAASz5C,OAMzB,GAJI05C,EAAYlI,EAAQ,IACpBA,EAAQ,QAGU,IAAXxxC,EAAwB,CAC/B,GAAIA,GAAU,EACV,MAAO,GAEX,IAAIyxC,EAAMD,GAAS,EAAIA,EAAQxxC,EAAS05C,EAAYlI,EAAQxxC,EAC5D,OAAOy5C,EAAS5zC,MAAM2rC,EAAOC,GAAK9iC,KAAK,IAG3C,OAAO8qC,EAAS5zC,MAAM2rC,GAAO7iC,KAAK,KA4EtC,SAAS3O,EAAO2T,GAEZ,QAAmB,IAARA,EAIX,OAAO04B,EAAc14B,GAAK3T,OAqE9B,SAAU25C,EAAgB5D,EAASpiC,GAC/B,IAAIvK,EAAS2sC,EAAQp0C,MAAMH,KAAM,CAACmS,IAIlC,GAHG0lC,EAAWjwC,KACVA,QAAiBA,GAElBA,GAAoC,iBAAjBA,EAAOooC,OAAqC,WAAfpoC,EAAOqoC,MAAoBtxC,MAAME,QAAQ+I,EAAOwwC,UAAWT,EAAW/vC,EAAOzE,MAE5H,KAAM,CACF+K,KAAM,QACNkpC,OAAO,IAAKpxC,OAASoxC,OAG7B,OAAOxvC,EAm7BX,SAASywC,EAAM74C,EAAK84C,GAChB,IAAI1wC,EAGJ,QAAmB,IAARpI,EAAX,CAIA,GAAI84C,EAAW,CAMX,IAAI54C,EAAQF,EAAI4E,WAAW+M,MAAM,KACjC3R,IAAQE,EAAM,GAAK,KAAOA,EAAM,IAAOA,EAAM,GAAK44C,EAAaA,IAMnE,IAAIC,GADJ3wC,EAAS2zB,KAAK8c,MAAM74C,IACAA,EAepB,MAduB,KAAnB+7B,KAAK8Q,IAAIkM,IAA0C,IAAzBhd,KAAK8Q,IAAIzkC,EAAS,KAE5CA,GAAkB,GAElB0wC,IAEA54C,EAAQkI,EAAOxD,WAAW+M,MAAM,KAEhCvJ,IAAWlI,EAAM,GAAK,KAAOA,EAAM,IAAOA,EAAM,GAAK44C,GAAcA,KAEnEt3C,OAAOw3C,GAAG5wC,GAAS,KAEnBA,EAAS,GAENA,GAwEX,SAAS42B,EAAQh/B,GAWb,QAAmB,IAARA,EAAX,CAIA,IAAIoI,GAAS,EAyBb,OAxBIjJ,MAAME,QAAQW,GACK,IAAfA,EAAIhB,OACJoJ,EAAS42B,EAAQh/B,EAAI,IACdA,EAAIhB,OAAS,IAIpBoJ,EAHYpI,EAAIiN,QAAO,SAAU4F,GAC7B,OAAOmsB,EAAQnsB,MAEJ7T,OAAS,GAEN,iBAARgB,EACVA,EAAIhB,OAAS,IACboJ,GAAS,GAEN0vC,EAAU93C,GACL,IAARA,IACAoI,GAAS,GAEE,OAARpI,GAA+B,iBAARA,EAC1BwB,OAAOwI,KAAKhK,GAAKhB,OAAS,IAC1BoJ,GAAS,GAES,kBAARpI,IAA6B,IAARA,IACnCoI,GAAS,GAENA,GA0BX,SAAS6wC,EAAYC,EAAMC,EAAMC,EAAMC,GACnC,IAAIC,EAAY,CAACH,GAEbn6C,EAASs5C,EAAiBY,GAO9B,OANIl6C,GAAU,GACVs6C,EAAU11C,KAAKw1C,GAEfp6C,GAAU,GACVs6C,EAAU11C,KAAKy1C,GAEZC,EA2OX,SAASC,EAAOJ,EAAMC,GAElB,YAAoB,IAATD,EACAC,OAES,IAATA,EACAD,GAGNh6C,MAAME,QAAQ85C,KACfA,EAAOlB,EAAekB,IAErBh6C,MAAME,QAAQ+5C,KACfA,EAAO,CAACA,IAELD,EAAK52B,OAAO62B,IAuVvB,MAAO,CACHI,IA5+DJ,SAAa/4C,GAET,QAAoB,IAATA,EAAX,CAIA,IAAIg5C,EAAQ,EAIZ,OAHAh5C,EAAKuH,SAAQ,SAAUylC,GACnBgM,GAAShM,KAENgM,IAk+DFC,MA19DT,SAAej5C,GAEX,YAAoB,IAATA,EACA,EAGJA,EAAKzB,QAo9DA+iB,IA58DhB,SAAathB,GAET,QAAoB,IAATA,GAAwC,IAAhBA,EAAKzB,OAIxC,OAAO+8B,KAAKha,IAAIphB,MAAMo7B,KAAMt7B,IAs8DXqhB,IA97DrB,SAAarhB,GAET,QAAoB,IAATA,GAAwC,IAAhBA,EAAKzB,OAIxC,OAAO+8B,KAAKja,IAAInhB,MAAMo7B,KAAMt7B,IAw7DNk5C,QAh7D1B,SAAiBl5C,GAEb,QAAoB,IAATA,GAAwC,IAAhBA,EAAKzB,OAAxC,CAIA,IAAIy6C,EAAQ,EAIZ,OAHAh5C,EAAKuH,SAAQ,SAAUylC,GACnBgM,GAAShM,KAENgM,EAAQh5C,EAAKzB,SAu6DpBohC,OA95DJ,SAAgBpgC,EAAK45C,GAAW,GAE5B,QAAmB,IAAR55C,EAAX,CAIA,IAAI2S,EAEJ,GAAmB,iBAAR3S,EAEP2S,EAAM3S,OACH,GAAIm4C,EAAWn4C,GAElB2S,EAAM,OACH,IAAmB,iBAAR3S,IAAqB65C,SAAS75C,GAC5C,KAAM,CACF0O,KAAM,QACNxO,MAAOF,EACP43C,OAAO,IAAKpxC,OAASoxC,OAGzB,IAAIkC,EAAQF,EAAW,EAAI,EACxBz6C,MAAME,QAAQW,IAAQA,EAAI+5C,eACzB/5C,EAAMA,EAAI,IAEd2S,EAAM2f,KAAKC,UAAUvyB,GAAK,SAAUD,EAAK8S,GACrC,OAAQ,MAAOA,GAAuCA,EAAImnC,aAAelC,EAAUjlC,GAAQm4B,OAAOn4B,EAAImnC,YAAY,KAC7GnnC,GAAOslC,EAAWtlC,GAAQ,GAAKA,IACrCinC,GAEP,OAAOnnC,IAg4DCm5B,UAAAA,EAAWmO,gBAx1DvB,SAAyBtnC,EAAKunC,GAE1B,QAAmB,IAARvnC,EAAX,CAIA,IAAIk8B,EAAMl8B,EAAIuT,QAAQg0B,GACtB,OAAIrL,GAAO,EACAl8B,EAAIo4B,OAAO,EAAG8D,GAEdl8B,IA80DyBwnC,eAp0DxC,SAAwBxnC,EAAKunC,GAEzB,QAAmB,IAARvnC,EAAX,CAIA,IAAIk8B,EAAMl8B,EAAIuT,QAAQg0B,GACtB,OAAIrL,GAAO,EACAl8B,EAAIo4B,OAAO8D,EAAMqL,EAAMl7C,QAEvB2T,IA0zDyCixB,UAjzDxD,SAAmBjxB,GAEf,QAAmB,IAARA,EAIX,OAAOA,EAAIi5B,eA2yDoD/H,UAnyDnE,SAAmBlxB,GAEf,QAAmB,IAARA,EAIX,OAAOA,EAAIC,eA6xD+D5T,OAAAA,EAAQ8S,KAvwDtF,SAAca,GAEV,QAAmB,IAARA,EAAX,CAKA,IAAIvK,EAASuK,EAAIxD,QAAQ,eAAgB,KASzC,MARyB,MAArB/G,EAAOiC,OAAO,KAEdjC,EAASA,EAAO0jC,UAAU,IAEW,MAArC1jC,EAAOiC,OAAOjC,EAAOpJ,OAAS,KAE9BoJ,EAASA,EAAO0jC,UAAU,EAAG1jC,EAAOpJ,OAAS,IAE1CoJ,IAuvDiFgyC,IA7uD5F,SAAaznC,EAAKy+B,EAAOwE,GAErB,QAAmB,IAARjjC,EAAX,CAQA,IAAIvK,OAJgB,IAATwtC,GAAwC,IAAhBA,EAAK52C,SACpC42C,EAAO,KAIX,IAAIxH,EAAYrS,KAAK8Q,IAAIuE,GAASpyC,EAAO2T,GACzC,GAAIy7B,EAAY,EAAG,CACf,IAAIE,EAAU,IAAKnvC,MAAMivC,EAAY,GAAIzgC,KAAKioC,GAC1CA,EAAK52C,OAAS,IACdsvC,EAAUxC,EAAUwC,EAAS,EAAGF,IAGhChmC,EADAgpC,EAAQ,EACCz+B,EAAM27B,EAENA,EAAU37B,OAGvBvK,EAASuK,EAEb,OAAOvK,IAqtDPuvB,MA7pDJ,UAAgBhlB,EAAKD,EAAO2nC,GAExB,QAAmB,IAAR1nC,EAAX,CAKA,GAAI0nC,EAAQ,EACR,KAAM,CACFzC,OAAO,IAAKpxC,OAASoxC,MACrB13C,MAAOm6C,EACP3rC,KAAM,QACNuX,MAAO,GAIf,IAAI7d,EAAS6vC,IAEb,QAAqB,IAAVoC,GAAyBA,EAAQ,EAAG,CAC3C,IAAIX,EAAQ,EACRY,QAAiB3B,EAAgBjmC,EAAOC,GAC5C,QAAuB,IAAZ2nC,EACP,UAA0B,IAAZA,SAA6C,IAAVD,GAAyBX,EAAQW,IAC9EjyC,EAAOxE,KAAK,CACR+zB,MAAO2iB,EAAQ3iB,MACf1R,MAAOq0B,EAAQ9J,MACfoI,OAAQ0B,EAAQ1B,SAEpB0B,QAAiB3B,EAAgB2B,EAAQ32C,MACzC+1C,IAKZ,OAAOtxC,IA2nDA87B,SAtrDX,UAAmBvxB,EAAKs8B,GAEpB,QAAmB,IAARt8B,EAaX,MAPqB,iBAAVs8B,GAC2B,IAAxBt8B,EAAIuT,QAAQ+oB,QAGO,WADR0J,EAAgB1J,EAAOt8B,KA2qD/BxD,QAhnDrB,UAAkBwD,EAAKqxB,EAASuW,EAAaF,GAEzC,QAAmB,IAAR1nC,EAAX,CAIA,IAsBI6nC,EAnBJ,GAAgB,KAAZxW,EACA,KAAM,CACFt1B,KAAM,QACNkpC,OAAO,IAAKpxC,OAASoxC,MACrB13C,MAAO8jC,EACP/d,MAAO,GAKf,GAAIo0B,EAAQ,EACR,KAAM,CACF3rC,KAAM,QACNkpC,OAAO,IAAKpxC,OAASoxC,MACrB13C,MAAOm6C,EACPp0B,MAAO,GAMXu0B,EADuB,iBAAhBD,EACI,SAAUE,GAMjB,IALA,IAAIC,EAAa,GAGb14B,EAAW,EACXiE,EAAQs0B,EAAYr0B,QAAQ,IAAKlE,IACnB,IAAXiE,GAAgBjE,EAAWu4B,EAAYv7C,QAAQ,CAClD07C,GAAcH,EAAYzO,UAAU9pB,EAAUiE,GAC9CjE,EAAWiE,EAAQ,EACnB,IAAI00B,EAAYJ,EAAYlwC,OAAO2X,GACnC,GAAkB,MAAd24B,EAEAD,GAAc,IACd14B,SACG,GAAkB,MAAd24B,EACPD,GAAcD,EAAW9iB,MACzB3V,QACG,CACH,IAAI44B,EAYJ,GATIA,EAF6B,IAA7BH,EAAW7B,OAAO55C,OAEN,EAGA+8B,KAAKyQ,MAAMzQ,KAAK9c,IAAIw7B,EAAW7B,OAAO55C,QAAU+8B,KAAK8e,QAAU,EAE/E50B,EAAQ+c,SAASuX,EAAYzO,UAAU9pB,EAAUA,EAAW44B,GAAY,IACpEA,EAAY,GAAK30B,EAAQw0B,EAAW7B,OAAO55C,SAC3CinB,EAAQ+c,SAASuX,EAAYzO,UAAU9pB,EAAUA,EAAW44B,EAAY,GAAI,KAE3EpxC,MAAMyc,GAUPy0B,GAAc,QAVC,CACf,GAAID,EAAW7B,OAAO55C,OAAS,EAAG,CAC9B,IAAI87C,EAAWL,EAAW7B,OAAO3yB,EAAQ,QACjB,IAAb60B,IACPJ,GAAcI,GAGtB94B,GAAYiE,EAAMrhB,WAAW5F,QAMrCinB,EAAQs0B,EAAYr0B,QAAQ,IAAKlE,GAGrC,OADA04B,EAAcH,EAAYzO,UAAU9pB,IAI7Bu4B,EAGf,IAAInyC,EAAS,GACT4Z,EAAW,EAEf,QAAqB,IAAVq4B,GAAyBA,EAAQ,EAAG,CAC3C,IAAIX,EAAQ,EACZ,GAAuB,iBAAZ1V,EAAsB,CAE7B,IADA,IAAI/d,EAAQtT,EAAIuT,QAAQ8d,EAAShiB,IACf,IAAXiE,SAAkC,IAAVo0B,GAAyBX,EAAQW,IAC5DjyC,GAAUuK,EAAIm5B,UAAU9pB,EAAUiE,GAClC7d,GAAUmyC,EACVv4B,EAAWiE,EAAQ+d,EAAQhlC,OAC3B06C,IACAzzB,EAAQtT,EAAIuT,QAAQ8d,EAAShiB,GAEjC5Z,GAAUuK,EAAIm5B,UAAU9pB,OACrB,CACH,IAAIs4B,QAAiB3B,EAAgB3U,EAASrxB,GAC9C,QAAuB,IAAZ2nC,EAAyB,CAChC,UAA0B,IAAZA,SAA6C,IAAVD,GAAyBX,EAAQW,IAAQ,CACtFjyC,GAAUuK,EAAIm5B,UAAU9pB,EAAUs4B,EAAQ9J,OAC1C,IAAIuK,EAAeP,EAAS75C,MAhGjCH,KAgG6C,CAAC85C,IAKzC,GAJIjC,EAAW0C,KACXA,QAAsBA,GAGE,iBAAjBA,EAIP,KAAM,CACFrsC,KAAM,QACNkpC,OAAO,IAAKpxC,OAASoxC,MACrB13C,MAAO66C,GANX3yC,GAAU2yC,EASd/4B,EAAWs4B,EAAQ9J,MAAQ8J,EAAQ3iB,MAAM34B,OACzC06C,IACAY,QAAiB3B,EAAgB2B,EAAQ32C,MAE7CyE,GAAUuK,EAAIm5B,UAAU9pB,QAExB5Z,EAASuK,QAIjBvK,EAASuK,EAGb,OAAOvK,IA8+CmBuJ,MA/0C9B,UAAgBgB,EAAKo8B,EAAWsL,GAE5B,QAAmB,IAAR1nC,EAAX,CAKA,GAAI0nC,EAAQ,EACR,KAAM,CACF3rC,KAAM,QACNkpC,OAAO,IAAKpxC,OAASoxC,MACrB13C,MAAOm6C,EACPp0B,MAAO,GAIf,IAAI7d,EAAS,GAEb,QAAqB,IAAViyC,GAAyBA,EAAQ,EACxC,GAAyB,iBAAdtL,EACP3mC,EAASuK,EAAIhB,MAAMo9B,EAAWsL,OAC3B,CACH,IAAIX,EAAQ,EACRY,QAAiB3B,EAAgB5J,EAAWp8B,GAChD,QAAuB,IAAZ2nC,EAAyB,CAEhC,IADA,IAAI9J,EAAQ,OACc,IAAZ8J,SAA6C,IAAVD,GAAyBX,EAAQW,IAC9EjyC,EAAOxE,KAAK+O,EAAIm5B,UAAU0E,EAAO8J,EAAQ9J,QACzCA,EAAQ8J,EAAQ7J,IAChB6J,QAAiB3B,EAAgB2B,EAAQ32C,MACzC+1C,UAEiB,IAAVW,GAAyBX,EAAQW,IACxCjyC,EAAOxE,KAAK+O,EAAIm5B,UAAU0E,SAG9BpoC,EAAOxE,KAAK+O,GAKxB,OAAOvK,IAsyC0BuF,KA7xCrC,SAAcqtC,EAAMjM,GAEhB,QAAoB,IAATiM,EASX,YAJyB,IAAdjM,IACPA,EAAY,IAGTiM,EAAKrtC,KAAKohC,IAmxCjBkM,aAzwCJ,SAAsB/6C,EAAOosC,EAASlvB,GAElC,QAAqB,IAAVld,EAAX,CAIA,IAeIglC,EAfW,CACX,oBAAqB,IACrB,qBAAsB,IACtB,qBAAsB,IACtB,SAAY,WACZ,aAAc,IACd,IAAO,MACP,QAAW,IACX,YAAa,IACb,aAAc,IACd,MAAS,IACT,oBAAqB,UAKF,IAAZ9nB,GACP5b,OAAOwI,KAAKoT,GAASpV,SAAQ,SAAUjI,GACnCmlC,EAAWnlC,GAAOqd,EAAQrd,MAMlC,IAFA,IAAIm7C,EAAqB,GACrBC,EAAejW,EAAW,cAAcgI,WAAW,GAC9CyB,EAAKwM,EAAcxM,EAAKwM,EAAe,GAAIxM,IAChDuM,EAAmBt3C,KAAKif,OAAOuqB,aAAauB,IAGhD,IAAIyM,EAAcF,EAAmB34B,OAAO,CAAC2iB,EAAW,qBAAsBA,EAAW,sBAAuBA,EAAW,sBAAuBA,EAAWwK,MAAOxK,EAAW,uBAE3KmW,EAAc/O,EAAQ36B,MAAMuzB,EAAW,sBAE3C,GAAImW,EAAYr8C,OAAS,EACrB,KAAM,CACF0P,KAAM,QACNkpC,OAAO,IAAKpxC,OAASoxC,OAI7B,IAiNItH,EAAQ+K,EAAYvuC,KAjNP,SAAUwuC,GACvB,IAmBIC,EAAcC,EAAcC,EAAaC,EAnBzCC,EAAS,WAET,IADA,IAAIC,EACKjN,EAAK,EAAGA,EAAK2M,EAAWt8C,OAAQ2vC,IAErC,GADAiN,EAAKN,EAAWjxC,OAAOskC,IACU,IAA7ByM,EAAYl1B,QAAQ01B,IAAcA,IAAO1W,EAAW,sBACpD,OAAOoW,EAAWxP,UAAU,EAAG6C,GAL9B,GASTK,EAAS,WAET,IADA,IAAI4M,EACKjN,EAAK2M,EAAWt8C,OAAS,EAAG2vC,GAAM,EAAGA,IAE1C,GADAiN,EAAKN,EAAWjxC,OAAOskC,IACU,IAA7ByM,EAAYl1B,QAAQ01B,IAAcA,IAAO1W,EAAW,sBACpD,OAAOoW,EAAWxP,UAAU6C,EAAK,GALhC,GASTkN,EAAaP,EAAWxP,UAAU6P,EAAO38C,OAAQs8C,EAAWt8C,OAASgwC,EAAOhwC,QAE5E88C,EAAmBR,EAAWp1B,QAAQgf,EAAW,sBAAuByW,EAAO38C,SACzD,IAAtB88C,GAA2BA,EAAmBR,EAAWt8C,OAASgwC,EAAOhwC,QACzEu8C,EAAeM,EACfL,OAAe36C,IAEf06C,EAAeM,EAAW/P,UAAU,EAAGgQ,GACvCN,EAAeK,EAAW/P,UAAUgQ,EAAmB,IAE3D,IAAIC,EAAkBR,EAAar1B,QAAQgf,EAAW,sBAQtD,OAPyB,IAArB6W,GACAN,EAAcF,EACdG,EAAiB1M,IAEjByM,EAAcF,EAAazP,UAAU,EAAGiQ,GACxCL,EAAiBH,EAAazP,UAAUiQ,EAAkB,IAEvD,CACHJ,OAAQA,EACR3M,OAAQA,EACR6M,WAAYA,EACZN,aAAcA,EACdC,aAAcA,EACdC,YAAaA,EACbC,eAAgBA,EAChBJ,WAAYA,MAqKpBhL,EAAMtoC,SAhKS,SAAUsoC,GACrB,IAAInwC,EACAwuC,EACA2M,EAAahL,EAAMgL,WACnBU,EAAaV,EAAWp1B,QAAQgf,EAAW,sBAC3C8W,IAAeV,EAAWhM,YAAYpK,EAAW,wBACjD/kC,EAAQ,SAERm7C,EAAWp1B,QAAQgf,EAAW+W,WAAaX,EAAWhM,YAAYpK,EAAW+W,WAC7E97C,EAAQ,SAERm7C,EAAWp1B,QAAQgf,EAAW,gBAAkBoW,EAAWhM,YAAYpK,EAAW,gBAClF/kC,EAAQ,UAEoC,IAA5Cm7C,EAAWp1B,QAAQgf,EAAW+W,WAAoE,IAAjDX,EAAWp1B,QAAQgf,EAAW,gBAC/E/kC,EAAQ,SAEZ,IAAI+7C,GAAQ,EACZ,IAAKvN,EAAK,EAAGA,EAAK2B,EAAMiL,aAAav8C,OAAQ2vC,IAAM,CAC/C,IAAIiN,EAAKtL,EAAMiL,aAAalxC,OAAOskC,GACnC,IAAwC,IAApCuM,EAAmBh1B,QAAQ01B,IAAcA,IAAO1W,EAAWwK,MAAO,CAClEwM,GAAQ,EACR,OAGHA,IACD/7C,EAAQ,UAKoB,IAHhBmwC,EAAMuL,WAAWlqC,MAAM,IAAI7E,KAAI,SAAU8oC,GACrD,OAAsC,IAA/BwF,EAAYl1B,QAAQ0vB,GAAe,IAAM,OACjDjoC,KAAK,IACMuY,QAAQ,OAClB/lB,EAAQ,UAEQ,IAAhB67C,EACIV,EAAWjxC,OAAO2xC,EAAa,KAAO9W,EAAW,uBAAyBoW,EAAWjxC,OAAO2xC,EAAa,KAAO9W,EAAW,wBAC3H/kC,EAAQ,SAELmwC,EAAMmL,YAAYpxC,OAAOimC,EAAMmL,YAAYz8C,OAAS,KAAOkmC,EAAW,wBAC7E/kC,EAAQ,UAEqF,IAA7Fm7C,EAAWp1B,QAAQgf,EAAW,sBAAwBA,EAAW,yBACjE/kC,EAAQ,SAEZ,IAAIg8C,EAAmB7L,EAAMmL,YAAYv1B,QAAQgf,EAAWwK,QAClC,IAAtByM,GAA2B7L,EAAMmL,YAAY3P,UAAU,EAAGqQ,GAAkBxqC,MAAM,IAAI1E,QAAO,SAAU2oC,GACvG,OAAOsF,EAAmBh1B,QAAQ0vB,IAAS,KAC5C52C,OAAS,IACRmB,EAAQ,UAGc,KAD1Bg8C,EAAmB7L,EAAMoL,eAAepM,YAAYpK,EAAWwK,SAChCY,EAAMoL,eAAe5P,UAAUqQ,GAAkBxqC,MAAM,IAAI1E,QAAO,SAAU2oC,GACvG,OAAOsF,EAAmBh1B,QAAQ0vB,IAAS,KAC5C52C,OAAS,IACRmB,EAAQ,SAEZ,IAAIi8C,EAAgD,iBAAvB9L,EAAMkL,aASnC,GARIY,GAAkB9L,EAAMkL,aAAax8C,OAAS,KAAkD,IAA5Cs8C,EAAWp1B,QAAQgf,EAAW+W,WAAoE,IAAjDX,EAAWp1B,QAAQgf,EAAW,iBACnI/kC,EAAQ,SAERi8C,IAAiD,IAA9B9L,EAAMkL,aAAax8C,QAAgBsxC,EAAMkL,aAAa7pC,MAAM,IAAI1E,QAAO,SAAU2oC,GACpG,OAA6C,IAAtCsF,EAAmBh1B,QAAQ0vB,MACnC52C,OAAS,KACRmB,EAAQ,SAERA,EACA,KAAM,CACFuO,KAAMvO,EACNy3C,OAAO,IAAKpxC,OAASoxC,UA8FjC,IAgBIyE,EAOAC,EAYAC,EAAUC,EAnCV1rB,EAAYwf,EAAMxjC,KAxFR,SAAUwjC,GACpB,IAAImM,EAAuB,SAAU/H,EAAMgI,GAGvC,IAFA,IAAIC,EAAY,GACZC,EAAmBlI,EAAKxuB,QAAQgf,EAAW,wBAClB,IAAtB0X,GAAyB,CAC5B,IAAIC,GAAmBH,EAAShI,EAAK5I,UAAU,EAAG8Q,GAAoBlI,EAAK5I,UAAU8Q,IAAmBjrC,MAAM,IAAI1E,QAAO,SAAU2oC,GAC/H,OAA6C,IAAtCsF,EAAmBh1B,QAAQ0vB,IAAgBA,IAAS1Q,EAAWwK,SACvE1wC,OACH29C,EAAU/4C,KAAKi5C,GACfD,EAAmBtM,EAAMmL,YAAYv1B,QAAQgf,EAAW,sBAAuB0X,EAAmB,GAEtG,OAAOD,GAEPG,EAA+BL,EAAqBnM,EAAMmL,aAoB1DsB,EAnBU,SAAUjN,GAEpB,GAAuB,IAAnBA,EAAQ9wC,OACR,OAAO,EAQX,IANA,IAAI+wC,EAAM,SAAU7c,EAAG0N,GACnB,OAAa,IAANA,EAAU1N,EAAI6c,EAAInP,EAAG1N,EAAI0N,IAGhCqN,EAAS6B,EAAQxhC,OAAOyhC,GAEnB9pB,EAAQ,EAAGA,GAAS6pB,EAAQ9wC,OAAQinB,IACzC,IAAyC,IAArC6pB,EAAQ5pB,QAAQD,EAAQgoB,GACxB,OAAO,EAGf,OAAOA,EAGWS,CAAQoO,GAC1BE,EAAkCP,EAAqBnM,EAAMoL,gBAAgB,GAE7EuB,EAAyB3M,EAAMmL,YAAY9pC,MAAM,IAAI1E,QAAO,SAAU2oC,GACtE,OAA6C,IAAtCsF,EAAmBh1B,QAAQ0vB,MACnC52C,OACCk+C,EAAgBD,EAEhBE,EAAsB7M,EAAMoL,eAAe/pC,MAAM,IACjDyrC,EAA2BD,EAAoBlwC,QAAO,SAAU2oC,GAChE,OAA6C,IAAtCsF,EAAmBh1B,QAAQ0vB,MACnC52C,OACCq+C,EAA2BF,EAAoBlwC,QAAO,SAAU2oC,GAChE,OAA6C,IAAtCsF,EAAmBh1B,QAAQ0vB,IAAgBA,IAAS1Q,EAAWwK,SACvE1wC,OACCs+C,EAAgD,iBAAvBhN,EAAMkL,aACJ,IAA3ByB,GAA6D,IAA7BI,IAC5BC,GACAF,EAA2B,EAC3BC,EAA2B,GAE3BJ,EAAyB,GAG7BK,GAA8C,IAA3BL,IAAiF,IAAjD3M,EAAMmL,YAAYv1B,QAAQgf,EAAWwK,SACxFuN,EAAyB,GAEE,IAA3BA,GAA6D,IAA7BG,IAChCA,EAA2B,GAE/B,IAAIG,EAAsB,EAO1B,OANID,IACAC,EAAsBjN,EAAMkL,aAAa7pC,MAAM,IAAI1E,QAAO,SAAU2oC,GAChE,OAA6C,IAAtCsF,EAAmBh1B,QAAQ0vB,MACnC52C,QAGA,CACH89C,6BAA8BA,EAC9BC,gBAAiBA,EACjBE,uBAAwBA,EACxBC,cAAeA,EACfvB,OAAQrL,EAAMqL,OACdqB,gCAAiCA,EACjCI,yBAA0BA,EAC1BC,yBAA0BA,EAC1BE,oBAAqBA,EACrBvO,OAAQsB,EAAMtB,OACd1C,QAASgE,EAAMgL,eASnBkC,EAAatY,EAAW,cACxBuY,EAAavY,EAAW,cACxBwY,EAAoBxY,EAAW,qBAC/ByY,EAAqBzY,EAAW,sBA+BpC,GA7ByB,IAArBpU,EAAU9xB,SACV8xB,EAAUltB,KAAK0uB,KAAKlM,MAAMkM,KAAKC,UAAUzB,EAAU,MACnDA,EAAU,GAAG6qB,OAAS6B,EAAa1sB,EAAU,GAAG6qB,QAiBhDW,GAD6C,KAN7CD,EADAn8C,GAAS,EACH4wB,EAAU,GAEVA,EAAU,IAIZwb,QAAQpmB,QAAQgf,EAAW+W,SACN,IAAR/7C,GACwC,IAAlDm8C,EAAI/P,QAAQpmB,QAAQgf,EAAW,cACb,IAARhlC,EAEAA,EAMW,IAA5Bm8C,EAAIkB,oBACJhB,EAAWD,MACR,CAEH,IAAIsB,EAAc7hB,KAAKiQ,IAAI,GAAIqQ,EAAIa,eAC/BW,EAAc9hB,KAAKiQ,IAAI,GAAIqQ,EAAIa,cAAgB,GAGnD,IAFAX,EAAWD,EACXE,EAAW,EACJD,EAAWsB,GACdtB,GAAY,GACZC,GAAY,EAEhB,KAAOD,EAAWqB,GACdrB,GAAY,GACZC,GAAY,EAIpB,IAEIsB,EAAa,SAAU59C,EAAO69C,GAC9B,IAAIprC,EAAMopB,KAAK8Q,IAAI3sC,GAAO89C,QAAQD,GAUlC,MATmB,MAAfN,IACA9qC,EAAMA,EAAIhB,MAAM,IAAI7E,KAAI,SAAU4iC,GAC9B,OAAIA,GAAS,KAAOA,GAAS,IAClBwL,EAAmBxL,EAAMxC,WAAW,GAAK,IAEzCwC,KAEZ/hC,KAAK,KAELgF,GAEPsrC,EAAcH,EAfEjF,EAAM0D,EAAUF,EAAIgB,0BAeIhB,EAAIgB,0BAC5CrB,EAAaiC,EAAY/3B,QAAQ,KAMrC,KALoB,IAAhB81B,EACAiC,GAA4BP,EAE5BO,EAAcA,EAAY9uC,QAAQ,IAAKuuC,GAEpCO,EAAY5zC,OAAO,KAAOozC,GAC7BQ,EAAcA,EAAYnS,UAAU,GAExC,KAAOmS,EAAY5zC,OAAO4zC,EAAYj/C,OAAS,KAAOy+C,GAClDQ,EAAcA,EAAYnS,UAAU,EAAGmS,EAAYj/C,OAAS,GAGhEg9C,EAAaiC,EAAY/3B,QAAQw3B,GACjC,IAAIQ,EAAU7B,EAAIY,uBAAyBjB,EACvCmC,EAAW9B,EAAIe,0BAA4Ba,EAAYj/C,OAASg9C,EAAa,GAKjF,GAJAiC,GAAeC,EAAU,EAAI,IAAI/+C,MAAM++C,EAAU,GAAGvwC,KAAK8vC,GAAc,IAAMQ,EAC7EA,GAA6BE,EAAW,EAAI,IAAIh/C,MAAMg/C,EAAW,GAAGxwC,KAAK8vC,GAAc,GACvFzB,EAAaiC,EAAY/3B,QAAQw3B,GAE7BrB,EAAIU,gBAAkB,EAEtB,IADA,IAAIqB,EAAariB,KAAKyQ,OAAOwP,EAAa,GAAKK,EAAIU,iBAC1CpN,EAAQ,EAAGA,GAASyO,EAAYzO,IACrCsO,EAAc,CAACA,EAAYp5C,MAAM,EAAGm3C,EAAarM,EAAQ0M,EAAIU,iBAAkBY,EAAoBM,EAAYp5C,MAAMm3C,EAAarM,EAAQ0M,EAAIU,kBAAkBpvC,KAAK,SAGzK0uC,EAAIS,6BAA6B90C,SAAQ,SAAU6mC,GAC/CoP,EAAc,CAACA,EAAYp5C,MAAM,EAAGm3C,EAAanN,GAAM8O,EAAoBM,EAAYp5C,MAAMm3C,EAAanN,IAAMlhC,KAAK,IACrHquC,OAcR,GAVAA,EAAaiC,EAAY/3B,QAAQw3B,GACjCrB,EAAIW,gCAAgCh1C,SAAQ,SAAU6mC,GAClDoP,EAAc,CAACA,EAAYp5C,MAAM,EAAGgqC,EAAMmN,EAAa,GAAI2B,EAAoBM,EAAYp5C,MAAMgqC,EAAMmN,EAAa,IAAIruC,KAAK,OAGjIquC,EAAaiC,EAAY/3B,QAAQw3B,IACe,IAA5CrB,EAAI/P,QAAQpmB,QAAQw3B,IAA6B1B,IAAeiC,EAAYj/C,OAAS,IACrFi/C,EAAcA,EAAYnS,UAAU,EAAGmS,EAAYj/C,OAAS,SAGxC,IAAbw9C,EAA0B,CACjC,IAAI6B,EAAiBP,EAAWtB,EAAU,IAC1C0B,EAAU7B,EAAIkB,oBAAsBc,EAAer/C,QACrC,IACVq/C,EAAiB,IAAIl/C,MAAM++C,EAAU,GAAGvwC,KAAK8vC,GAAcY,GAE/DJ,EAAcA,EAAc/Y,EAAW,uBAAyBsX,EAAW,EAAIgB,EAAa,IAAMa,EAItG,OADAJ,EAAc5B,EAAIV,OAASsC,EAAc5B,EAAIrN,SA+4B/BsP,WAr4BlB,SAAoBp+C,EAAOq+C,GAEvB,QAAqB,IAAVr+C,EAAX,CAYA,GARAA,EAAQ24C,EAAM34C,IAGVq+C,OADiB,IAAVA,EACC,GAEA1F,EAAM0F,IAGN,GAAKA,EAAQ,GACrB,KAAM,CACF7vC,KAAM,QACNkpC,OAAO,IAAKpxC,OAASoxC,MACrB13C,MAAOq+C,GAOf,OAFar+C,EAAM0E,SAAS25C,KA82BFre,OAp2B9B,SAAgBlgC,GACZ,IAAIoI,EAGJ,QAAmB,IAARpI,EAAX,CAIA,GAAmB,iBAARA,EAEPoI,EAASpI,OACN,GAAmB,iBAARA,GAAoB,0CAA0C+E,KAAK/E,KAASwJ,MAAMg1C,WAAWx+C,KAAS65C,SAAS75C,GAC7HoI,EAASo2C,WAAWx+C,QACjB,IAAY,IAARA,EAEPoI,EAAS,MACN,KAAY,IAARpI,EAIP,KAAM,CACF0O,KAAM,QACNxO,MAAOF,EACP43C,OAAO,IAAKpxC,OAASoxC,MACrB3xB,MAAO,GANX7d,EAAS,EASb,OAAOA,IAy0B2BokC,MAhzBtC,SAAexsC,GAIX,QAAmB,IAARA,EAKX,OADS+7B,KAAKyQ,MAAMxsC,IAwyBqBy+C,KA/xB7C,SAAcz+C,GAIV,QAAmB,IAARA,EAKX,OADS+7B,KAAK0iB,KAAKz+C,IAuxB4B64C,MAAAA,EAAOhM,IAj0B1D,SAAa7sC,GAIT,QAAmB,IAARA,EAKX,OADS+7B,KAAK8Q,IAAI7sC,IAyzByC0+C,KAjuB/D,SAAc1+C,GAIV,QAAmB,IAARA,EAAX,CAIA,GAAIA,EAAM,EACN,KAAM,CACF43C,OAAO,IAAKpxC,OAASoxC,MACrBlpC,KAAM,QACNuX,MAAO,EACP/lB,MAAOF,GAMf,OAFS+7B,KAAK2iB,KAAK1+C,KAgtB8C2+C,MArsBrE,SAAe3+C,EAAKqmB,GAChB,IAAIje,EAGJ,QAAmB,IAARpI,EAAX,CAMA,GAFAoI,EAAS2zB,KAAKiQ,IAAIhsC,EAAKqmB,IAElBwzB,SAASzxC,GACV,KAAM,CACFwvC,OAAO,IAAKpxC,OAASoxC,MACrBlpC,KAAM,QACNuX,MAAO,EACP/lB,MAAOF,EACPqmB,IAAKA,GAIb,OAAOje,IAirBiEw0B,OA1qB5E,WACI,OAAOb,KAAKa,UA0qBZoC,QAAAA,EAAS4f,IAlnBb,SAAa5+C,GAET,QAAmB,IAARA,EAIX,OAAQg/B,EAAQh/B,IA6mBhB8M,IA9kBJ,UAAchO,EAAKo6C,GAEf,QAAmB,IAARp6C,EAAX,CAMA,IAFA,IAAIsJ,EAAS6vC,IAEJh5C,EAAI,EAAGA,EAAIH,EAAIE,OAAQC,IAAK,CACjC,IAAIq6C,EAAYL,EAAYC,EAAMp6C,EAAIG,GAAIA,EAAGH,GAEzCk2C,QAAakE,EAAKv4C,MAAMH,KAAM84C,QACf,IAARtE,GACP5sC,EAAOxE,KAAKoxC,GAIpB,OAAO5sC,IA6jBFwQ,IAzeT,WAWI,IATA,IAAIxQ,EAAS,GACT3H,EAAOtB,MAAMyC,UAAUiD,MAAMtC,KAAK7B,WAElC1B,EAAS+8B,KAAKja,IAAInhB,MAAMo7B,KAAMt7B,EAAKqM,KAAI,SAAU9M,GACjD,OAAIb,MAAME,QAAQW,GACPA,EAAIhB,OAER,MAEFC,EAAI,EAAGA,EAAID,EAAQC,IAAK,CAC7B,IAAIohC,EAAQ5/B,EAAKqM,KAAK9M,GACXA,EAAIf,KAEfmJ,EAAOxE,KAAKy8B,GAEhB,OAAOj4B,GAwdG6E,OApjBd,UAAiBnO,EAAKo6C,GAElB,QAAmB,IAARp6C,EAAX,CAMA,IAFA,IAAIsJ,EAAS6vC,IAEJh5C,EAAI,EAAGA,EAAIH,EAAIE,OAAQC,IAAK,CACjC,IAAI4J,EAAQ/J,EAAIG,GACZq6C,EAAYL,EAAYC,EAAMrwC,EAAO5J,EAAGH,GAGxCkgC,QADaka,EAAKv4C,MAAMH,KAAM84C,KAE9BlxC,EAAOxE,KAAKiF,GAIpB,OAAOT,IAkiBWy2C,OAxhBtB,UAAiB//C,EAAKo6C,GAElB,QAAmB,IAARp6C,EAAX,CAOA,IAHA,IACIsJ,EADA02C,GAAgB,EAGX7/C,EAAI,EAAGA,EAAIH,EAAIE,OAAQC,IAAK,CACjC,IAAI4J,EAAQ/J,EAAIG,GACZ8/C,GAAiB,EACrB,QAAoB,IAAT7F,EAAsB,CAC7B,IAAII,EAAYL,EAAYC,EAAMrwC,EAAO5J,EAAGH,GAG5CigD,EAAiB/f,QADAka,EAAKv4C,MAAMH,KAAM84C,IAGtC,GAAIyF,EAAgB,CAChB,GAAID,EAIA,KAAM,CACFlH,OAAO,IAAKpxC,OAASoxC,MACrBlpC,KAAM,QACNuX,MAAOhnB,GANXmJ,EAASS,EACTi2C,GAAgB,GAW5B,IAAIA,EACA,KAAM,CACFlH,OAAO,IAAKpxC,OAASoxC,MACrBlpC,KAAM,SAId,OAAOtG,IAifmB42C,SA9c9B,UAAmBC,EAAU/F,EAAMzsC,GAE/B,QAAwB,IAAbwyC,EAAX,CAIA,IAAI72C,EAWA6d,EATAi5B,EAAQ5G,EAAiBY,GAC7B,GAAIgG,EAAQ,EACR,KAAM,CACFtH,OAAO,IAAKpxC,OAASoxC,MACrBlpC,KAAM,QACNuX,MAAO,GAaf,SARoB,IAATxZ,GAAwBwyC,EAASjgD,OAAS,GACjDoJ,EAAS62C,EAAS,GAClBh5B,EAAQ,IAER7d,EAASqE,EACTwZ,EAAQ,GAGLA,EAAQg5B,EAASjgD,QAAQ,CAC5B,IAAIyB,EAAO,CAAC2H,EAAQ62C,EAASh5B,IACzBi5B,GAAS,GACTz+C,EAAKmD,KAAKqiB,GAEVi5B,GAAS,GACTz+C,EAAKmD,KAAKq7C,GAEd72C,QAAgB8wC,EAAKv4C,MAAMH,KAAMC,GACjCwlB,IAGJ,OAAO7d,IAwa6B+2C,KA3BxC,UAAen/C,EAAKk5C,GAChB,IAAI9wC,EAAS,GAEb,IAAK,IAAI+S,KAAQnb,EAAK,CAClB,IAAI6I,EAAQ7I,EAAImb,GACZm+B,EAAYL,EAAYC,EAAMrwC,EAAOsS,EAAMnb,GAG3Cg/B,QADaka,EAAKv4C,MAAMH,KAAM84C,MAE9BlxC,EAAO+S,GAAQtS,GASvB,OAJmC,IAA/BrH,OAAOwI,KAAK5B,GAAQpJ,SACpBoJ,OAASvH,GAGNuH,GAUP4B,KAjaJ,SAASA,EAAKhK,GACV,IAAIoI,EAAS6vC,IAEb,GAAI94C,MAAME,QAAQW,GAAM,CAEpB,IAAIo/C,EAAQ,GACZp/C,EAAIgI,SAAQ,SAAUmT,GACJnR,EAAKmR,GACXnT,SAAQ,SAAUjI,GACtBq/C,EAAMr/C,IAAO,QAGrBqI,EAAS4B,EAAKo1C,QACC,OAARp/C,GAA+B,iBAARA,GAAsBo4C,EAASp4C,IAC7DwB,OAAOwI,KAAKhK,GAAKgI,SAAQjI,GAAOqI,EAAOxE,KAAK7D,KAEhD,OAAOqI,GAiZDolC,OAxYV,SAASA,EAAOre,EAAOpvB,GAEnB,IAAIqI,EACJ,GAAIjJ,MAAME,QAAQ8vB,GAAQ,CACtB/mB,EAAS6vC,IACT,IAAI,IAAItJ,EAAK,EAAGA,EAAKxf,EAAMnwB,OAAQ2vC,IAAM,CACrC,IAAIqG,EAAOxH,EAAOre,EAAMwf,GAAK5uC,QACV,IAARi1C,IACH71C,MAAME,QAAQ21C,GACdA,EAAIhtC,SAAQ6K,GAAOzK,EAAOxE,KAAKiP,KAE/BzK,EAAOxE,KAAKoxC,UAIP,OAAV7lB,GAAmC,iBAAVA,IAChC/mB,EAAS+mB,EAAMpvB,IAEnB,OAAOqI,GAsXOmxC,OAAAA,EAAQt7B,OAtV1B,SAAgBje,GACZ,YAAmB,IAARA,GAqVmBq/C,OAzUlC,SAASA,EAAOr/C,GACZ,IAAIoI,EAAS6vC,IAEb,GAAI94C,MAAME,QAAQW,GAEdA,EAAIgI,SAAQ,SAAUmT,GAClB/S,EAASmxC,EAAOnxC,EAAQi3C,EAAOlkC,YAEhC,GAAY,OAARnb,GAA+B,iBAARA,GAAqBo4C,EAASp4C,GAO5DoI,EAASpI,OANT,IAAK,IAAID,KAAOC,EAAK,CACjB,IAAI6B,EAAM,GACVA,EAAI9B,GAAOC,EAAID,GACfqI,EAAOxE,KAAK/B,GAKpB,OAAOuG,GAwT+Bg3C,MA/S1C,SAAep/C,GAEX,QAAmB,IAARA,EAAX,CAIA,IAAIoI,EAAS,GAOb,OALApI,EAAIgI,SAAQ,SAAUnG,GAClB,IAAK,IAAIy9C,KAAQz9C,EACbuG,EAAOk3C,GAAQz9C,EAAIy9C,MAGpBl3C,IAkSsC6B,QA1RjD,SAAiBnL,GAEb,QAAmB,IAARA,EAAX,CAIA,GAAIA,EAAIE,QAAU,EACd,OAAOF,EAKX,IAFA,IAAIE,EAASF,EAAIE,OACboJ,EAAS,IAAIjJ,MAAMH,GACdC,EAAI,EAAGA,EAAID,EAAQC,IACxBmJ,EAAOpJ,EAASC,EAAI,GAAKH,EAAIG,GAGjC,OAAOmJ,IA0Q+Cm3C,KAjQ1D,UAAe19C,EAAKq3C,GAChB,IAAI9wC,EAAS6vC,IAEb,IAAK,IAAIl4C,KAAO8B,EAAK,CACjB,IAAIy3C,EAAYL,EAAYC,EAAMr3C,EAAI9B,GAAMA,EAAK8B,GAE7CgR,QAAaqmC,EAAKv4C,MAAMH,KAAM84C,QAChB,IAARzmC,GACNzK,EAAOxE,KAAKiP,GAIpB,OAAOzK,GAqPqDjI,MA7OhE,SAAe8O,GACX,KAAM,CACFP,KAAM,QACNkpC,OAAO,IAAKpxC,OAASoxC,MACrB3oC,QAASA,GAAW,gCAyO2CuwC,OA9NvE,SAAgBC,EAAWxwC,GACvB,IAAIwwC,EACA,KAAM,CACF/wC,KAAM,QACNkpC,OAAO,IAAKpxC,OAASoxC,MACrB3oC,QAASA,GAAW,+BAyN+C5H,KA7M/E,SAAcnH,GACV,QAAcW,IAAVX,EAIJ,OAAc,OAAVA,EACO,OAGP43C,EAAU53C,GACH,SAGU,iBAAVA,EACA,SAGU,kBAAVA,EACA,UAGRf,MAAME,QAAQa,GACN,QAGRi4C,EAAWj4C,GACH,WAGJ,UAgL0Ew/C,KAtKrF,UAAe5gD,EAAK6gD,GAEhB,QAAmB,IAAR7gD,EAAX,CAIA,GAAIA,EAAIE,QAAU,EACd,OAAOF,EAGX,IAAI8gD,EACJ,QAA0B,IAAfD,EAA4B,CAEnC,IAAK3H,EAAiBl5C,KAASi5C,EAAiBj5C,GAC5C,KAAM,CACF84C,OAAO,IAAKpxC,OAASoxC,MACrBlpC,KAAM,QACNuX,MAAO,GAIf25B,EAAO,UAAW1sB,EAAG0N,GACjB,OAAO1N,EAAI0N,QAIfgf,EAAOD,EAGX,IAqBIE,EAAQ,UAAW/gB,GACnB,IAAK3/B,MAAME,QAAQy/B,IAAUA,EAAM9/B,QAAU,EACzC,OAAO8/B,EAEP,IAAIghB,EAAS/jB,KAAKyQ,MAAM1N,EAAM9/B,OAAS,GACnC+gD,EAAOjhB,EAAMj6B,MAAM,EAAGi7C,GACtBE,EAAQlhB,EAAMj6B,MAAMi7C,GAGxB,OAFAC,QAAcF,EAAME,GACpBC,QAAeH,EAAMG,SA7BjB,UAAWpkB,EAAGuH,GACtB,IAAI8c,EAAa,UAAW73C,EAAQ23C,EAAMC,GAClB,IAAhBD,EAAK/gD,OACLG,MAAMyC,UAAUgC,KAAKjD,MAAMyH,EAAQ43C,GACX,IAAjBA,EAAMhhD,OACbG,MAAMyC,UAAUgC,KAAKjD,MAAMyH,EAAQ23C,UACrBH,EAAKG,EAAK,GAAIC,EAAM,MAElC53C,EAAOxE,KAAKo8C,EAAM,UACXC,EAAW73C,EAAQ23C,EAAMC,EAAMn7C,MAAM,MAG5CuD,EAAOxE,KAAKm8C,EAAK,UACVE,EAAW73C,EAAQ23C,EAAKl7C,MAAM,GAAIm7C,KAG7CE,EAAS,GAEb,aADOD,EAAWC,EAAQtkB,EAAGuH,GACtB+c,EAYWd,CAAMW,EAAMC,IAMlC,aAFoBH,EAAM/gD,KAuG6DqhD,QA7F3F,SAAiBrhD,GAEb,QAAmB,IAARA,EAAX,CAIA,GAAIA,EAAIE,QAAU,EACd,OAAOF,EAKX,IADA,IAAIsJ,EAAS,IAAIjJ,MAAML,EAAIE,QAClBC,EAAI,EAAGA,EAAIH,EAAIE,OAAQC,IAAK,CACjC,IAAImhD,EAAIrkB,KAAKyQ,MAAMzQ,KAAKa,UAAY39B,EAAI,IACpCA,IAAMmhD,IACNh4C,EAAOnJ,GAAKmJ,EAAOg4C,IAEvBh4C,EAAOg4C,GAAKthD,EAAIG,GAGpB,OAAOmJ,IAyEyFi4C,SAjEpG,SAAkBvhD,GAEd,QAAmB,IAARA,EAAX,CAIA,IAAIK,MAAME,QAAQP,IAAQA,EAAIE,QAAU,EACpC,OAAOF,EAKX,IAFA,IAAIwhD,EAAUpI,EAAWp5C,GAAOm5C,IAAmB,GAE3CtJ,EAAK,EAAGA,EAAK7vC,EAAIE,OAAQ2vC,IAAM,CAInC,IAHA,IAAIzuC,EAAQpB,EAAI6vC,GAEZz/B,GAAW,EACPqxC,EAAK,EAAGA,EAAKD,EAAQthD,OAAQuhD,IACjC,GAAIhI,EAAWr4C,EAAOogD,EAAQC,IAAM,CAChCrxC,GAAW,EACX,MAGJA,GACAoxC,EAAQ18C,KAAK1D,GAGrB,OAAOogD,IAwCPE,aA3+CJ,SAAsB7tC,GAElB,QAAmB,IAARA,EAAX,CAKA,IAAI8tC,EAAyB,oBAAX3kB,OACaA,OAAO2kB,KAClC,SAAU9tC,GAIN,OAAO,IAAIqpB,EAAO/C,OAAO71B,KAAKuP,EAAK,UAAU/N,SAAS,WAE9D,OAAO67C,EAAK9tC,KA49CE+tC,aAp9ClB,SAAsB/tC,GAElB,QAAmB,IAARA,EAAX,CAIA,IAAIguC,EAAyB,oBAAX7kB,OACaA,OAAO6kB,KAClC,SAAUhuC,GAIN,OAAO,IAAIqpB,EAAO/C,OAAO71B,KAAKuP,EAAK,UAAU/N,SAAS,WAE9D,OAAO+7C,EAAKhuC,KAs8CiBiuC,mBA97CjC,SAA4BjuC,GAExB,QAAmB,IAARA,EAAX,CAKA,IAAIkuC,EACJ,IACIA,EAAYC,mBAAmBnuC,GACjC,MAAOlF,GACL,KAAM,CACFiB,KAAM,QACNkpC,OAAO,IAAKpxC,OAASoxC,MACrB13C,MAAOyS,EACPouC,aAAc,sBAGtB,OAAOF,IA46C0CG,UAp6CrD,SAAmBruC,GAEf,QAAmB,IAARA,EAAX,CAKA,IAAIkuC,EACJ,IACIA,EAAYI,UAAUtuC,GACxB,MAAOlF,GACL,KAAM,CACFiB,KAAM,QACNkpC,OAAO,IAAKpxC,OAASoxC,MACrB13C,MAAOyS,EACPouC,aAAc,aAGtB,OAAOF,IAk5CqDK,mBA14ChE,SAA4BvuC,GAExB,QAAmB,IAARA,EAAX,CAKA,IAAIkuC,EACJ,IACIA,EAAYM,mBAAmBxuC,GACjC,MAAOlF,GACL,KAAM,CACFiB,KAAM,QACNkpC,OAAO,IAAKpxC,OAASoxC,MACrB13C,MAAOyS,EACPouC,aAAc,sBAGtB,OAAOF,IAw3CyEO,UAh3CpF,SAAmBzuC,GAEf,QAAmB,IAARA,EAAX,CAKA,IAAIkuC,EACJ,IACIA,EAAYQ,UAAU1uC,GACxB,MAAOlF,GACL,KAAM,CACFiB,KAAM,QACNkpC,OAAO,IAAKpxC,OAASoxC,MACrB13C,MAAOyS,EACPouC,aAAc,aAGtB,OAAOF,MAzqBG,GA2gElBjiD,EAAOC,QAAUg5C,IAEdt1C,KAAK/B,QAAQ+B,KAAK/B,UAAuB,IAAX,EAAAs6B,EAAyB,EAAAA,EAAyB,oBAATv7B,KAAuBA,KAAyB,oBAAXu8B,OAAyBA,OAAS,KAC/I,CAAC,UAAU,IAAI,EAAE,CAAC,SAASzpB,EAAQzT,EAAOC,GAY5C,IAAIyiD,EAAWjvC,EAAQ,cACnB9R,EAAK8R,EAAQ,eACbg4B,EAAQh4B,EAAQ,WAChBovB,EAASpvB,EAAQ,YACjBkvC,EAAiBlvC,EAAQ,eAQzBmvC,EAAU,WACV,aAEA,IAAI1J,EAAYzN,EAAMyN,UAClBC,EAAmB1N,EAAM0N,iBACzBC,EAAmB3N,EAAM2N,iBACzBC,EAAiB5N,EAAM4N,eACvBC,EAAa7N,EAAM6N,WACnBC,EAAa9N,EAAM8N,WACnBC,EAAW/N,EAAM+N,SACjBC,EAAahO,EAAMgO,WACnBC,EAAmBjO,EAAMiO,iBACzBE,EAAcnO,EAAMmO,YAIpBiJ,EAAcC,EAAY,MAS9B,SAAUrpB,EAASspB,EAAMxyB,EAAO+nB,GAC5B,IAAI9uC,EAEAw5C,EAAgB1K,EAAY1J,OAAO,oBAKvC,OAJGoU,GACCA,EAAcD,EAAMxyB,EAAO+nB,GAGvByK,EAAKt6C,MACT,IAAK,OACDe,QAyGZ,UAAuBu5C,EAAMxyB,EAAO+nB,GAChC,IAAI2K,EAWAC,EANAD,EADA1iD,MAAME,QAAQ8vB,IAAiC,aAAvBwyB,EAAKI,MAAM,GAAG16C,KACtB8nB,EAGA8oB,EAAe9oB,GAQnC,IAJA,IAAI6yB,GAAgB,EAChBC,OAAgBphD,EAGZ8tC,EAAK,EAAGA,EAAKgT,EAAKI,MAAM/iD,OAAQ2vC,IAAM,CAC1C,IAAIuT,EAAOP,EAAKI,MAAMpT,GAiBtB,GAfGuT,EAAK7hB,QACJ2hB,GAAgB,GAIV,IAAPrT,GAAYuT,EAAKC,UAChBL,QAAyBzpB,EAAS6pB,EAAML,EAAe3K,GAEpD8K,EACCC,QAAwBG,EAAkBF,EAAML,EAAeI,EAAe/K,GAE9E4K,QAAyBO,EAAaH,EAAML,EAAe3K,EAAavI,IAAOgT,EAAKI,MAAM/iD,OAAS,IAItGgjD,SAA4C,IAAnBF,GAA4D,IAA1BA,EAAe9iD,QAC3E,WAGqB,IAAfkjD,EAAKI,QACXT,EAAgBC,GAKxB,GAAGE,EACC,GAAGL,EAAKthB,MAEJyhB,EAAiBG,OAGjB,IADAH,EAAiB7J,IACZtJ,EAAK,EAAGA,EAAKsT,EAAcjjD,OAAQ2vC,IACpCmT,EAAel+C,KAAKq+C,EAActT,GAAI,MAiBlD,OAZGgT,EAAKY,qBAEDpjD,MAAME,QAAQyiD,IAAmBA,EAAeU,OAASV,EAAe7C,WACvE6C,EAAiB7J,EAAe6J,IAEpCA,EAAeW,eAAgB,GAG/Bd,EAAKr9C,eAAe,WACpBw9C,QAAwBY,EAAwBf,EAAKhS,MAAOqS,EAAgBC,EAAgBH,EAAgB5K,IAGzG4K,EA9KkBa,CAAahB,EAAMxyB,EAAO+nB,GAC3C,MACJ,IAAK,SACD9uC,QA4YZ,UAA0Bu5C,EAAMxyB,EAAO+nB,GACnC,IAAI9uC,EACAw6C,QAAcvqB,EAASspB,EAAKiB,IAAKzzB,EAAO+nB,GACxC2L,EAAKlB,EAAKzhD,MAGV4iD,EAAU,YAAY,aAAezqB,EAASspB,EAAKoB,IAAK5zB,EAAO+nB,IACnE,GAAW,QAAP2L,GAAuB,OAAPA,EAChB,IACI,aAoYZ,UAAqCD,EAAKE,EAASD,GAC/C,IAAIz6C,EAEA46C,EAAQC,EAAQL,GAEpB,OAAQC,GACJ,IAAK,MACDz6C,EAAS46C,GAASC,QAAgBH,KAClC,MACJ,IAAK,KACD16C,EAAS46C,GAASC,QAAgBH,KAG1C,OAAO16C,EAjZgB86C,CAA0BN,EAAKE,EAASD,GACzD,MAAMjiD,GAGJ,MAFAA,EAAIohB,SAAW2/B,EAAK3/B,SACpBphB,EAAIquC,MAAQ4T,EACNjiD,EAId,IAAImiD,QAAcD,IAClB,IACI,OAAQD,GACJ,IAAK,IACL,IAAK,IACL,IAAK,IACL,IAAK,IACL,IAAK,IACDz6C,EA6MhB,SAAmCw6C,EAAKG,EAAKF,GACzC,IAAIz6C,EAEJ,QAAmB,IAARw6C,IAAwB9K,EAAU8K,GACzC,KAAM,CACFl0C,KAAM,QACNkpC,OAAO,IAAKpxC,OAASoxC,MACrB13C,MAAO0iD,GAGf,QAAmB,IAARG,IAAwBjL,EAAUiL,GACzC,KAAM,CACFr0C,KAAM,QACNkpC,OAAO,IAAKpxC,OAASoxC,MACrB13C,MAAO6iD,GAIf,QAAmB,IAARH,QAAsC,IAARG,EAErC,OAAO36C,EAGX,OAAQy6C,GACJ,IAAK,IACDz6C,EAASw6C,EAAMG,EACf,MACJ,IAAK,IACD36C,EAASw6C,EAAMG,EACf,MACJ,IAAK,IACD36C,EAASw6C,EAAMG,EACf,MACJ,IAAK,IACD36C,EAASw6C,EAAMG,EACf,MACJ,IAAK,IACD36C,EAASw6C,EAAMG,EAGvB,OAAO36C,EArPc+6C,CAA0BP,EAAKG,EAAKF,GAC7C,MACJ,IAAK,IACL,IAAK,KACDz6C,EA2PhB,SAAoCw6C,EAAKG,EAAKF,GAC1C,IAAIz6C,EAMJ,QAAc,IAHKw6C,QAGoB,IAFpBG,EAIf,OAAO,EAGX,OAAQF,GACJ,IAAK,IACDz6C,EAASowC,EAAYoK,EAAKG,GAC1B,MACJ,IAAK,KACD36C,GAAUowC,EAAYoK,EAAKG,GAGnC,OAAO36C,EA/Qcg7C,CAA2BR,EAAKG,EAAKF,GAC9C,MACJ,IAAK,IACL,IAAK,KACL,IAAK,IACL,IAAK,KACDz6C,EAmRhB,SAAsCw6C,EAAKG,EAAKF,GAC5C,IAAIz6C,EAGAi7C,SAAeT,EACfU,SAAeP,EAMnB,GAJ6B,cAAVM,GAAmC,WAAVA,GAAgC,WAAVA,GACrC,cAAVC,GAAmC,WAAVA,GAAgC,WAAVA,EAI9D,KAAM,CACF50C,KAAM,QACNkpC,OAAO,IAAKpxC,OAASoxC,MACrB13C,MAAmB,WAAVmjD,GAAgC,WAAVA,EAAsBT,EAAMG,GAKnE,GAAc,cAAVM,GAAmC,cAAVC,EAA7B,CAKA,GAAID,IAAUC,EACV,KAAM,CACF50C,KAAM,QACNkpC,OAAO,IAAKpxC,OAASoxC,MACrB13C,MAAO0iD,EACPW,OAAQR,GAIhB,OAAQF,GACJ,IAAK,IACDz6C,EAASw6C,EAAMG,EACf,MACJ,IAAK,KACD36C,EAASw6C,GAAOG,EAChB,MACJ,IAAK,IACD36C,EAASw6C,EAAMG,EACf,MACJ,IAAK,KACD36C,EAASw6C,GAAOG,EAGxB,OAAO36C,GAnUco7C,CAA6BZ,EAAKG,EAAKF,GAChD,MACJ,IAAK,IACDz6C,EAkYhB,SAA8Bw6C,EAAKG,GAC/B,IAEIU,EAAO,GACPC,EAAO,GASX,YARmB,IAARd,IACPa,EAAOljD,EAAG6/B,OAAOwiB,SAEF,IAARG,IACPW,EAAOnjD,EAAG6/B,OAAO2iB,IAGZU,EAAKlhC,OAAOmhC,GA9YAC,CAAqBf,EAAKG,GACnC,MACJ,IAAK,KACD36C,EAmfhB,SAAiCw6C,EAAKG,GAClC,IAAI36C,EAEJ,QAAmB,IAARw6C,IAAwB5X,OAAO4Y,UAAUhB,GAChD,KAAM,CACFl0C,KAAM,QACNkpC,OAAO,IAAKpxC,OAASoxC,MACrB13C,MAAO0iD,GAGf,QAAmB,IAARG,IAAwB/X,OAAO4Y,UAAUb,GAChD,KAAM,CACFr0C,KAAM,QACNkpC,OAAO,IAAKpxC,OAASoxC,MACrB13C,MAAO6iD,GAIf,QAAmB,IAARH,QAAsC,IAARG,EAErC,OAAO36C,EAGX,GAAIw6C,EAAMG,EAEN,OAAO36C,EAMX,IAAIoZ,EAAOuhC,EAAMH,EAAM,EACvB,GAAGphC,EAAO,IACN,KAAM,CACF9S,KAAM,QACNkpC,OAAO,IAAKpxC,OAASoxC,MACrB13C,MAAOshB,GAIfpZ,EAAS,IAAIjJ,MAAMqiB,GACnB,IAAK,IAAIrG,EAAOynC,EAAK38B,EAAQ,EAAG9K,GAAQ4nC,EAAK5nC,IAAQ8K,IACjD7d,EAAO6d,GAAS9K,EAGpB,OADA/S,EAAO62C,UAAW,EACX72C,EAhiBcy7C,CAAwBjB,EAAKG,GACtC,MACJ,IAAK,KACD36C,EAoUhB,SAAoCw6C,EAAKG,GACrC,IAAI36C,GAAS,EAEb,QAAmB,IAARw6C,QAAsC,IAARG,EAErC,OAAO,EAGP5jD,MAAME,QAAQ0jD,KACdA,EAAM,CAACA,IAGX,IAAI,IAAI9jD,EAAI,EAAGA,EAAI8jD,EAAI/jD,OAAQC,IAC3B,GAAG8jD,EAAI9jD,KAAO2jD,EAAK,CACfx6C,GAAS,EACT,MAIR,OAAOA,EAvVc07C,CAA2BlB,EAAKG,IAGnD,MAAMniD,GAGJ,MAFAA,EAAIohB,SAAW2/B,EAAK3/B,SACpBphB,EAAIquC,MAAQ4T,EACNjiD,EAEV,OAAOwH,EAhckB27C,CAAepC,EAAMxyB,EAAO+nB,GAC7C,MACJ,IAAK,QACD9uC,QAucZ,UAAwBu5C,EAAMxyB,EAAO+nB,GACjC,IAAI9uC,EAEJ,OAAQu5C,EAAKzhD,OACT,IAAK,IAED,QAAqB,KADrBkI,QAAiBiwB,EAASspB,EAAK9qB,WAAY1H,EAAO+nB,IAE9C9uC,OAASvH,MACN,KAAIi3C,EAAU1vC,GAGjB,KAAM,CACFsG,KAAM,QACNkpC,OAAO,IAAKpxC,OAASoxC,MACrB51B,SAAU2/B,EAAK3/B,SACfitB,MAAO0S,EAAKzhD,MACZA,MAAOkI,GAPXA,GAAUA,EAUd,MACJ,IAAK,IAEDA,EAAS,GACT,IAAI,IAAIumC,EAAK,EAAGA,EAAKgT,EAAKqC,YAAYhlD,OAAQ2vC,IAAM,CAChD,IAAIxzB,EAAOwmC,EAAKqC,YAAYrV,GACxBzuC,QAAgBm4B,EAASld,EAAMgU,EAAO+nB,QACrB,IAAVh3C,IACW,MAAfib,EAAKjb,MACJkI,EAAOxE,KAAK1D,GAEZkI,EAAS7H,EAAGg5C,OAAOnxC,EAAQlI,IAIpCyhD,EAAKQ,WACJ3gD,OAAOC,eAAe2G,EAAQ,OAAQ,CAClC/G,YAAY,EACZC,cAAc,EACdpB,OAAO,IAGf,MACJ,IAAK,IAEDkI,QAAiBs6C,EAAwBf,EAAMxyB,EAAO+nB,GAI9D,OAAO9uC,EAvfkB67C,CAActC,EAAMxyB,EAAO+nB,GAC5C,MACJ,IAAK,OACD9uC,EA8fZ,SAAsBu5C,EAAMxyB,EAAO+nB,GAE/B,OAAO32C,EAAGitC,OAAOre,EAAOwyB,EAAKzhD,OAhgBZgkD,CAAavC,EAAMxyB,GAC5B,MACJ,IAAK,SACL,IAAK,SACL,IAAK,QACD/mB,EAmgBZ,SAAyBu5C,GACrB,OAAOA,EAAKzhD,MApgBKikD,CAAgBxC,GACzB,MACJ,IAAK,WACDv5C,EA0gBZ,SAA0Bu5C,EAAMxyB,GAC5B,IAAImxB,EAAUrI,IAiBd,OAhBI94C,MAAME,QAAQ8vB,IAAUA,EAAM4qB,cAAgB5qB,EAAMnwB,OAAS,IAC7DmwB,EAAQA,EAAM,IAEJ,OAAVA,GAAmC,iBAAVA,GACzB3tB,OAAOwI,KAAKmlB,GAAOnnB,SAAQ,SAAUjI,GACjC,IAAIG,EAAQivB,EAAMpvB,GACfZ,MAAME,QAAQa,IACbA,EAAQkkD,EAAQlkD,GAChBogD,EAAU//C,EAAGg5C,OAAO+G,EAASpgD,IAE7BogD,EAAQ18C,KAAK1D,MAMlBogD,EA5hBU+D,CAAiB1C,EAAMxyB,GAChC,MACJ,IAAK,aACD/mB,EAsjBZ,SAA6Bu5C,EAAMxyB,GAC/B,IAAI/mB,EACA05C,EAAiB7J,IAUrB,YATqB,IAAV9oB,IAEPm1B,EAAmBn1B,EAAO2yB,GAEtB15C,EAD0B,IAA1B05C,EAAe9iD,OACN8iD,EAAe,GAEfA,GAGV15C,EAlkBUm8C,CAAoB5C,EAAMxyB,GACnC,MACJ,IAAK,SACD/mB,EAAS8uC,EAAY1J,OAAOmU,EAAK6C,KAAK92C,OACtC,MACJ,IAAK,YACDtF,QAu9BZ,UAA4Bu5C,EAAMxyB,EAAO+nB,GACrC,IAAI9uC,EACAq3C,QAAoBpnB,EAASspB,EAAKlC,UAAWtwB,EAAO+nB,GAMxD,OALI32C,EAAGy+B,QAAQygB,GACXr3C,QAAiBiwB,EAASspB,EAAKrhD,KAAM6uB,EAAO+nB,QAChB,IAAdyK,EAAK8C,OACnBr8C,QAAiBiwB,EAASspB,EAAK8C,KAAMt1B,EAAO+nB,IAEzC9uC,EA/9BkBs8C,CAAkB/C,EAAMxyB,EAAO+nB,GAChD,MACJ,IAAK,QACD9uC,QAs+BZ,UAAwBu5C,EAAMxyB,EAAO+nB,GAOjC,IANA,IAAI9uC,EAGAu8C,EAAQjD,EAAYxK,GAGhBvI,EAAK,EAAGA,EAAKgT,EAAKqC,YAAYhlD,OAAQ2vC,IAC1CvmC,QAAiBiwB,EAASspB,EAAKqC,YAAYrV,GAAKxf,EAAOw1B,GAG3D,OAAOv8C,EAj/BkBw8C,CAAcjD,EAAMxyB,EAAO+nB,GAC5C,MACJ,IAAK,OACD9uC,QAk8BZ,UAAiCu5C,EAAMxyB,EAAO+nB,GAG1C,IAAIh3C,QAAgBm4B,EAASspB,EAAKoB,IAAK5zB,EAAO+nB,GAE9C,OADAA,EAAYniC,KAAK4sC,EAAKiB,IAAI1iD,MAAOA,GAC1BA,EAv8BkB2kD,CAAuBlD,EAAMxyB,EAAO+nB,GACrD,MACJ,IAAK,QACD9uC,EAm/BZ,SAAuBu5C,GACnB,IAAImD,EAAK,IAAItD,EAAQuD,YAAYpD,EAAKzhD,OAClC8kD,EAAU,SAASryC,EAAKsyC,GACxB,IAAI78C,EACJ08C,EAAGI,UAAYD,GAAa,EAC5B,IAAIttB,EAAQmtB,EAAG7yC,KAAKU,GACpB,GAAa,OAAVglB,EAAgB,CAOf,GANAvvB,EAAS,CACLuvB,MAAOA,EAAM,GACb6Y,MAAO7Y,EAAM1R,MACbwqB,IAAK9Y,EAAM1R,MAAQ0R,EAAM,GAAG34B,OAC5B45C,OAAQ,IAETjhB,EAAM34B,OAAS,EACd,IAAI,IAAIC,EAAI,EAAGA,EAAI04B,EAAM34B,OAAQC,IAC7BmJ,EAAOwwC,OAAOh1C,KAAK+zB,EAAM14B,IAGjCmJ,EAAOzE,KAAO,WACV,KAAGmhD,EAAGI,WAAavyC,EAAI3T,QAAvB,CAGI,IAAI2E,EAAOqhD,EAAQryC,EAAKmyC,EAAGI,WAC3B,GAAGvhD,GAAuB,KAAfA,EAAKg0B,MAEZ,KAAM,CACFjpB,KAAM,QACNkpC,OAAO,IAAKpxC,OAASoxC,MACrB51B,SAAU2/B,EAAK3/B,SACf9hB,MAAOyhD,EAAKzhD,MAAMyrB,QAG1B,OAAOhoB,IAKnB,OAAOyE,GAEX,OAAO48C,EA1hCUG,CAAcxD,GACvB,MACJ,IAAK,WACDv5C,QAAiBg9C,EAAiBzD,EAAMxyB,EAAO+nB,GAC/C,MACJ,IAAK,WACD9uC,EA8hCZ,SAA0Bu5C,EAAMxyB,EAAO+nB,GASnC,MALmB,KAAfyK,EAAKzhD,MACIivB,GAASA,EAAM4qB,aAAe5qB,EAAM,GAAKA,EAEzC+nB,EAAY1J,OAAOmU,EAAKzhD,OAriCpBmlD,CAAiB1D,EAAMxyB,EAAO+nB,GACvC,MACJ,IAAK,SACD9uC,EA66CZ,SAAwBu5C,EAAMxyB,EAAO+nB,GAEjC,IAAIoO,EAAY,CACZC,iBAAiB,EACjBp2B,MAAOA,EACP+nB,YAAaA,EACbx2C,UAAWihD,EAAKjhD,UAChB8kD,UAAW7D,EAAK6D,UAChBv3B,KAAM0zB,EAAK1zB,MAQf,OANkB,IAAf0zB,EAAK8D,QACJH,EAAUG,OAAQ,GAEtBH,EAAU3kD,MAAQ,UAAUpB,EAAMkB,GAC9B,aAAeE,EAAM2kD,EAAW7kD,EAAM0uB,EAAO5vB,EAAK23C,cAE/CoO,EA77CUI,CAAe/D,EAAMxyB,EAAO+nB,GACrC,MACJ,IAAK,UACD9uC,QAo8CZ,UAAqCu5C,EAAMxyB,EAAO+nB,GAK9C,IAHA,IAAI9uC,EAEAu9C,EAAgB,GACZhX,EAAK,EAAGA,EAAKgT,EAAKjhD,UAAU1B,OAAQ2vC,IAAM,CAC9C,IAAI3uC,EAAM2hD,EAAKjhD,UAAUiuC,GACR,aAAb3uC,EAAIqH,MAAqC,MAAdrH,EAAIE,MAC/BylD,EAAc/hD,KAAK5D,GAEnB2lD,EAAc/hD,WAAay0B,EAASr4B,EAAKmvB,EAAO+nB,IAIxD,IAAI0O,QAAevtB,EAASspB,EAAK2D,UAAWn2B,EAAO+nB,GACnD,QAAoB,IAAT0O,GAAgD,SAAxBjE,EAAK2D,UAAUj+C,MAAmB6vC,EAAY1J,OAAOmU,EAAK2D,UAAUvD,MAAM,GAAG7hD,OAE5G,KAAM,CACFwO,KAAM,QACNkpC,OAAO,IAAKpxC,OAASoxC,MACrB51B,SAAU2/B,EAAK3/B,SACfitB,MAAO0S,EAAK2D,UAAUvD,MAAM,GAAG7hD,OAGvC,GAAIk4C,EAASwN,GACTx9C,EAASy9C,EAAsBD,EAAMD,QAClC,GAAIC,IAAmC,IAA3BA,EAAKE,kBACpB19C,EAAS29C,EAA2BH,EAAKI,eAAgBL,OACtD,IAAoB,mBAATC,EAGd,KAAM,CACFl3C,KAAM,QACNkpC,OAAO,IAAKpxC,OAASoxC,MACrB51B,SAAU2/B,EAAK3/B,SACfitB,MAA+B,SAAxB0S,EAAK2D,UAAUj+C,KAAkBs6C,EAAK2D,UAAUvD,MAAM,GAAG7hD,MAAQyhD,EAAK2D,UAAUplD,OAN3FkI,EAAS29C,EAA2BH,EAAMD,GAS9C,OAAOv9C,EA1+CkB69C,CAA2BtE,EAAMxyB,EAAO+nB,GACzD,MACJ,IAAK,QACD9uC,QAmuCZ,UAAkCu5C,EAAMxyB,EAAO+nB,GAC3C,IAAI9uC,EAGAw6C,QAAcvqB,EAASspB,EAAKiB,IAAKzzB,EAAO+nB,GAC5C,GAAqB,aAAlByK,EAAKoB,IAAI17C,KAERe,QAAiBg9C,EAAiBzD,EAAKoB,IAAK5zB,EAAO+nB,EAAa,CAAEjxC,QAAS28C,QACxE,CACH,IAAI1J,QAAe7gB,EAASspB,EAAKoB,IAAK5zB,EAAO+nB,GAE7C,IAAIiB,EAAWe,GACX,KAAM,CACFxqC,KAAM,QACNkpC,OAAO,IAAKpxC,OAASoxC,MACrB51B,SAAU2/B,EAAK3/B,SACf9hB,MAAOg5C,GAIf,GAAGf,EAAWyK,GAAM,CAGhB,IAAIsD,QAAgB7tB,EAAS8tB,EAAU,KAAMjP,GAC7C9uC,QAAiBzH,EAAMulD,EAAO,CAACtD,EAAK1J,GAAO,KAAMhC,QAEjD9uC,QAAiBzH,EAAMu4C,EAAM,CAAC0J,GAAM,KAAM1L,GAKlD,OAAO9uC,EAlwCkBg+C,CAAwBzE,EAAMxyB,EAAO+nB,GACtD,MACJ,IAAK,YACD9uC,EAwoCZ,SAAqCu5C,EAAMxyB,EAAO+nB,GA4E9C,OAAOmP,GA1EW,UAAUxkD,GAExB,QAAkB,IAARA,EAAV,CAKA,IAAIykD,EAAgBpP,EAAY1J,OAAO,SACvC,IAAI2K,EAAWmO,GAEX,KAAM,CACF53C,KAAM,QACNkpC,OAAO,IAAKpxC,OAASoxC,MACrB51B,SAAU2/B,EAAK3/B,UAGvB,IAAI5Z,QAAiBzH,EAAM2lD,EAAe,CAACzkD,GAAM,KAAMq1C,GACnDoD,QAAkBjiB,EAASspB,EAAK3d,QAAS57B,EAAQ8uC,GACrD,QAAsB,IAAZoD,EAAyB,CAC3Bn7C,MAAME,QAAQi7C,KACdA,EAAU,CAACA,IAEf,IAAI,IAAI3L,EAAK,EAAGA,EAAK2L,EAAQt7C,OAAQ2vC,IAAM,CACvC,IAAIhX,EAAQ2iB,EAAQ3L,GAEhB4X,QAAiBluB,EAASspB,EAAK4E,OAAQ5uB,EAAOuf,GAE9CsP,SAAoBD,EACxB,GAAkB,cAAfC,EAA4B,CAC3B,GAAkB,WAAfA,GAAsC,OAAXD,GAAmBpnD,MAAME,QAAQknD,GAE3D,KAAM,CACF73C,KAAM,QACNkpC,OAAO,IAAKpxC,OAASoxC,MACrB51B,SAAU2/B,EAAK4E,OAAOvkC,SACtB9hB,MAAOqmD,GAIf,IAAI,IAAIjH,KAAQiH,EACZ5uB,EAAM2nB,GAAQiH,EAAOjH,GAK7B,QAA0B,IAAhBqC,EAAK3jB,OAAwB,CACnC,IAAIyoB,QAAoBpuB,EAASspB,EAAK3jB,OAAQrG,EAAOuf,GACrD,QAAwB,IAAduP,EAA2B,CACjC,IAAI5zC,EAAM4zC,EAIV,GAHKtnD,MAAME,QAAQonD,KACfA,EAAY,CAACA,KAEZ1O,EAAiB0O,GAElB,KAAM,CACF/3C,KAAM,QACNkpC,OAAO,IAAKpxC,OAASoxC,MACrB51B,SAAU2/B,EAAK3jB,OAAOhc,SACtB9hB,MAAO2S,GAGf,IAAK,IAAI0tC,EAAK,EAAGA,EAAKkG,EAAUznD,OAAQuhD,IAChB,iBAAV5oB,GAAgC,OAAVA,UACrBA,EAAM8uB,EAAUlG,OAQ/C,OAAOn4C,KAGwB,YAptClBs+C,CAA4B/E,EAAMxyB,EAAO+nB,GAe1D,IAXGA,EAAYntC,OACV,MAAO3B,GAAoE,mBAAhBA,EAAO9H,OACnE8H,EAAS/H,QAAQV,QAAQyI,IAE1B8uC,EAAYntC,OAAgC,mBAAhB3B,EAAO9H,MAAuBqhD,EAAKgF,cAAqD,mBAA9Bv+C,EAAOu5C,EAAKgF,gBAIjGv+C,QAAeA,GAGf5G,OAAOI,UAAU0C,eAAe/B,KAAKo/C,EAAM,aAC3C,IAAI,IAAIhT,EAAK,EAAGA,EAAKgT,EAAKiF,UAAU5nD,OAAQ2vC,IACxCvmC,QAAiBy+C,EAAelF,EAAKiF,UAAUjY,GAAIgT,KAAMv5C,EAAQ8uC,GAIvD,SAAdyK,EAAKt6C,MAAmB7F,OAAOI,UAAU0C,eAAe/B,KAAKo/C,EAAM,WACnEv5C,QAAiBs6C,EAAwBf,EAAKhS,MAAOvnC,EAAQ8uC,IAGjE,IAAI4P,EAAe5P,EAAY1J,OAAO,mBAiBtC,OAhBGsZ,GACCA,EAAanF,EAAMxyB,EAAO+nB,EAAa9uC,GAGxCA,GAAU8vC,EAAW9vC,KAAYA,EAAO2+C,cACpCpF,EAAKqF,YACJ5+C,EAAOq6C,eAAgB,GAEN,IAAlBr6C,EAAOpJ,OACNoJ,OAASvH,EACe,IAAlBuH,EAAOpJ,SACboJ,EAAUA,EAAOq6C,cAAgBr6C,EAASA,EAAO,KAKlDA,EAkFX,SAAS6+C,EAAqB/P,EAAa7W,GACvC,IAAIskB,EAAQjD,EAAYxK,GACxB,IAAI,MAAMoI,KAAQjf,EACdskB,EAAM5vC,KAAKuqC,EAAMjf,EAAMif,IAE3B,OAAOqF,EAWX,SAAUtC,EAAaV,EAAMxyB,EAAO+nB,EAAagQ,GAC7C,IAAI9+C,EACJ,GAAiB,SAAdu5C,EAAKt6C,KAKH,OAJAe,QAAgB++C,EAAuBxF,EAAMxyB,EAAO+nB,GACjDyK,EAAKyF,SACJh/C,QAAgBi/C,EAAe1F,EAAKyF,OAAQh/C,EAAQ8uC,IAEjD9uC,EAGZA,EAAS6vC,IAET,IAAI,IAAItJ,EAAK,EAAGA,EAAKxf,EAAMnwB,OAAQ2vC,IAAM,CACrC,IAAIqG,QAAc3c,EAASspB,EAAMxyB,EAAMwf,GAAKuI,GAC5C,GAAGyK,EAAKyF,OACJ,IAAI,IAAIE,EAAK,EAAGA,EAAK3F,EAAKyF,OAAOpoD,OAAQsoD,IACrCtS,QAAa6R,EAAelF,EAAKyF,OAAOE,GAAI3F,KAAM3M,EAAKkC,QAG7C,IAARlC,GACN5sC,EAAOxE,KAAKoxC,GAIpB,IAAI8M,EAAiB7J,IAgBrB,OAfGiP,GAA8B,IAAlB9+C,EAAOpJ,QAAgBG,MAAME,QAAQ+I,EAAO,MAAQ8vC,EAAW9vC,EAAO,IACjF05C,EAAiB15C,EAAO,GAGxBA,EAAOJ,SAAQ,SAASgtC,IACf71C,MAAME,QAAQ21C,IAAQA,EAAIwN,KAE3BV,EAAel+C,KAAKoxC,GAGpBA,EAAIhtC,SAAQ6K,GAAOivC,EAAel+C,KAAKiP,QAK5CivC,EAGX,SAAUuF,EAAeD,EAAQj4B,EAAO+nB,GAEpC,IADA,IAAI9uC,EAAS+mB,EACLm4B,EAAK,EAAGA,EAAKF,EAAOpoD,OAAQsoD,IAAM,CACtC,IAAIC,EAAQH,EAAOE,GACnB,OAAOC,EAAMlgD,MACT,IAAK,SACDe,QAAiBy+C,EAAeU,EAAM5F,KAAMv5C,EAAQ8uC,GACpD,MACJ,IAAK,QACD,IAAI,IAAIsQ,EAAK,EAAGA,EAAKp/C,EAAOpJ,OAAQwoD,IACpBp/C,EAAOo/C,GACbD,EAAMrnD,OAASsnD,GAKrC,OAAOp/C,EAWX,SAAUg6C,EAAkBT,EAAMxyB,EAAO8yB,EAAe/K,GACpD,IAAI9uC,EACJ,GAAiB,SAAdu5C,EAAKt6C,KAAiB,CACrB,GAAG46C,EACC75C,QAAgB++C,EAAuBxF,EAAMM,EAAe/K,OACzD,CACH,IAAIuQ,QAAgBN,EAAuBxF,EAAMxyB,EAAO+nB,IACxD9uC,EAAS6vC,KACF8O,aAAc,EACrB,IAAI,IAAIO,EAAK,EAAGA,EAAKG,EAAOzoD,OAAQsoD,IAAM,CACtC,IAAIjnB,EAAQ,CAAC,IAAKonB,EAAOH,IACzBjnB,EAAMshB,EAAK17B,OAASqhC,EACpBl/C,EAAOxE,KAAKy8B,IAMpB,OAHGshB,EAAKyF,SACJh/C,QAAgBi/C,EAAe1F,EAAKyF,OAAQh/C,EAAQ8uC,IAEjD9uC,GAGXA,EAAS6vC,KACF8O,aAAc,EACrB,IAAIW,EAAUxQ,OACOr2C,IAAlBohD,IACCA,EAAgB9yB,EAAMriB,KAAIqO,IAAiB,CAAC,IAAKA,OAGrD,IAAI,IAAIqsC,EAAK,EAAGA,EAAKvF,EAAcjjD,OAAQwoD,IAAM,CAC7CE,EAAUT,EAAqB/P,EAAa+K,EAAcuF,IAC1D,IAAIxS,QAAa3c,EAASspB,EAAMM,EAAcuF,GAAI,KAAME,GAExD,QAAkB,IAAR1S,EAAqB,CACtB71C,MAAME,QAAQ21C,KACfA,EAAM,CAACA,IAEX,IAAK,IAAI2S,EAAK,EAAGA,EAAK3S,EAAIh2C,OAAQ2oD,IAC9BtnB,EAAQ,GACR7+B,OAAO27B,OAAOkD,EAAO4hB,EAAcuF,IAChCxS,EAAI+R,YACHvlD,OAAO27B,OAAOkD,EAAO2U,EAAI2S,KAErBhG,EAAKW,OACLjiB,EAAMshB,EAAKW,OAAStN,EAAI2S,GACxBtnB,EAAM,KAAO4hB,EAAcuF,GAAI,MAE/BnnB,EAAM,KAAO2U,EAAI2S,GAEjBhG,EAAK17B,QACLoa,EAAMshB,EAAK17B,OAAS0hC,GAEpBhG,EAAKiG,WACLvnB,EAAMshB,EAAKiG,SAASl6C,OAASu0C,EAAcuF,GAAI,OAGvDp/C,EAAOxE,KAAKy8B,IASxB,OAJGshB,EAAKyF,SACJh/C,QAAiBi/C,EAAe1F,EAAKyF,OAAQh/C,EAAQ8uC,IAGlD9uC,EAUX,SAAUy+C,EAAeD,EAAWz3B,EAAO+nB,GACvC,IAAIoJ,EAAUrI,IAOd,GANI9oB,GAASA,EAAM43B,cACfzG,EAAQyG,aAAc,GAErB5nD,MAAME,QAAQ8vB,KACfA,EAAQ8oB,EAAe9oB,IAEJ,WAAnBy3B,EAAUv/C,KAAmB,CAC7B,IAAI4e,EAAQ8V,KAAKyQ,MAAMoa,EAAU1mD,OAC7B+lB,EAAQ,IAERA,EAAQkJ,EAAMnwB,OAASinB,QAGR,KADf9K,EAAOgU,EAAMlJ,MAEV9mB,MAAME,QAAQ8b,GACbmlC,EAAUnlC,EAEVmlC,EAAQ18C,KAAKuX,SAIrB,IAAK8K,EAAQ,EAAGA,EAAQkJ,EAAMnwB,OAAQinB,IAAS,CAC3C,IAAI9K,EACAlV,EADAkV,EAAOgU,EAAMlJ,GAEboU,EAAM6c,EACP/nB,EAAM43B,cACL9gD,EAAUkV,EAAK,KACfkf,EAAM4sB,EAAqB/P,EAAa/7B,IAE5C,IAAI65B,QAAa3c,EAASuuB,EAAW3gD,EAASo0B,GAC1Cyd,EAAU9C,KACVA,EAAM,CAACA,IAEPgD,EAAiBhD,GACjBA,EAAIhtC,SAAQ,SAAU6/C,GAElB,IAAIlZ,EAAK5S,KAAKyQ,MAAMqb,GAChBlZ,EAAK,IAELA,EAAKxf,EAAMnwB,OAAS2vC,GAEpBA,IAAO1oB,GACPq6B,EAAQ18C,KAAKuX,MAGd5a,EAAGy+B,QAAQgW,IAClBsL,EAAQ18C,KAAKuX,GAIzB,OAAOmlC,EAiLX,SAAS8D,EAAQpkD,EAAK8nD,GAWlB,YAVwB,IAAdA,IACNA,EAAY,IAEb3oD,MAAME,QAAQW,GACbA,EAAIgI,SAAQ,SAAUmT,GAClBipC,EAAQjpC,EAAM2sC,MAGlBA,EAAUlkD,KAAK5D,GAEZ8nD,EA6BX,SAASxD,EAAmBn1B,EAAOmxB,GAE1BnhD,MAAME,QAAQ8vB,IACfmxB,EAAQ18C,KAAKurB,GAEbhwB,MAAME,QAAQ8vB,GACdA,EAAMnnB,SAAQ,SAAUsX,GACpBglC,EAAmBhlC,EAAQghC,MAEd,OAAVnxB,GAAmC,iBAAVA,GAChC3tB,OAAOwI,KAAKmlB,GAAOnnB,SAAQ,SAAUjI,GACjCukD,EAAmBn1B,EAAMpvB,GAAMugD,MAmM3C,SAAS2C,EAAQ/iD,GACb,IAAI6nD,EAAcxnD,EAAGy+B,QAAQ9+B,GAC7B,YAA8B,IAAhB6nD,GAAsCA,EAgCxD,SAAUrF,EAAwBf,EAAMxyB,EAAO+nB,GAC3C,IAAI9uC,EAAS,GACTwwC,EAAS,GACTtqC,KAAS6gB,IAASA,EAAM43B,aAEvB5nD,MAAME,QAAQ8vB,KACfA,EAAQ8oB,EAAe9oB,IAGN,IAAjBA,EAAMnwB,QACNmwB,EAAMvrB,UAAK/C,GAGf,IAAI,IAAImnD,EAAY,EAAGA,EAAY74B,EAAMnwB,OAAQgpD,IAG7C,IAFA,IAAI7sC,EAAOgU,EAAM64B,GACb3tB,EAAM/rB,EAAS24C,EAAqB/P,EAAa/7B,GAAQ+7B,EACrD+Q,EAAY,EAAGA,EAAYtG,EAAKiB,IAAI5jD,OAAQipD,IAAa,CAC7D,IAAIC,EAAOvG,EAAKiB,IAAIqF,GAChBloD,QAAcs4B,EAAS6vB,EAAK,GAAI55C,EAAS6M,EAAK,KAAOA,EAAMkf,GAE/D,GAAoB,iBAARt6B,QAA4Bc,IAARd,EAC5B,KAAM,CACF2O,KAAM,QACNkpC,OAAO,IAAKpxC,OAASoxC,MACrB51B,SAAU2/B,EAAK3/B,SACf9hB,MAAOH,GAIf,QAAYc,IAARd,EAAmB,CACnB,IAAI8I,EAAQ,CAACsD,KAAMgP,EAAMgtC,UAAWF,GACpC,GAAIrP,EAAOt0C,eAAevE,GAAM,CAE5B,GAAG64C,EAAO74C,GAAKooD,YAAcF,EAGzB,KAAM,CACFv5C,KAAM,QACNkpC,OAAO,IAAKpxC,OAASoxC,MACrB51B,SAAU2/B,EAAK3/B,SACf9hB,MAAOH,GAKf64C,EAAO74C,GAAKoM,KAAO5L,EAAGg5C,OAAOX,EAAO74C,GAAKoM,KAAMgP,QAE/Cy9B,EAAO74C,GAAO8I,GAO9B,IAAK9I,KAAO64C,EAAQ,CAEhB,IAAI3yC,GADJ4C,EAAQ+vC,EAAO74C,IACKoM,KAEpB,GADIkuB,EAAM6c,EACN5oC,EAAQ,CACR,IAAI+xB,EAAQ+nB,EAAkBv/C,EAAMsD,MACpClG,EAAUo6B,EAAM,YACTA,EAAM,KACbhG,EAAM4sB,EAAqB/P,EAAa7W,GAE5C,IAAIngC,QAAgBm4B,EAASspB,EAAKiB,IAAI/5C,EAAMs/C,WAAW,GAAIliD,EAASo0B,QAChD,IAAVn6B,IACNkI,EAAOrI,GAAOG,GAItB,OAAOkI,EAGX,SAASggD,EAAkBrB,GACvB,IAAI5nD,MAAME,QAAQ0nD,GACd,OAAOA,EAEX,IAAI3+C,EAAS,GACb5G,OAAO27B,OAAO/0B,EAAQ2+C,EAAY,IAClC,IAAI,IAAIpY,EAAK,EAAGA,EAAKoY,EAAY/nD,OAAQ2vC,IACrC,IAAI,MAAM2Q,KAAQyH,EAAYpY,GAC1BvmC,EAAOk3C,GAAQ/+C,EAAGg5C,OAAOnxC,EAAOk3C,GAAOyH,EAAYpY,GAAI2Q,IAG/D,OAAOl3C,EAwLX,SAAU++C,EAAuBxF,EAAMxyB,EAAO+nB,GAC1C,IAII0L,EAAMzzB,EACNk5B,IAAcl5B,EAAM43B,YA4EpBzE,EAAQ,CACRpL,YAAaA,EACb/nB,MAAOA,GAKX,aAFiB5uB,EAAGm/C,KAAK/+C,MAAM2hD,EAAO,CAACM,EA7EtB,UAAU1vB,EAAG0N,GAG1B,IADA,IAAIgf,EAAO,EACH35B,EAAQ,EAAY,IAAT25B,GAAc35B,EAAQ07B,EAAK2G,MAAMtpD,OAAQinB,IAAS,CACjE,IAAIsiC,EAAO5G,EAAK2G,MAAMriC,GAElBhgB,EAAUitB,EACVmH,EAAM6c,EACPmR,IACCpiD,EAAUitB,EAAE,KACZmH,EAAM4sB,EAAqB/P,EAAahkB,IAE5C,IAAI0M,QAAavH,EAASkwB,EAAK1xB,WAAY5wB,EAASo0B,GAEpDp0B,EAAU26B,EACVvG,EAAM6c,EACHmR,IACCpiD,EAAU26B,EAAE,KACZvG,EAAM4sB,EAAqB/P,EAAatW,IAE5C,IAAI+mB,QAAatvB,EAASkwB,EAAK1xB,WAAY5wB,EAASo0B,GAGhDmuB,SAAe5oB,EACf6oB,SAAed,EAEnB,GAAa,cAAVa,EAKH,GAAa,cAAVC,EAAH,CAMA,GAAe,WAAVD,GAAgC,WAAVA,GAAmC,WAAVC,GAAgC,WAAVA,EACtE,KAAM,CACF/5C,KAAM,QACNkpC,OAAO,IAAKpxC,OAASoxC,MACrB51B,SAAU2/B,EAAK3/B,SACf9hB,MAAmB,WAAVsoD,GAAgC,WAAVA,EAAsB5oB,EAAK+nB,GAKlE,GAAGa,IAAUC,EACT,KAAM,CACF/5C,KAAM,QACNkpC,OAAO,IAAKpxC,OAASoxC,MACrB51B,SAAU2/B,EAAK3/B,SACf9hB,MAAO0/B,EACP2jB,OAAQoE,GAGb/nB,IAAO+nB,IAIN/H,EADOhgB,EAAK+nB,GACJ,EAED,GAEY,IAApBY,EAAKG,aACJ9I,GAAQA,SAjCRA,GAAQ,OAJRA,EAAkB,cAAV6I,EAAyB,EAAI,EAyC7C,OAAgB,IAAT7I,KAmGf,IAAIuG,EAAW1kB,EAAO,mDAkDtB,SAAU2jB,EAAiBzD,EAAMxyB,EAAO+nB,EAAayR,GACjD,IAAIvgD,EAMAw9C,QAAevtB,EAASspB,EAAK2D,UAAWn2B,EAAO+nB,GAEnD,QAAoB,IAAT0O,GAAgD,SAAxBjE,EAAK2D,UAAUj+C,MAAmB6vC,EAAY1J,OAAOmU,EAAK2D,UAAUvD,MAAM,GAAG7hD,OAE5G,KAAM,CACFwO,KAAM,QACNkpC,OAAO,IAAKpxC,OAASoxC,MACrB51B,SAAU2/B,EAAK3/B,SACfitB,MAAO0S,EAAK2D,UAAUvD,MAAM,GAAG7hD,OAIvC,IAAIylD,EAAgB,QACE,IAAZgD,GACNhD,EAAc/hD,KAAK+kD,EAAQ1iD,SAG/B,IAAK,IAAIs6C,EAAK,EAAGA,EAAKoB,EAAKjhD,UAAU1B,OAAQuhD,IAAM,CAC/C,MAAMvgD,QAAaq4B,EAASspB,EAAKjhD,UAAU6/C,GAAKpxB,EAAO+nB,GACvD,GAAGiB,EAAWn4C,GAAM,CAEhB,MAAMglD,EAAU,aAAc31C,GAE1B,aAAe1O,EAAMX,EAAKqP,EAAQ,KAAM6nC,IAE5C8N,EAAQ9F,MAAQ5G,EAAiBt4C,GACjC2lD,EAAc/hD,KAAKohD,QAEnBW,EAAc/hD,KAAK5D,GAI3B,IAAI4oD,EAAmC,SAAxBjH,EAAK2D,UAAUj+C,KAAkBs6C,EAAK2D,UAAUvD,MAAM,GAAG7hD,MAAQyhD,EAAK2D,UAAUplD,MAC/F,IACuB,iBAAT0lD,IACNA,EAAK3W,MAAQ2Z,EACbhD,EAAK5jC,SAAW2/B,EAAK3/B,UAEzB5Z,QAAiBzH,EAAMilD,EAAMD,EAAex2B,EAAO+nB,GACrD,MAAOt2C,GASL,MARIA,EAAIohB,WAEJphB,EAAIohB,SAAW2/B,EAAK3/B,UAEnBphB,EAAIquC,QAELruC,EAAIquC,MAAQ2Z,GAEVhoD,EAEV,OAAOwH,EAWX,SAAUzH,EAAMilD,EAAMnlD,EAAM0uB,EAAO+nB,GAC/B,IAAI9uC,EAEJ,IADAA,QAAiBygD,EAAWjD,EAAMnlD,EAAM0uB,EAAO+nB,GACzCkB,EAAShwC,KAA4B,IAAjBA,EAAOq9C,OAAgB,CAI7C,IAAI9hD,QAAe00B,EAASjwB,EAAO6lB,KAAKq3B,UAAWl9C,EAAO+mB,MAAO/mB,EAAO8uC,aACtC,aAA/B9uC,EAAO6lB,KAAKq3B,UAAUj+C,OACrB1D,EAAKsrC,MAAQ7mC,EAAO6lB,KAAKq3B,UAAUplD,OAEvCyD,EAAKqe,SAAW5Z,EAAO6lB,KAAKq3B,UAAUtjC,SAEtC,IADA,IAAI2jC,EAAgB,GACZhX,EAAK,EAAGA,EAAKvmC,EAAO6lB,KAAKvtB,UAAU1B,OAAQ2vC,IAC/CgX,EAAc/hD,WAAay0B,EAASjwB,EAAO6lB,KAAKvtB,UAAUiuC,GAAKvmC,EAAO+mB,MAAO/mB,EAAO8uC,cAGxF9uC,QAAiBygD,EAAWllD,EAAMgiD,EAAex2B,EAAO+nB,GAE5D,OAAO9uC,EAWX,SAAUygD,EAAWjD,EAAMnlD,EAAM0uB,EAAO+nB,GACpC,IAAI9uC,EACJ,IACI,IAAI0gD,EAAgBroD,EAKpB,GAJImlD,IACAkD,EA8HZ,SAA2BtD,EAAW/kD,EAAMwF,GACxC,YAAwB,IAAdu/C,EAEC/kD,EAES+kD,EAAUv5C,SAASxL,EAAMwF,GAnIrB8iD,CAAkBnD,EAAKJ,UAAW/kD,EAAM0uB,IAGxDipB,EAASwN,GACTx9C,QAyIZ,UAAyBw9C,EAAMnlD,GAC3B,IACI45B,EAAMqnB,EAAYkE,EAAK1O,aAU3B,OATA0O,EAAKllD,UAAUsH,SAAQ,SAAUghD,EAAO/iC,GACpCoU,EAAItlB,KAAKi0C,EAAM9oD,MAAOO,EAAKwlB,OAEN,mBAAd2/B,EAAK33B,WAkEpB,UAA8B23B,EAAMvrB,GAChC,IAEI55B,EAFUwoD,EAA2BrD,GAEtB94C,KAAI,SAAUo8C,GAC7B,OAAO7uB,EAAImT,OAAO0b,EAAOp3C,WAGzBwwC,EAAQ,CACRpL,YAAa7c,GAEbjyB,EAASw9C,EAAKjlD,MAAM2hD,EAAO7hD,GAI/B,OAHG43C,EAAWjwC,KACVA,QAAiBA,GAEdA,EA9Ec+gD,CAAoBvD,EAAK33B,KAAMoM,SAE/BhC,EAASutB,EAAK33B,KAAM23B,EAAKz2B,MAAOkL,GAnJ7B+uB,CAAexD,EAAMkD,QAClC,GAAIlD,IAAmC,IAA3BA,EAAKE,kBAA4B,CAChD,IAAIxD,EAAQ,CACRpL,YAAaA,EACb/nB,MAAOA,GAGX/mB,EAASw9C,EAAKI,eAAerlD,MAAM2hD,EAAOwG,GAGtCzQ,EAAWjwC,KACXA,QAAgBA,OAEjB,IAAoB,mBAATw9C,EAWd,KAAM,CACFl3C,KAAM,QACNkpC,OAAO,IAAKpxC,OAASoxC,OARzBxvC,EAASw9C,EAAKjlD,MAAMwuB,EAAO25B,GAEvBzQ,EAAWjwC,KACXA,QAAgBA,IAQ1B,MAAMxH,GAOJ,MANGglD,SACyB,IAAbhlD,EAAIquC,YAA8C,IAAf2W,EAAK3W,QAC/CruC,EAAIquC,MAAQ2W,EAAK3W,OAErBruC,EAAIohB,SAAW4jC,EAAK5jC,UAElBphB,EAEV,OAAOwH,EAwHX,SAASy9C,EAAsBD,EAAMnlD,GAEjC,IAAI45B,EAAMqnB,EAAYkE,EAAK1O,aACvBmS,EAAc,GAgBlB,OAfAzD,EAAKllD,UAAUsH,SAAQ,SAAUghD,EAAO/iC,GACpC,IAAIjmB,EAAMS,EAAKwlB,GACXjmB,GAAoB,aAAbA,EAAIqH,MAAqC,MAAdrH,EAAIE,MACtCmpD,EAAYzlD,KAAKolD,GAEjB3uB,EAAItlB,KAAKi0C,EAAM9oD,MAAOF,MAGd,CACZulD,iBAAiB,EACjBp2B,MAAOy2B,EAAKz2B,MACZ+nB,YAAa7c,EACb35B,UAAW2oD,EACXp7B,KAAM23B,EAAK33B,MAWnB,SAAS83B,EAA2BuD,EAAQ7oD,GAIxC,IAAI8oD,EAAUN,EAA2BK,GAIrCr7B,EAAO,aAHXs7B,EAAUA,EAAQz8C,KAAI,SAAUo8C,GAC5B,MAAO,IAAMA,EAAOp3C,WAESnE,KAAK,MAAQ,SAE1C67C,EAAU/nB,EAAOxT,GAIrB,OAHAu7B,EAAQv7B,KAAOq7B,EAEDzD,EAAsB2D,EAAS/oD,GAgCjD,SAASwoD,EAA2B/P,GAChC,IAAIsM,EAAYtM,EAAKt0C,WAGrB,MAFgB,cAAcqN,KAAKuzC,GAAW,GACtB7zC,MAAM,KAUlC,SAAS00C,EAAenN,EAAMsM,GAC1B,IAAIiE,EAAa,CACb3D,mBAAmB,EACnBE,eAAgB9M,GAKpB,YAHwB,IAAdsM,IACNiE,EAAWjE,UAAYjE,EAAeiE,IAEnCiE,EAuEX,SAAS/H,EAAYgI,GACjB,IAAIC,EAAW,GACf,MAAO,CACH50C,KAAM,SAAUjQ,EAAM5E,GAClBypD,EAAS7kD,GAAQ5E,GAErBstC,OAAQ,SAAU1oC,GACd,IAAI5E,EAMJ,OALGypD,EAASrlD,eAAeQ,GACvB5E,EAAQypD,EAAS7kD,GACV4kD,IACPxpD,EAAQwpD,EAAqBlc,OAAO1oC,IAEjC5E,GAEX41C,UAAW4T,EAAuBA,EAAqB5T,UAAY,KACnE/rC,QAAO2/C,GAAuBA,EAAqB3/C,MACnDiyB,OAAQ0tB,EAAuBA,EAAqB1tB,OAAS,CACzD4tB,SAAU,CAAE,QAMxBnI,EAAY1sC,KAAK,MAAOsxC,EAAe9lD,EAAGi5C,IAAK,aAC/CiI,EAAY1sC,KAAK,QAASsxC,EAAe9lD,EAAGm5C,MAAO,UACnD+H,EAAY1sC,KAAK,MAAOsxC,EAAe9lD,EAAGwhB,IAAK,aAC/C0/B,EAAY1sC,KAAK,MAAOsxC,EAAe9lD,EAAGuhB,IAAK,aAC/C2/B,EAAY1sC,KAAK,UAAWsxC,EAAe9lD,EAAGo5C,QAAS,aACvD8H,EAAY1sC,KAAK,SAAUsxC,EAAe9lD,EAAG6/B,OAAQ,aACrDqhB,EAAY1sC,KAAK,YAAasxC,EAAe9lD,EAAGurC,UAAW,cAC3D2V,EAAY1sC,KAAK,kBAAmBsxC,EAAe9lD,EAAG05C,gBAAiB,YACvEwH,EAAY1sC,KAAK,iBAAkBsxC,EAAe9lD,EAAG45C,eAAgB,YACrEsH,EAAY1sC,KAAK,YAAasxC,EAAe9lD,EAAGqjC,UAAW,WAC3D6d,EAAY1sC,KAAK,YAAasxC,EAAe9lD,EAAGsjC,UAAW,WAC3D4d,EAAY1sC,KAAK,SAAUsxC,EAAe9lD,EAAGvB,OAAQ,WACrDyiD,EAAY1sC,KAAK,OAAQsxC,EAAe9lD,EAAGuR,KAAM,WACjD2vC,EAAY1sC,KAAK,MAAOsxC,EAAe9lD,EAAG65C,IAAK,cAC/CqH,EAAY1sC,KAAK,QAASsxC,EAAe9lD,EAAGo3B,MAAO,sBACnD8pB,EAAY1sC,KAAK,WAAYsxC,EAAe9lD,EAAG2jC,SAAU,eACzDud,EAAY1sC,KAAK,UAAWsxC,EAAe9lD,EAAG4O,QAAS,qBACvDsyC,EAAY1sC,KAAK,QAASsxC,EAAe9lD,EAAGoR,MAAO,oBACnD8vC,EAAY1sC,KAAK,OAAQsxC,EAAe9lD,EAAGoN,KAAM,eACjD8zC,EAAY1sC,KAAK,eAAgBsxC,EAAe9lD,EAAG06C,aAAc,cACjEwG,EAAY1sC,KAAK,aAAcsxC,EAAe9lD,EAAG+9C,WAAY,aAC7DmD,EAAY1sC,KAAK,gBAAiBsxC,EAAe/E,EAASjV,cAAe,YACzEoV,EAAY1sC,KAAK,eAAgBsxC,EAAe/E,EAAS7J,aAAc,YACvEgK,EAAY1sC,KAAK,SAAUsxC,EAAe9lD,EAAG2/B,OAAQ,eACrDuhB,EAAY1sC,KAAK,QAASsxC,EAAe9lD,EAAGisC,MAAO,WACnDiV,EAAY1sC,KAAK,OAAQsxC,EAAe9lD,EAAGk+C,KAAM,WACjDgD,EAAY1sC,KAAK,QAASsxC,EAAe9lD,EAAGs4C,MAAO,aACnD4I,EAAY1sC,KAAK,MAAOsxC,EAAe9lD,EAAGssC,IAAK,WAC/C4U,EAAY1sC,KAAK,OAAQsxC,EAAe9lD,EAAGm+C,KAAM,WACjD+C,EAAY1sC,KAAK,QAASsxC,EAAe9lD,EAAGo+C,MAAO,YACnD8C,EAAY1sC,KAAK,SAAUsxC,EAAe9lD,EAAGq8B,OAAQ,SACrD6kB,EAAY1sC,KAAK,UAAWsxC,EAAe9lD,EAAGy+B,QAAS,WACvDyiB,EAAY1sC,KAAK,MAAOsxC,EAAe9lD,EAAGq+C,IAAK,WAC/C6C,EAAY1sC,KAAK,MAAOsxC,EAAe9lD,EAAGuM,IAAK,SAC/C20C,EAAY1sC,KAAK,MAAOsxC,EAAe9lD,EAAGqY,IAAK,SAC/C6oC,EAAY1sC,KAAK,SAAUsxC,EAAe9lD,EAAG0M,OAAQ,SACrDw0C,EAAY1sC,KAAK,SAAUsxC,EAAe9lD,EAAGs+C,OAAQ,UACrD4C,EAAY1sC,KAAK,SAAUsxC,EAAe9lD,EAAGy+C,SAAU,aACvDyC,EAAY1sC,KAAK,OAAQsxC,EAAe9lD,EAAG4+C,KAAM,aACjDsC,EAAY1sC,KAAK,OAAQsxC,EAAe9lD,EAAGyJ,KAAM,cACjDy3C,EAAY1sC,KAAK,SAAUsxC,EAAe9lD,EAAGitC,OAAQ,YACrDiU,EAAY1sC,KAAK,SAAUsxC,EAAe9lD,EAAGg5C,OAAQ,WACrDkI,EAAY1sC,KAAK,SAAUsxC,EAAe9lD,EAAG0d,OAAQ,UACrDwjC,EAAY1sC,KAAK,SAAUsxC,EAAe9lD,EAAG8+C,OAAQ,cACrDoC,EAAY1sC,KAAK,QAASsxC,EAAe9lD,EAAG6+C,MAAO,aACnDqC,EAAY1sC,KAAK,UAAWsxC,EAAe9lD,EAAG0J,QAAS,UACvDw3C,EAAY1sC,KAAK,OAAQsxC,EAAe9lD,EAAGg/C,KAAM,YACjDkC,EAAY1sC,KAAK,QAASsxC,EAAe9lD,EAAGJ,MAAO,WACnDshD,EAAY1sC,KAAK,SAAUsxC,EAAe9lD,EAAGi/C,OAAQ,YACrDiC,EAAY1sC,KAAK,OAAQsxC,EAAe9lD,EAAG8G,KAAM,UACjDo6C,EAAY1sC,KAAK,OAAQsxC,EAAe9lD,EAAGm/C,KAAM,YACjD+B,EAAY1sC,KAAK,UAAWsxC,EAAe9lD,EAAG4/C,QAAS,UACvDsB,EAAY1sC,KAAK,WAAYsxC,EAAe9lD,EAAG8/C,SAAU,UACzDoB,EAAY1sC,KAAK,eAAgBsxC,EAAe9lD,EAAGigD,aAAc,WACjEiB,EAAY1sC,KAAK,eAAgBsxC,EAAe9lD,EAAGmgD,aAAc,WACjEe,EAAY1sC,KAAK,qBAAsBsxC,EAAe9lD,EAAGqgD,mBAAoB,WAC7Ea,EAAY1sC,KAAK,YAAasxC,EAAe9lD,EAAGygD,UAAW,WAC3DS,EAAY1sC,KAAK,qBAAsBsxC,EAAe9lD,EAAG2gD,mBAAoB,WAC7EO,EAAY1sC,KAAK,YAAasxC,EAAe9lD,EAAG6gD,UAAW,WAC3DK,EAAY1sC,KAAK,OAAQsxC,GAjJzB,UAAuB1E,EAAMW,GAEzB,QAAmB,IAATX,EAAV,CAGA,IAAIxyB,EAAQ3uB,KAAK2uB,WACG,IAAVmzB,IACNnzB,EAAQmzB,EAELnjD,MAAME,QAAQ8vB,KAAW+oB,EAAW/oB,MACnCA,EAAQ8oB,EAAe9oB,IACjB4qB,cAAe,IAI7B,IACI,IAAI8P,EAAMpoB,EAAOkgB,GAAM,GACzB,MAAM/gD,GAGJ,MADAkpD,EAAgBlpD,GACV,CACFg3C,OAAO,IAAKpxC,OAASoxC,MACrBlpC,KAAM,QACNxO,MAAOU,EAAIqO,QACX9O,MAAOS,GAGf,IACI,IAAIwH,QAAgBiwB,EAASwxB,EAAK16B,EAAO3uB,KAAK02C,aAChD,MAAMt2C,GAGJ,MADAkpD,EAAgBlpD,GACV,CACFg3C,OAAO,IAAKpxC,OAASoxC,MACrBlpC,KAAM,QACNxO,MAAMU,EAAIqO,QACV9O,MAAOS,GAIf,OAAOwH,KAyG2C,YACtDq5C,EAAY1sC,KAAK,WAAYsxC,EAAe/E,EAAS3J,SAAU,aAC/D8J,EAAY1sC,KAAK,aAAcsxC,EAAe/E,EAAS5J,WAAY,eACnE+J,EAAY1sC,KAAK,QAASsxC,GApG1B,SAAuBrmD,GAEnB,QAAkB,IAARA,EAIV,OAAOsyB,KAAKlM,MAAM7lB,EAAG6/B,OAAOpgC,MA8FwB,cAgBxD,IAAI+pD,EAAa,CACb,MAAS,wDACT,MAAS,iCACT,MAAS,2CACT,MAAS,2DACT,MAAS,+DACT,MAAS,6BACT,MAAS,0BACT,MAAS,oCACT,MAAS,8CACT,MAAS,8BACT,MAAS,8BACT,MAAS,qCACT,MAAS,+BACT,MAAS,oFACT,MAAS,4DACT,MAAS,kDACT,MAAS,0DACT,MAAS,6DACT,MAAS,gFACT,MAAS,qEACT,MAAS,mEACT,MAAS,0EACT,MAAS,8EACT,MAAS,4CACT,MAAS,yCACT,MAAS,iEACT,MAAS,8DACT,MAAS,iEACT,MAAS,6EACT,MAAS,uFACT,MAAS,wEACT,MAAS,iCACT,MAAS,+CACT,MAAS,oEACT,MAAS,gDACT,MAAS,iEACT,MAAS,qCACT,MAAS,0EACT,MAAS,8CACT,MAAS,2DACT,MAAS,0GACT,MAAS,oEACT,MAAS,qEACT,MAAS,uEACT,MAAS,wEACT,MAAS,6DACT,MAAS,4EACT,MAAS,kFACT,MAAS,sFACT,MAAS,sGACT,MAAS,8FACT,MAAS,6FACT,MAAS,yGACT,MAAS,kJACT,MAAS,uHACT,MAAS,0DACT,MAAS,gEACT,MAAS,yEACT,MAAS,gEACT,MAAS,sEACT,MAAS,8CACT,MAAS,sEACT,MAAS,wFACT,MAAS,sEACT,MAAS,2HACT,MAAS,6KACT,MAAS,qEACT,MAAS,+FACT,MAAS,qFACT,MAAS,uFACT,MAAS,gFACT,MAAS,gKACT,MAAS,gJACT,MAAS,6HACT,MAAS,yFACT,MAAS,gGACT,MAAS,gKACT,MAAS,mKACT,MAAS,mIACT,MAAS,mIACT,MAAS,yFACT,MAAS,iGACT,MAAS,gEACT,MAAS,6EACT,MAAS,iHACT,MAAS,6EACT,MAAS,oEACT,MAAS,4GACT,MAAS,0EACT,MAAS,8DACT,MAAS,qFACT,MAAS,gBACT,MAAS,uFACT,MAAS,oFACT,MAAS,2DACT,MAAS,iBAUb,SAASD,EAAgBlpD,GACrB,IAAIopD,EAAWD,EAAWnpD,EAAI8N,MAC9B,QAAuB,IAAbs7C,EAA0B,CAIhC,IAAI/6C,EAAU+6C,EAAS76C,QAAQ,qBAAqB,WAChD,OAAOvO,EAAIF,UAAU,OAEzBuO,EAAUA,EAAQE,QAAQ,kBAAkB,WACxC,OAAOmjB,KAAKC,UAAU3xB,EAAIF,UAAU,QAExCE,EAAIqO,QAAUA,GAatB,SAASuyC,EAAQG,EAAMvkC,GACnB,IAAIysC,EACAx9C,EACJ,IACIw9C,EAAMpoB,EAAOkgB,EAAMvkC,GAAWA,EAAQ6sC,SACtC59C,EAASw9C,EAAIx9C,cACNw9C,EAAIx9C,OACb,MAAMzL,GAGJ,MADAkpD,EAAgBlpD,GACVA,EAEV,IAAIs2C,EAAcwK,EAAYD,GAE1B3L,EAAY,IAAI9D,KAcpB,OAbAkF,EAAYniC,KAAK,MAAOsxC,GAAe,SAAS/Z,EAAS+H,GACrD,OAAOiN,EAAS5J,WAAW5B,EAAUnC,UAAWrH,EAAS+H,KAC1D,aACH6C,EAAYniC,KAAK,SAAUsxC,GAAe,WACtC,OAAOvQ,EAAUnC,YAClB,SAEAv2B,GAAWA,EAAQ2nC,YAClBvD,EAAQuD,YAAc3nC,EAAQ2nC,YAE9BvD,EAAQuD,YAAc/yC,OAGnB,CACHqmB,SAAU,SAAUlJ,EAAOw6B,EAAUO,GAEjC,QAAqB,IAAX79C,EAAwB,CAC9B,IAAIzL,EAAM,CACN8N,KAAM,QACNsT,SAAU,GAGd,MADA8nC,EAAgBlpD,GACVA,EAIN,IAAIupD,EAuBJ/hD,EAAQ8E,EAxBZ,QAAwB,IAAby8C,EAIP,IAAK,IAAIv0C,KADT+0C,EAAWzI,EAAYxK,GACTyS,EACVQ,EAASp1C,KAAKK,EAAGu0C,EAASv0C,SAG9B+0C,EAAWjT,EAkBf,GAfAiT,EAASp1C,KAAK,IAAKoa,GAInB2mB,EAAY,IAAI9D,KAChBmY,EAASrU,UAAYA,EAGlB32C,MAAME,QAAQ8vB,KAAW+oB,EAAW/oB,MACnCA,EAAQ8oB,EAAe9oB,IACjB4qB,cAAe,GAKF,mBAAbmQ,EAAyB,CAC/BC,EAASpgD,OAAQ,EACjB,IAAIqgD,EAAe,SAAUxpD,GACzBkpD,EAAgBlpD,GAChBspD,EAAStpD,EAAK,OAEdypD,EAAc,SAAUC,IACxBliD,EAAS8E,EAAGvJ,KAAK2mD,IACNlqD,KACP8pD,EAAS,KAAM9hD,EAAOlI,OAEtBkI,EAAOlI,MAAMI,KAAK+pD,GAAaE,MAAMH,IAG7Cl9C,EAAKmrB,EAASwxB,EAAK16B,EAAOg7B,IAC1B/hD,EAAS8E,EAAGvJ,QACLzD,MAAMI,KAAK+pD,GAAaE,MAAMH,QAGrC,IAGI,IAFAl9C,EAAKmrB,EAASwxB,EAAK16B,EAAOg7B,GAC1B/hD,EAAS8E,EAAGvJ,QACJyE,EAAOhI,MACXgI,EAAS8E,EAAGvJ,KAAKyE,EAAOlI,OAE5B,OAAOkI,EAAOlI,MAChB,MAAOU,GAGL,MADAkpD,EAAgBlpD,GACVA,IAIlBu8B,OAAQ,SAAUr4B,EAAM5E,GACpBg3C,EAAYniC,KAAKjQ,EAAM5E,IAE3Bq4B,iBAAkB,SAASzzB,EAAMkhD,EAAgBR,GAC7C,IAAItM,EAAOmN,EAAeL,EAAgBR,GAC1CtO,EAAYniC,KAAKjQ,EAAMo0C,IAE3B2Q,IAAK,WACD,OAAOA,GAEXx9C,OAAQ,WACJ,OAAOA,IAOnB,OAFAm1C,EAAQ/f,OAASA,EAEV+f,EA7mEG,GAinEd5iD,EAAOC,QAAU2iD,GAEf,CAAC,aAAa,EAAE,cAAc,EAAE,WAAW,EAAE,cAAc,EAAE,UAAU,IAAI,EAAE,CAAC,SAASnvC,EAAQzT,EAAOC,GAOxG,IAAI0iD,EAAiBlvC,EAAQ,eAE7B,MAAMovB,EAAS,MACX,aAEA,IAAI+oB,EAAY,CACZ,IAAK,GACL,IAAK,GACL,IAAK,EACL,IAAK,GACL,IAAK,EACL,IAAK,GACL,IAAK,EACL,IAAK,EACL,IAAK,GACL,IAAK,GACL,IAAK,GACL,IAAK,GACL,IAAK,GACL,IAAK,GACL,IAAK,GACL,IAAK,GACL,IAAK,GACL,IAAK,GACL,IAAK,GACL,IAAK,GACL,IAAK,GACL,IAAK,GACL,IAAK,GACL,KAAM,GACN,KAAM,GACN,KAAM,GACN,KAAM,GACN,KAAM,GACN,KAAM,GACN,KAAM,GACN,IAAO,GACP,GAAM,GACN,GAAM,GACN,IAAK,GACL,IAAK,EACL,IAAK,GAGLC,EAAU,CACV,IAAK,IACL,KAAM,KACN,IAAK,IACL,EAAK,KACL,EAAK,KACL,EAAK,KACL,EAAK,KACL,EAAK,MAILC,EAAY,SAAUx+C,GACtB,IAAI8V,EAAW,EACXhjB,EAASkN,EAAKlN,OAEd+D,EAAS,SAAUsE,EAAMnH,GAEzB,MADU,CAACmH,KAAMA,EAAMnH,MAAOA,EAAO8hB,SAAUA,IAkD/Cre,EAAO,SAAUg4C,GACjB,GAAI35B,GAAYhjB,EAAQ,OAAO,KAG/B,IAFA,IAAI2rD,EAAcz+C,EAAK7B,OAAO2X,GAEvBA,EAAWhjB,GAAU,YAAYknB,QAAQykC,IAAgB,GAC5D3oC,IACA2oC,EAAcz+C,EAAK7B,OAAO2X,GAG9B,GAAoB,MAAhB2oC,GAAqD,MAA9Bz+C,EAAK7B,OAAO2X,EAAW,GAAY,CAC1D,IAAI4oC,EAAe5oC,EAGnB,IAFAA,GAAY,EACZ2oC,EAAcz+C,EAAK7B,OAAO2X,GACD,MAAhB2oC,GAAqD,MAA9Bz+C,EAAK7B,OAAO2X,EAAW,IAEnD,GADA2oC,EAAcz+C,EAAK7B,SAAS2X,GACxBA,GAAYhjB,EAEZ,KAAM,CACF0P,KAAM,QACNkpC,OAAO,IAAKpxC,OAASoxC,MACrB51B,SAAU4oC,GAMtB,OAFA5oC,GAAY,EACZ2oC,EAAcz+C,EAAK7B,OAAO2X,GACnBre,EAAKg4C,GAGhB,IAAe,IAAXA,GAAmC,MAAhBgP,EAEnB,OADA3oC,IACOjf,EAAO,QA7EN,WAOZ,IAJA,IAEIihC,EACA6mB,EAHAra,EAAQxuB,EACR8oC,EAAQ,EAGL9oC,EAAWhjB,GAAQ,CACtB,IAAI2rD,EAAcz+C,EAAK7B,OAAO2X,GAC9B,GAAoB,MAAhB2oC,GAAqD,OAA9Bz+C,EAAK7B,OAAO2X,EAAW,IAAyB,IAAV8oC,EAAa,CAG1E,GAAgB,MADhB9mB,EAAU93B,EAAK4/B,UAAU0E,EAAOxuB,IAE5B,KAAM,CACFtT,KAAM,QACNkpC,OAAO,IAAKpxC,OAASoxC,MACrB51B,SAAUA,GAOlB,IAJAA,IACA2oC,EAAcz+C,EAAK7B,OAAO2X,GAE1BwuB,EAAQxuB,EACe,MAAhB2oC,GAAuC,MAAhBA,GAC1B3oC,IACA2oC,EAAcz+C,EAAK7B,OAAO2X,GAG9B,OADA6oC,EAAQ3+C,EAAK4/B,UAAU0E,EAAOxuB,GAAY,IACnC,IAAIhQ,OAAOgyB,EAAS6mB,GAEV,MAAhBF,GAAuC,MAAhBA,GAAuC,MAAhBA,GAAsD,OAA9Bz+C,EAAK7B,OAAO2X,EAAW,IAC9F8oC,IAEiB,MAAhBH,GAAuC,MAAhBA,GAAuC,MAAhBA,GAAsD,OAA9Bz+C,EAAK7B,OAAO2X,EAAW,IAC9F8oC,IAGJ9oC,IAEJ,KAAM,CACFtT,KAAM,QACNkpC,OAAO,IAAKpxC,OAASoxC,MACrB51B,SAAUA,GAmCa+oC,IAG3B,GAAoB,MAAhBJ,GAAqD,MAA9Bz+C,EAAK7B,OAAO2X,EAAW,GAG9C,OADAA,GAAY,EACLjf,EAAO,WAAY,MAE9B,GAAoB,MAAhB4nD,GAAqD,MAA9Bz+C,EAAK7B,OAAO2X,EAAW,GAG9C,OADAA,GAAY,EACLjf,EAAO,WAAY,MAE9B,GAAoB,MAAhB4nD,GAAqD,MAA9Bz+C,EAAK7B,OAAO2X,EAAW,GAG9C,OADAA,GAAY,EACLjf,EAAO,WAAY,MAE9B,GAAoB,MAAhB4nD,GAAqD,MAA9Bz+C,EAAK7B,OAAO2X,EAAW,GAG9C,OADAA,GAAY,EACLjf,EAAO,WAAY,MAE9B,GAAoB,MAAhB4nD,GAAqD,MAA9Bz+C,EAAK7B,OAAO2X,EAAW,GAG9C,OADAA,GAAY,EACLjf,EAAO,WAAY,MAE9B,GAAoB,MAAhB4nD,GAAqD,MAA9Bz+C,EAAK7B,OAAO2X,EAAW,GAG9C,OADAA,GAAY,EACLjf,EAAO,WAAY,MAE9B,GAAoB,MAAhB4nD,GAAqD,MAA9Bz+C,EAAK7B,OAAO2X,EAAW,GAG9C,OADAA,GAAY,EACLjf,EAAO,WAAY,MAG9B,GAAIvB,OAAOI,UAAU0C,eAAe/B,KAAKioD,EAAWG,GAEhD,OADA3oC,IACOjf,EAAO,WAAY4nD,GAG9B,GAAoB,MAAhBA,GAAuC,MAAhBA,EAAqB,CAC5C,IAAIK,EAAYL,EAEhB3oC,IAEA,IADA,IAAIipC,EAAO,GACJjpC,EAAWhjB,GAAQ,CAEtB,GAAoB,QADpB2rD,EAAcz+C,EAAK7B,OAAO2X,IAItB,GAFAA,IACA2oC,EAAcz+C,EAAK7B,OAAO2X,GACtBxgB,OAAOI,UAAU0C,eAAe/B,KAAKkoD,EAASE,GAC9CM,GAAQR,EAAQE,OACb,IAAoB,MAAhBA,EAgBP,KAAM,CACFj8C,KAAM,QACNkpC,OAAO,IAAKpxC,OAASoxC,MACrB51B,SAAUA,EACVitB,MAAO0b,GAlBX,IAAIO,EAASh/C,EAAK6+B,OAAO/oB,EAAW,EAAG,GACvC,IAAI,iBAAiBjd,KAAKmmD,GAKtB,KAAM,CACFx8C,KAAM,QACNkpC,OAAO,IAAKpxC,OAASoxC,MACrB51B,SAAUA,GAPd,IAAImpC,EAAYnoB,SAASkoB,EAAQ,IACjCD,GAAQpoC,OAAOuqB,aAAa+d,GAC5BnpC,GAAY,MAkBjB,IAAI2oC,IAAgBK,EAEvB,OADAhpC,IACOjf,EAAO,SAAUkoD,GAExBA,GAAQN,EAEZ3oC,IAEJ,KAAM,CACFtT,KAAM,QACNkpC,OAAO,IAAKpxC,OAASoxC,MACrB51B,SAAUA,GAIlB,IAiBIld,EAhBA6yB,EADW,oDACM1lB,KAAK/F,EAAK4/B,UAAU9pB,IACzC,GAAc,OAAV2V,EAAgB,CAChB,IAAI8V,EAAM+Q,WAAW7mB,EAAM,IAC3B,IAAKnuB,MAAMikC,IAAQoM,SAASpM,GAExB,OADAzrB,GAAY2V,EAAM,GAAG34B,OACd+D,EAAO,SAAU0qC,GAExB,KAAM,CACF/+B,KAAM,QACNkpC,OAAO,IAAKpxC,OAASoxC,MACrB51B,SAAUA,EACVitB,MAAOtX,EAAM,IAMzB,GAAoB,MAAhBgzB,EAAqB,CAErB3oC,IACA,IAAIyuB,EAAMvkC,EAAKga,QAAQ,IAAKlE,GAC5B,IAAa,IAATyuB,EAGA,OAFA3rC,EAAOoH,EAAK4/B,UAAU9pB,EAAUyuB,GAChCzuB,EAAWyuB,EAAM,EACV1tC,EAAO,OAAQ+B,GAG1B,MADAkd,EAAWhjB,EACL,CACF0P,KAAM,QACNkpC,OAAO,IAAKpxC,OAASoxC,MACrB51B,SAAUA,GAMlB,IAFA,IACI45B,EADA38C,EAAI+iB,IAIJ,GADA45B,EAAK1vC,EAAK7B,OAAOpL,GACbA,IAAMD,GAAU,YAAYknB,QAAQ01B,IAAO,GAAKp6C,OAAOI,UAAU0C,eAAe/B,KAAKioD,EAAW5O,GAAK,CACrG,GAA8B,MAA1B1vC,EAAK7B,OAAO2X,GAIZ,OAFAld,EAAOoH,EAAK4/B,UAAU9pB,EAAW,EAAG/iB,GACpC+iB,EAAW/iB,EACJ8D,EAAO,WAAY+B,GAI1B,OAFAA,EAAOoH,EAAK4/B,UAAU9pB,EAAU/iB,GAChC+iB,EAAW/iB,EACH6F,GACJ,IAAK,KACL,IAAK,KACL,IAAK,MACD,OAAO/B,EAAO,WAAY+B,GAC9B,IAAK,OACD,OAAO/B,EAAO,SAAS,GAC3B,IAAK,QACD,OAAOA,EAAO,SAAS,GAC3B,IAAK,OACD,OAAOA,EAAO,QAAS,MAC3B,QACI,OAAIif,IAAahjB,GAAmB,KAAT8F,EAEhB,KAEJ/B,EAAO,OAAQ+B,SAIlC7F,KAKZ,OAAO0E,GAgiCX,OAzhCa,SAAUgoB,EAAQs+B,GAC3B,IAAI19C,EACA6+C,EAEAC,EAAe,GACfh/C,EAAS,GAETi/C,EAAkB,WAClB,IAAIC,EAAY,GACA,UAAZh/C,EAAKZ,IACL4/C,EAAU3nD,KAAK,CAACyD,KAAMkF,EAAKlF,KAAMnH,MAAOqM,EAAKrM,MAAO8hB,SAAUzV,EAAKyV,WAGvE,IADA,IAAIwpC,EAAMJ,IACK,OAARI,GACHD,EAAU3nD,KAAK4nD,GACfA,EAAMJ,IAEV,OAAOG,GAGPE,EAAc,CACdC,IAAK,WAED,IAAI9qD,EAAM,CACN8N,KAAM,QACNugC,MAAOzuC,KAAKN,MACZ8hB,SAAUxhB,KAAKwhB,UAGnB,GAAIioC,EAIA,OAHArpD,EAAI2qD,UAAYD,IAChB1qD,EAAIyG,KAAO,QACXgF,EAAOzI,KAAKhD,GACLA,EAGP,MADAA,EAAIg3C,OAAQ,IAAKpxC,OAASoxC,MACpBh3C,IAKd6hC,EAAS,SAAU92B,EAAIggD,GACvB,IAAIxb,EAAIkb,EAAa1/C,GAYrB,OAXAggD,EAAKA,GAAM,EACPxb,EACIwb,GAAMxb,EAAEyb,MACRzb,EAAEyb,IAAMD,KAGZxb,EAAI3uC,OAAOuB,OAAO0oD,IAChB9/C,GAAKwkC,EAAEjwC,MAAQyL,EACjBwkC,EAAEyb,IAAMD,EACRN,EAAa1/C,GAAMwkC,GAEhBA,GAGP0b,EAAc,SAAUjrD,GACxB,GAAIqpD,EAAS,CAETrpD,EAAI2qD,UAAYD,IAChBj/C,EAAOzI,KAAKhD,GACZ,IAAI6hC,EAAS4oB,EAAa,WAI1B,OAHA9+C,EAAO/K,OAAOuB,OAAO0/B,IAChBtiC,MAAQS,EACb2L,EAAKlF,KAAO,UACLkF,EAGP,MADA3L,EAAIg3C,OAAQ,IAAKpxC,OAASoxC,MACpBh3C,GAIVkrD,EAAU,SAAUngD,EAAIogD,GACxB,GAAIpgD,GAAMY,EAAKZ,KAAOA,EAAI,CACtB,IAOI/K,EAAM,CACN8N,KAPY,UAAZnC,EAAKZ,GAEE,QAEA,QAIPqW,SAAUzV,EAAKyV,SACfitB,MAAO1iC,EAAKrM,MACZA,MAAOyL,GAEX,OAAOkgD,EAAYjrD,GAEvB,IAAIorD,EAAaZ,EAAMW,GACvB,GAAmB,OAAfC,EAGA,OAFAz/C,EAAO8+C,EAAa,UACfrpC,SAAW2J,EAAO3sB,OAChBuN,EAEX,IAEIk2B,EAFAviC,EAAQ8rD,EAAW9rD,MACnBmH,EAAO2kD,EAAW3kD,KAEtB,OAAQA,GACJ,IAAK,OACL,IAAK,WACDo7B,EAAS4oB,EAAa,UACtB,MACJ,IAAK,WAED,KADA5oB,EAAS4oB,EAAanrD,IAElB,OAAO2rD,EAAY,CACfn9C,KAAM,QACNkpC,OAAO,IAAKpxC,OAASoxC,MACrB51B,SAAUgqC,EAAWhqC,SACrBitB,MAAO/uC,IAGf,MACJ,IAAK,SACL,IAAK,SACL,IAAK,QACDuiC,EAAS4oB,EAAa,aACtB,MACJ,IAAK,QACDhkD,EAAO,QACPo7B,EAAS4oB,EAAa,WACtB,MAEJ,QACI,OAAOQ,EAAY,CACfn9C,KAAM,QACNkpC,OAAO,IAAKpxC,OAASoxC,MACrB51B,SAAUgqC,EAAWhqC,SACrBitB,MAAO/uC,IAQnB,OAJAqM,EAAO/K,OAAOuB,OAAO0/B,IAChBviC,MAAQA,EACbqM,EAAKlF,KAAOA,EACZkF,EAAKyV,SAAWgqC,EAAWhqC,SACpBzV,GAIPsqB,EAAa,SAAUo1B,GACvB,IAAIlM,EACAtjB,EAAIlwB,EAGR,IAFAu/C,EAAQ,MAAM,GACd/L,EAAOtjB,EAAEivB,MACFO,EAAM1/C,EAAKq/C,KACdnvB,EAAIlwB,EACJu/C,IACA/L,EAAOtjB,EAAEyvB,IAAInM,GAEjB,OAAOA,GAGPoM,EAAW,SAAUxgD,GACb82B,EAAO92B,EAAI,GACjB+/C,IAAM,WACJ,OAAOlrD,OAOXurD,EAAQ,SAAUpgD,EAAIggD,EAAIO,GAC1B,IAAIE,EAAeT,GAAMnB,EAAU7+C,GAC/BwkC,EAAI1N,EAAO92B,EAAIygD,GAOnB,OANAjc,EAAE+b,IAAMA,GAAO,SAAUnM,GAIrB,OAHAv/C,KAAKoiD,IAAM7C,EACXv/C,KAAKuiD,IAAMlsB,EAAWu1B,GACtB5rD,KAAK6G,KAAO,SACL7G,MAEJ2vC,GAMPkc,EAAS,SAAU1gD,EAAIggD,EAAIO,GAC3B,IAAI/b,EAAI1N,EAAO92B,EAAIggD,GAEnB,OADAxb,EAAE+b,IAAMA,EACD/b,GAKPwL,EAAS,SAAUhwC,EAAI+/C,GACvB,IAAIvb,EAAI1N,EAAO92B,GAMf,OALAwkC,EAAEub,IAAMA,GAAO,WAGX,OAFAlrD,KAAKq2B,WAAaA,EAAW,IAC7Br2B,KAAK6G,KAAO,QACL7G,MAEJ2vC,GAGXgc,EAAS,SACTA,EAAS,UACTA,EAAS,aACTA,EAAS,WACT1pB,EAAO,KACPA,EAAO,KACPA,EAAO,KACPA,EAAO,KACPA,EAAO,KACPA,EAAO,KACPA,EAAO,MACPspB,EAAM,KACNA,EAAM,KACNA,EAAM,KACNA,EAAM,KACNA,EAAM,KACNA,EAAM,KACNA,EAAM,KACNA,EAAM,KACNA,EAAM,KACNA,EAAM,MACNA,EAAM,MACNA,EAAM,MACNA,EAAM,KACNA,EAAM,OACNA,EAAM,MACNA,EAAM,MACNI,EAAS,OACTA,EAAS,MACTA,EAAS,MACTxQ,EAAO,KACPoQ,EAAM,MAENM,EAAO,UAAW,IAAI,SAAUtM,GAM5B,OALAv/C,KAAKoiD,IAAM7C,EAEXv/C,KAAKL,MAAQoM,EAAKpM,MAClBK,KAAK+qD,UAAYD,IACjB9qD,KAAK6G,KAAO,QACL7G,QAIXm7C,EAAO,KAAK,WAER,OADAn7C,KAAK6G,KAAO,WACL7G,QAIXm7C,EAAO,MAAM,WAET,OADAn7C,KAAK6G,KAAO,aACL7G,QAIXm7C,EAAO,KAAK,WAER,OADAn7C,KAAK6G,KAAO,SACL7G,QAIXurD,EAAM,IAAKvB,EAAU,MAAM,SAAUzK,GAKjC,GAHAv/C,KAAK8kD,UAAYvF,EACjBv/C,KAAK6G,KAAO,WACZ7G,KAAKE,UAAY,GACD,MAAZ6L,EAAKZ,GACL,KACsB,aAAdY,EAAKlF,MAAmC,MAAZkF,EAAKZ,IAEjCnL,KAAK6G,KAAO,UACZ7G,KAAKE,UAAUkD,KAAK2I,GACpBu/C,EAAQ,MAERtrD,KAAKE,UAAUkD,KAAKizB,EAAW,IAEnB,MAAZtqB,EAAKZ,IACTmgD,EAAQ,KAKhB,GAFAA,EAAQ,KAAK,GAEK,SAAd/L,EAAK14C,OAAmC,aAAf04C,EAAK7/C,OAAuC,MAAf6/C,EAAK7/C,OAAqB,CAehF,GAbAM,KAAKE,UAAUsH,SAAQ,SAAUhI,EAAKimB,GAClC,GAAiB,aAAbjmB,EAAIqH,KACJ,OAAOwkD,EAAY,CACfn9C,KAAM,QACNkpC,OAAO,IAAKpxC,OAASoxC,MACrB51B,SAAUhiB,EAAIgiB,SACditB,MAAOjvC,EAAIE,MACXA,MAAO+lB,EAAQ,OAI3BzlB,KAAK6G,KAAO,SAEI,MAAZkF,EAAKZ,GAAY,CAIjB,IAHA,IAAI2gD,EAAS//C,EAAKyV,SACd8oC,EAAQ,EACRyB,EAAM,IACHzB,EAAQ,GAAiB,MAAZv+C,EAAKZ,IAA0B,UAAZY,EAAKZ,IAAgB,CACxD,IAAI6gD,EAAMV,IACK,MAAXU,EAAI7gD,GACJm/C,IACkB,MAAX0B,EAAI7gD,IACXm/C,IAEJyB,GAAOC,EAAItsD,MAEf4rD,EAAQ,KACR,IACItrD,KAAKglD,UAAYjE,EAAegL,GAClC,MAAO3rD,GAGL,OADAA,EAAIohB,SAAWsqC,EAAS1rD,EAAI4zC,OACrBqX,EAAYjrD,IAI3BkrD,EAAQ,KACRtrD,KAAKytB,KAAO4I,EAAW,GACvBi1B,EAAQ,KAEZ,OAAOtrD,QAIXm7C,EAAO,KAAK,WAER,IADA,IAAIqI,EAAc,GACC,MAAZz3C,EAAKZ,KACRq4C,EAAYpgD,KAAKizB,EAAW,IACZ,MAAZtqB,EAAKZ,KAGTmgD,EAAQ,KAKZ,OAHAA,EAAQ,KAAK,GACbtrD,KAAK6G,KAAO,QACZ7G,KAAKwjD,YAAcA,EACZxjD,QAIXm7C,EAAO,KAAK,WACR,IAAIzoB,EAAI,GACR,GAAgB,MAAZ3mB,EAAKZ,GACL,OAAU,CACN,IAAIwP,EAAO0b,EAAW,GACtB,GAAgB,OAAZtqB,EAAKZ,GAAa,CAElB,IAAI8gD,EAAQ,CAACplD,KAAM,SAAUnH,MAAO,KAAM8hB,SAAUzV,EAAKyV,SAAU4gC,IAAKznC,GACxE2wC,EAAQ,MACRW,EAAM1J,IAAMlsB,EAAW,GACvB1b,EAAOsxC,EAGX,GADAv5B,EAAEtvB,KAAKuX,GACS,MAAZ5O,EAAKZ,GACL,MAEJmgD,EAAQ,KAMhB,OAHAA,EAAQ,KAAK,GACbtrD,KAAKwjD,YAAc9wB,EACnB1yB,KAAK6G,KAAO,QACL7G,QAIXurD,EAAM,IAAKvB,EAAU,MAAM,SAAUzK,GACjC,GAAgB,MAAZxzC,EAAKZ,GAAY,CAGjB,IADA,IAAIu2C,EAAOnC,EACJmC,GAAsB,WAAdA,EAAK76C,MAAoC,MAAf66C,EAAKhiD,OAC1CgiD,EAAOA,EAAKU,IAIhB,OAFAV,EAAK8E,WAAY,EACjB8E,EAAQ,KACD/L,EAMP,OAJAv/C,KAAKoiD,IAAM7C,EACXv/C,KAAKuiD,IAAMlsB,EAAW2zB,EAAU,MAChChqD,KAAK6G,KAAO,SACZykD,EAAQ,KAAK,GACNtrD,QAKfurD,EAAM,IAAKvB,EAAU,MAAM,SAAUzK,GACjC+L,EAAQ,KAER,IADA,IAAIxD,EAAQ,KACF,CACN,IAAIC,EAAO,CACPG,YAAY,GAchB,GAZgB,MAAZn8C,EAAKZ,GAELmgD,EAAQ,KACW,MAAZv/C,EAAKZ,KAEZ48C,EAAKG,YAAa,EAClBoD,EAAQ,MAIZvD,EAAK1xB,WAAaA,EAAW,GAC7ByxB,EAAM1kD,KAAK2kD,GACK,MAAZh8C,EAAKZ,GACL,MAEJmgD,EAAQ,KAMZ,OAJAA,EAAQ,KACRtrD,KAAKoiD,IAAM7C,EACXv/C,KAAKuiD,IAAMuF,EACX9nD,KAAK6G,KAAO,SACL7G,QAGX,IAAIksD,EAAe,SAAU3M,GACzB,IAAI7sB,EAAI,GACR,GAAgB,MAAZ3mB,EAAKZ,GACL,OAAU,CACN,IAAIhH,EAAIkyB,EAAW,GACnBi1B,EAAQ,KACR,IAAI12C,EAAIyhB,EAAW,GAEnB,GADA3D,EAAEtvB,KAAK,CAACe,EAAGyQ,IACK,MAAZ7I,EAAKZ,GACL,MAEJmgD,EAAQ,KAchB,OAXAA,EAAQ,KAAK,QACO,IAAT/L,GAEPv/C,KAAKoiD,IAAM1vB,EACX1yB,KAAK6G,KAAO,UAGZ7G,KAAKoiD,IAAM7C,EACXv/C,KAAKuiD,IAAM7vB,EACX1yB,KAAK6G,KAAO,UAET7G,MAIXm7C,EAAO,IAAK+Q,GAGZX,EAAM,IAAKvB,EAAU,KAAMkC,GAG3BL,EAAO,KAAM7B,EAAU,OAAO,SAAUzK,GACpC,MAAkB,aAAdA,EAAK14C,KACEwkD,EAAY,CACfn9C,KAAM,QACNkpC,OAAO,IAAKpxC,OAASoxC,MACrB51B,SAAU+9B,EAAK/9B,SACfitB,MAAO8Q,EAAK7/C,SAGpBM,KAAKoiD,IAAM7C,EACXv/C,KAAKuiD,IAAMlsB,EAAW2zB,EAAU,MAAQ,GACxChqD,KAAK6G,KAAO,SACL7G,SAIXurD,EAAM,IAAKvB,EAAU,MAAM,SAAUzK,GAGjC,OAFAv/C,KAAKoiD,IAAM7C,EACXv/C,KAAKuiD,IAAMlsB,EAAW2zB,EAAU,MACX,aAAlBhqD,KAAKuiD,IAAI17C,KACDwkD,EAAY,CACfn9C,KAAM,QACNkpC,OAAO,IAAKpxC,OAASoxC,MACrB51B,SAAUxhB,KAAKuiD,IAAI/gC,SACnBitB,MAAO,OAGfzuC,KAAK6G,KAAO,SACL7G,SAIXurD,EAAM,IAAKvB,EAAU,MAAM,SAAUzK,GAGjC,OAFAv/C,KAAKoiD,IAAM7C,EACXv/C,KAAKuiD,IAAMlsB,EAAW2zB,EAAU,MACX,aAAlBhqD,KAAKuiD,IAAI17C,KACDwkD,EAAY,CACfn9C,KAAM,QACNkpC,OAAO,IAAKpxC,OAASoxC,MACrB51B,SAAUxhB,KAAKuiD,IAAI/gC,SACnBitB,MAAO,OAGfzuC,KAAK6G,KAAO,SACL7G,SAIXurD,EAAM,IAAKvB,EAAU,MAAM,SAAUzK,GASjC,OARAv/C,KAAK6G,KAAO,YACZ7G,KAAKi/C,UAAYM,EACjBv/C,KAAKF,KAAOu2B,EAAW,GACP,MAAZtqB,EAAKZ,KAELmgD,EAAQ,KACRtrD,KAAKikD,KAAO5tB,EAAW,IAEpBr2B,QAIXm7C,EAAO,KAAK,WAUR,OATAn7C,KAAK6G,KAAO,YACZ7G,KAAKwjC,QAAUnN,EAAW,GAC1Bi1B,EAAQ,KACRtrD,KAAK+lD,OAAS1vB,EAAW,GACT,MAAZtqB,EAAKZ,KACLmgD,EAAQ,KACRtrD,KAAKw9B,OAASnH,EAAW,IAE7Bi1B,EAAQ,KACDtrD,QAQX,IAAImsD,EAAmB,SAAUhL,GAC7B,IAAIv5C,EACJ,GAAkB,aAAdu5C,EAAKt6C,MAAwBs6C,EAAKiF,UAI/B,GAAkB,cAAdjF,EAAKt6C,KAEZs6C,EAAKrhD,KAAOqsD,EAAiBhL,EAAKrhD,WACT,IAAdqhD,EAAK8C,OACZ9C,EAAK8C,KAAOkI,EAAiBhL,EAAK8C,OAEtCr8C,EAASu5C,OACN,GAAkB,UAAdA,EAAKt6C,KAAkB,CAE9B,IAAIrI,EAAS2iD,EAAKqC,YAAYhlD,OAC1BA,EAAS,IACT2iD,EAAKqC,YAAYhlD,EAAS,GAAK2tD,EAAiBhL,EAAKqC,YAAYhlD,EAAS,KAE9EoJ,EAASu5C,OAETv5C,EAASu5C,MAnBoC,CAC7C,IAAI8D,EAAQ,CAACp+C,KAAM,SAAUo+C,OAAO,EAAM/kD,UAAW,GAAIshB,SAAU2/B,EAAK3/B,UACxEyjC,EAAMx3B,KAAO0zB,EACbv5C,EAASq9C,EAkBb,OAAOr9C,GAGPwkD,EAAgB,EAChBC,EAAgB,EAChBjD,EAAW,GAEXkD,EAAa,SAAUvgD,EAAMi4C,GAC7B,OAAQj4C,EAAKlF,MACT,IAAK,OACL,IAAK,WACDm9C,EAAKuI,QACa,IAAfvI,EAAKuI,aACyB,IAAlBxgD,EAAKq7C,WAIZgC,EAASpF,EAAKv+B,OAAOu+B,KAAK92C,MAAQnB,EAAKq7C,SAASl6C,OAHhDnB,EAAKq7C,SAAWpD,EAMpBj4C,EAAK8zB,OAAQ,GAEjB,MACJ,IAAK,SACDmkB,EAAKuI,QACL,MACJ,IAAK,QAEExgD,EAAKy3C,YAAYhlD,OAAS,IACzBuN,EAAK8zB,OAAQ,EACbmkB,EAAOsI,EAAWvgD,EAAKy3C,YAAYz3C,EAAKy3C,YAAYhlD,OAAS,GAAIwlD,IAErE,MACJ,IAAK,OAEDj4C,EAAK8zB,OAAQ,EACb,IAAIpa,EAAQ1Z,EAAKw1C,MAAM/iD,OAAS,EAEhC,IADAwlD,EAAOsI,EAAWvgD,EAAKw1C,MAAM97B,KAAUu+B,GAChCA,EAAKuI,MAAQ,GAAK9mC,GAAS,GAE9Bu+B,EAAOsI,EAAWvgD,EAAKw1C,MAAM97B,KAAUu+B,GAE3C,MACJ,QAEI,KAAM,CACF91C,KAAM,QACNugC,MAAO1iC,EAAKlF,KACZ2a,SAAUzV,EAAKyV,UAG3B,OAAOwiC,GAGPwI,EAAe,SAAS5kD,EAAQlI,GAChC,QAAkC,IAAxBA,EAAM+sD,eAAgD,WAAf/sD,EAAMmH,KAAmB,CACtE,IAAI6lD,OAAwC,IAAxBhtD,EAAM+sD,cAAiC/sD,EAAM+sD,cAAgB,GAC9D,WAAf/sD,EAAMmH,MACN6lD,EAAMtpD,KAAK1D,EAAMskD,WAEc,IAAzBp8C,EAAO6kD,cACb7kD,EAAO6kD,cAAgBC,EAEvB/tD,MAAMyC,UAAUgC,KAAKjD,MAAMyH,EAAO6kD,cAAeC,KAKzDC,EAAkB,SAASjhD,GAC3B,IAAI+Z,EAAQ/Z,EAAK61C,MAAM/iD,OAAS,EAC5BouD,EAAWlhD,EAAK61C,MAAM97B,GACtBinC,OAA2C,IAA3BE,EAASH,cAAiCG,EAASH,cAAgB,GACjE,WAAlBG,EAAS/lD,MACT6lD,EAAMtpD,KAAKwpD,EAAS5I,MAExB,IAAI,IAAIxL,EAAK,EAAGA,EAAKkU,EAAMluD,OAAQg6C,IAAM,CACrC,IAAIwL,EAAO0I,EAAMlU,GAEjB,IADA/yB,EAAQ/Z,EAAK61C,MAAM/iD,OAAS,EACrBwlD,EAAKuI,MAAQ,GAAG,CACnB,GAAI9mC,EAAQ,EAAG,MACsB,IAAvB/Z,EAAK+gD,cACX/gD,EAAK+gD,cAAgB,CAACzI,GAEtBt4C,EAAK+gD,cAAcrpD,KAAK4gD,GAE5B,MAKJ,IAFA,IAAItC,EAAOh2C,EAAK61C,MAAM97B,KAEhBA,GAAS,GAAKi8B,EAAKI,OAASp2C,EAAK61C,MAAM97B,GAAOq8B,OAChDJ,EAAOh2C,EAAK61C,MAAM97B,KAEtBu+B,EAAOsI,EAAW5K,EAAMsC,MAWhC6I,EAAa,SAAU1L,GACvB,IAAIv5C,EACJ,OAAQu5C,EAAKt6C,MACT,IAAK,SACD,OAAQs6C,EAAKzhD,OACT,IAAK,IACD,IAAIotD,EAAQD,EAAW1L,EAAKiB,KAGxBx6C,EADe,SAAfklD,EAAMjmD,KACGimD,EAEA,CAACjmD,KAAM,OAAQ06C,MAAO,CAACuL,IAElB,WAAfA,EAAMjmD,OACLe,EAAO6kD,cAAgB,CAACK,EAAM9I,OAElC,IAAI+I,EAAOF,EAAW1L,EAAKoB,KACT,aAAdwK,EAAKlmD,MACmB,SAAxBkmD,EAAKjI,UAAUj+C,MACiB,IAAhCkmD,EAAKjI,UAAUvD,MAAM/iD,QACY,SAAjCuuD,EAAKjI,UAAUvD,MAAM,GAAG16C,MACuB,aAA/Ce,EAAO25C,MAAM35C,EAAO25C,MAAM/iD,OAAS,GAAGqI,OAEtCe,EAAO25C,MAAM35C,EAAO25C,MAAM/iD,OAAS,GAAG2nD,aAAe4G,EAAKjI,UAAUvD,MAAM,GAAG7hD,OAE/D,SAAdqtD,EAAKlmD,KACLlI,MAAMyC,UAAUgC,KAAKjD,MAAMyH,EAAO25C,MAAOwL,EAAKxL,aAEjB,IAAnBwL,EAAK3G,YACX2G,EAAKnG,OAASmG,EAAK3G,iBACZ2G,EAAK3G,WAEhBx+C,EAAO25C,MAAMn+C,KAAK2pD,IAGtBnlD,EAAO25C,MAAM90C,QAAO,SAAUi1C,GAC1B,GAAkB,WAAdA,EAAK76C,MAAmC,UAAd66C,EAAK76C,KAE/B,KAAM,CACFqH,KAAM,QACNkpC,OAAO,IAAKpxC,OAASoxC,MACrB51B,SAAUkgC,EAAKlgC,SACf9hB,MAAOgiD,EAAKhiD,OAGpB,MAAqB,WAAdgiD,EAAK76C,QACbW,SAAQ,SAAUwlD,GACjBA,EAAInmD,KAAO,UAGXe,EAAO25C,MAAM90C,QAAO,SAAUi1C,GAC9B,OAA0B,IAAnBA,EAAK8E,aACbhoD,OAAS,IACRoJ,EAAOm6C,oBAAqB,GAGhC,IAAIkL,EAAYrlD,EAAO25C,MAAM,GACN,UAAnB0L,EAAUpmD,MAAwC,MAApBomD,EAAUvtD,QACxCutD,EAAUtL,WAAY,GAG1B,IAAIiL,EAAWhlD,EAAO25C,MAAM35C,EAAO25C,MAAM/iD,OAAS,GAC5B,UAAlBouD,EAAS/lD,MAAuC,MAAnB+lD,EAASltD,QACtCktD,EAASjL,WAAY,GAEzBgL,EAAgB/kD,GAChB,MACJ,IAAK,IAKD,IAAI85C,EADJ95C,EAASilD,EAAW1L,EAAKiB,KAErBv7C,EAAO,YAKX,GAJoB,SAAhBe,EAAOf,OACP66C,EAAO95C,EAAO25C,MAAM35C,EAAO25C,MAAM/iD,OAAS,GAC1CqI,EAAO,eAEe,IAAf66C,EAAKvS,MACZ,KAAM,CACFjhC,KAAM,QACNkpC,OAAO,IAAKpxC,OAASoxC,MACrB51B,SAAU2/B,EAAK3/B,eAGG,IAAfkgC,EAAK76C,KACZ66C,EAAK76C,GAAQ,IAEjB,IAAIu/C,EAAYyG,EAAW1L,EAAKoB,UACM,IAA5B6D,EAAUqG,gBAChBrG,EAAUqG,cAAcjlD,SAAQw8C,IACV,IAAfA,EAAKuI,MACJD,EAAW5K,EAAMsC,GAEjBA,EAAKuI,WAGbC,EAAa9K,EAAM0E,IAEvB1E,EAAK76C,GAAMzD,KAAK,CAACyD,KAAM,SAAUs6C,KAAMiF,EAAW5kC,SAAU2/B,EAAK3/B,WACjE,MACJ,IAAK,IAKD,QAA4B,KAD5B5Z,EAASilD,EAAW1L,EAAKiB,MACPjT,MACd,KAAM,CACFjhC,KAAM,QACNkpC,OAAO,IAAKpxC,OAASoxC,MACrB51B,SAAU2/B,EAAK3/B,UAIvB5Z,EAAOunC,MAAQ,CACXiT,IAAKjB,EAAKoB,IAAIj2C,KAAI,SAAUo7C,GACxB,MAAO,CAACmF,EAAWnF,EAAK,IAAKmF,EAAWnF,EAAK,QAEjDlmC,SAAU2/B,EAAK3/B,UAEnB,MACJ,IAAK,IAKmB,UADpB5Z,EAASilD,EAAW1L,EAAKiB,MACdv7C,OACPe,EAAS,CAACf,KAAM,OAAQ06C,MAAO,CAAC35C,KAEpC,IAAIslD,EAAW,CAACrmD,KAAM,OAAQ2a,SAAU2/B,EAAK3/B,UAC7C0rC,EAASpF,MAAQ3G,EAAKoB,IAAIj2C,KAAI,SAAUw7C,GACpC,IAAIzxB,EAAaw2B,EAAW/E,EAAMzxB,YAElC,OADAm2B,EAAaU,EAAU72B,GAChB,CACH6xB,WAAYJ,EAAMI,WAClB7xB,WAAYA,MAGpBzuB,EAAO25C,MAAMn+C,KAAK8pD,GAClBP,EAAgB/kD,GAChB,MACJ,IAAK,MACDA,EAAS,CAACf,KAAM,OAAQnH,MAAOyhD,EAAKzhD,MAAO8hB,SAAU2/B,EAAK3/B,WACnD4gC,IAAMyK,EAAW1L,EAAKiB,KAC7Bx6C,EAAO26C,IAAMsK,EAAW1L,EAAKoB,KAC7BiK,EAAa5kD,EAAQA,EAAO26C,KAC5B,MACJ,IAAK,IAQD,GAPA36C,EAASilD,EAAW1L,EAAKiB,KACzBV,EAAO95C,EACa,SAAhBA,EAAOf,OACP66C,EAAO95C,EAAO25C,MAAM35C,EAAO25C,MAAM/iD,OAAS,SAIpB,IAAhBkjD,EAAKkF,aAAoD,IAAnBlF,EAAK0E,UACjD,KAAM,CACFl4C,KAAM,QACNkpC,OAAO,IAAKpxC,OAASoxC,MACrB51B,SAAU2/B,EAAK3/B,UAIvB,GAAiB,SAAdkgC,EAAK76C,KACJ,KAAM,CACFqH,KAAM,QACNkpC,OAAO,IAAKpxC,OAASoxC,MACrB51B,SAAU2/B,EAAK3/B,UAGpB2/B,EAAKqF,YACJ9E,EAAK8E,WAAY,GAErB9E,EAAKI,MAAQX,EAAKoB,IAAI7iD,MACtBgiD,EAAK7hB,OAAQ,EACb,MACJ,IAAK,IACDj4B,EAASilD,EAAW1L,EAAKiB,KACzBV,EAAO95C,EACa,SAAhBA,EAAOf,KACP66C,EAAO95C,EAAO25C,MAAM35C,EAAO25C,MAAM/iD,OAAS,IAE1CoJ,EAAS,CAACf,KAAM,OAAQ06C,MAAO,CAAC35C,SACF,IAAnB85C,EAAK0E,YACZ1E,EAAKkF,OAASlF,EAAK0E,iBACZ1E,EAAK0E,iBAGO,IAAhB1E,EAAKkF,OACZlF,EAAKj8B,MAAQ07B,EAAKoB,IAAI7iD,MAEtBgiD,EAAKkF,OAAOxjD,KAAK,CAACyD,KAAM,QAASnH,MAAOyhD,EAAKoB,IAAI7iD,MAAO8hB,SAAU2/B,EAAK3/B,WAE3EkgC,EAAK7hB,OAAQ,EACb,MACJ,IAAK,MACDj4B,EAAS,CAACf,KAAM,QAASnH,MAAOyhD,EAAKzhD,MAAO8hB,SAAU2/B,EAAK3/B,WACpD4gC,IAAMyK,EAAW1L,EAAKiB,KAC7Bx6C,EAAO26C,IAAMsK,EAAW1L,EAAKoB,KAC7B,MACJ,SACI36C,EAAS,CAACf,KAAMs6C,EAAKt6C,KAAMnH,MAAOyhD,EAAKzhD,MAAO8hB,SAAU2/B,EAAK3/B,WACtD4gC,IAAMyK,EAAW1L,EAAKiB,KAC7Bx6C,EAAO26C,IAAMsK,EAAW1L,EAAKoB,KAC7BiK,EAAa5kD,EAAQA,EAAOw6C,KAC5BoK,EAAa5kD,EAAQA,EAAO26C,KAEpC,MACJ,IAAK,QACD36C,EAAS,CAACf,KAAMs6C,EAAKt6C,KAAMnH,MAAOyhD,EAAKzhD,MAAO8hB,SAAU2/B,EAAK3/B,UAC1C,MAAf2/B,EAAKzhD,MAELkI,EAAO47C,YAAcrC,EAAKqC,YAAYl3C,KAAI,SAAUqO,GAChD,IAAIjb,EAAQmtD,EAAWlyC,GAEvB,OADA6xC,EAAa5kD,EAAQlI,GACdA,KAEW,MAAfyhD,EAAKzhD,MAEZkI,EAAOw6C,IAAMjB,EAAKiB,IAAI91C,KAAI,SAAUo7C,GAChC,IAAInoD,EAAMstD,EAAWnF,EAAK,IAC1B8E,EAAa5kD,EAAQrI,GACrB,IAAIG,EAAQmtD,EAAWnF,EAAK,IAE5B,OADA8E,EAAa5kD,EAAQlI,GACd,CAACH,EAAKG,OAIjBkI,EAAOyuB,WAAaw2B,EAAW1L,EAAK9qB,YAEjB,MAAf8qB,EAAKzhD,OAA4C,WAA3BkI,EAAOyuB,WAAWxvB,MACxCe,EAASA,EAAOyuB,YACT32B,OAASkI,EAAOlI,MAEvB8sD,EAAa5kD,EAAQA,EAAOyuB,aAGpC,MACJ,IAAK,WACL,IAAK,WACDzuB,EAAS,CAACf,KAAMs6C,EAAKt6C,KAAMvC,KAAM68C,EAAK78C,KAAM5E,MAAOyhD,EAAKzhD,MAAO8hB,SAAU2/B,EAAK3/B,WACvEthB,UAAYihD,EAAKjhD,UAAUoM,KAAI,SAAU9M,GAC5C,IAAI2tD,EAASN,EAAWrtD,GAExB,OADAgtD,EAAa5kD,EAAQulD,GACdA,KAEXvlD,EAAOk9C,UAAY+H,EAAW1L,EAAK2D,WACnC,MACJ,IAAK,SACDl9C,EAAS,CACLf,KAAMs6C,EAAKt6C,KACX3G,UAAWihD,EAAKjhD,UAChB8kD,UAAW7D,EAAK6D,UAChBxjC,SAAU2/B,EAAK3/B,UAEnB,IAAIiM,EAAOo/B,EAAW1L,EAAK1zB,MAC3B7lB,EAAO6lB,KAAO0+B,EAAiB1+B,GAC/B,MACJ,IAAK,aACD7lB,EAAS,CAACf,KAAMs6C,EAAKt6C,KAAM2a,SAAU2/B,EAAK3/B,WACnCy9B,UAAY4N,EAAW1L,EAAKlC,WACnCuN,EAAa5kD,EAAQA,EAAOq3C,WAC5Br3C,EAAO9H,KAAO+sD,EAAW1L,EAAKrhD,MAC9B0sD,EAAa5kD,EAAQA,EAAO9H,WACH,IAAdqhD,EAAK8C,OACZr8C,EAAOq8C,KAAO4I,EAAW1L,EAAK8C,MAC9BuI,EAAa5kD,EAAQA,EAAOq8C,OAEhC,MACJ,IAAK,aACDr8C,EAAS,CAACf,KAAMs6C,EAAKt6C,KAAM2a,SAAU2/B,EAAK3/B,WACnCgiB,QAAUqpB,EAAW1L,EAAK3d,SACjC57B,EAAOm+C,OAAS8G,EAAW1L,EAAK4E,aACL,IAAhB5E,EAAK3jB,SACZ51B,EAAO41B,OAASqvB,EAAW1L,EAAK3jB,SAEpC,MACJ,IAAK,SACD51B,EAAS,CAACf,KAAMs6C,EAAKt6C,KAAM2a,SAAU2/B,EAAK3/B,WAEnCgiC,YAAcrC,EAAKqC,YAAYl3C,KAAI,SAAUqO,GAChD,IAAIu5B,EAAO2Y,EAAWlyC,GAKtB,OAJA6xC,EAAa5kD,EAAQssC,IACjBA,EAAKyN,WAA4B,SAAdzN,EAAKrtC,MAAmBqtC,EAAKqN,MAAM,GAAGI,aACzD/5C,EAAO+5C,WAAY,GAEhBzN,KAIX,MACJ,IAAK,OACDtsC,EAAS,CAACf,KAAM,OAAQ06C,MAAO,CAACJ,IAC5BA,EAAKqF,YACL5+C,EAAOm6C,oBAAqB,GAEhC,MACJ,IAAK,SACDn6C,EAAS,CAACf,KAAM,SAAUm9C,KAAM,CAAE92C,MAAO,IAAMk/C,IAAiBG,MAAO,EAAG9mC,MAAO4mC,MACjFjD,EAAShmD,KAAKwE,GACd,MACJ,IAAK,SACL,IAAK,SACL,IAAK,QACL,IAAK,WACL,IAAK,aACL,IAAK,WACL,IAAK,QACDA,EAASu5C,EACT,MACJ,IAAK,WAED,GAAmB,QAAfA,EAAKzhD,OAAkC,OAAfyhD,EAAKzhD,OAAiC,OAAfyhD,EAAKzhD,MACpDyhD,EAAKt6C,KAAO,OACZe,EAASilD,EAAW1L,OACU,IAAmB,MAAfA,EAAKzhD,MAIvC,KAAM,CACFwO,KAAM,QACNkpC,OAAO,IAAKpxC,OAASoxC,MACrB51B,SAAU2/B,EAAK3/B,SACfitB,MAAO0S,EAAKzhD,OANhBkI,EAASu5C,EASb,MACJ,IAAK,QACDv5C,EAASu5C,EACLA,EAAKiB,MACLx6C,EAASilD,EAAW1L,EAAKiB,MAE7B,MACJ,QACI,IAAIl0C,EAAO,QAEK,UAAZizC,EAAKh2C,KACL+C,EAAO,SAEX,IAAI9N,EAAM,CACN8N,KAAMA,EACNsT,SAAU2/B,EAAK3/B,SACfitB,MAAO0S,EAAKzhD,OAEhB,GAAI+pD,EAEA,OADA59C,EAAOzI,KAAKhD,GACL,CAACyG,KAAM,QAASlH,MAAOS,GAG9B,MADAA,EAAIg3C,OAAQ,IAAKpxC,OAASoxC,MACpBh3C,EAMlB,OAHI+gD,EAAKqF,YACL5+C,EAAO4+C,WAAY,GAEhB5+C,GAIXgjD,EAAQV,EAAU/+B,GAClBmgC,IAEA,IAAInK,EAAO9qB,EAAW,GACtB,GAAgB,UAAZtqB,EAAKZ,GAAgB,CACrB,IAAI/K,EAAM,CACN8N,KAAM,QACNsT,SAAUzV,EAAKyV,SACfitB,MAAO1iC,EAAKrM,OAEhB2rD,EAAYjrD,GAIhB,GAAiB,YAFjB+gD,EAAO0L,EAAW1L,IAEVt6C,WAAmD,IAAvBs6C,EAAKsL,cAErC,KAAM,CACFv+C,KAAM,QACNugC,MAAO0S,EAAKt6C,KACZ2a,SAAU2/B,EAAK3/B,UAQvB,OAJI3V,EAAOrN,OAAS,IAChB2iD,EAAKt1C,OAASA,GAGXs1C,IAj1CA,GAu1Cf/iD,EAAOC,QAAU4iC,GAEf,CAAC,cAAc,IAAI,EAAE,CAAC,SAASpvB,EAAQzT,EAAOC,GAOhD,IAAIwrC,EAAQh4B,EAAQ,WAEpB,MAAMmzC,EAAY,MACd,aAIA,IAAIoI,EAAwB,CACxB,EAAK,SACL,EAAK,WACL,EAAK,YACL,EAAK,UACL,EAAK,UACL,EAAK,WAsST,OA9RA,SAAwBpI,GAQpB,IAJA,IAAIxjC,EAAW,EACX3S,EAAS,GACT25C,EAAQ,GACR6E,EAAY7E,EACThnC,EAAWwjC,EAAUxmD,QAAQ,CAChC,IAAIyjC,EAAS+iB,EAAUn7C,OAAO2X,GAC9B,GAAe,MAAXygB,EAGA,MAGJ,IAAI9+B,EAAO,WACP0L,EAAOzL,KAAKolD,GACZ6E,EAAY7E,EACZA,EAAQ,IAGR8E,EAAqB,SAAUn7C,EAAK69B,EAAOud,EAAYC,GAKvD,IAFA,IAAIlD,EAAQ,EACR9oC,EAAWwuB,EACRxuB,EAAWrP,EAAI3T,QAGlB,GAFAgjB,KACAygB,EAAS9vB,EAAItI,OAAO2X,MACLgsC,GAEX,GAAc,KADdlD,EAGI,WAEGroB,IAAWsrB,GAClBjD,IAGR,OAAO9oC,GAGX,OAAQygB,GACJ,IAAK,IACL,IAAK,IACL,IAAK,IACL,IAAK,IACL,IAAK,IACDumB,EAAMt2C,MAAQ,IAAM+vB,EAAS,KAC7BumB,EAAM3hD,KAAOo7B,EACb9+B,IACA,MACJ,IAAK,IAEDqlD,EAAMt2C,MAAQ,aACds2C,EAAM3hD,KAAOo7B,EACbumB,EAAMlqB,OAAQ,EACdn7B,IACA,MACJ,IAAK,IACDqlD,EAAMt2C,MAAQ,IACds2C,EAAM3hD,KAAOo7B,EACb9+B,IACA,MACJ,IAAK,IACDqlD,EAAMt2C,MAAQ,YACds2C,EAAM3hD,KAAOo7B,EACb9+B,IACA,MACJ,IAAK,IACDqlD,EAAMt2C,MAAQ,aACds2C,EAAM3hD,KAAOo7B,EACb9+B,IACA,MACJ,IAAK,IACDkqD,EAAU5nD,SAAU,EACpB4nD,EAAUI,aAAe,IAAIj8C,OAAO67C,EAAUn7C,OAC9Cm7C,EAAUn7C,OAAS,IACnB,MACJ,IAAK,IACL,IAAK,IACDm7C,EAAUn7C,OAAS+vB,EACnB,MACJ,IAAK,IAED,IAAIyrB,EAAWJ,EAAmBtI,EAAWxjC,EAAU,IAAK,KACxDmsC,EAAS3I,EAAU1Z,UAAU9pB,EAAW,EAAGksC,GAC/C,IAA6B,IAAzBC,EAAOjoC,QAAQ,KAKf,KAAM,CACFxX,KAAM,QACNkpC,OAAO,IAAKpxC,OAASoxC,MACrB13C,MAAOiuD,EACP3Z,OAAQxyB,GAPZgnC,EAAMt2C,MAAQ,IAAMy7C,EAAS,KAUjCnF,EAAM3hD,KAAO,IAAM8mD,EAAS,IAC5BnsC,EAAWksC,EACXvqD,IACA,MACJ,IAAK,IACD,GAAuB,MAAnBkqD,EAAUxmD,MAAmC,MAAnBwmD,EAAUxmD,KAMpC,KAAM,CACFqH,KAAM,QACNkpC,OAAO,IAAKpxC,OAASoxC,MACrB13C,MAAO2tD,EAAUxmD,KACjBmtC,OAAQxyB,GARZ,IAAIosC,EAASN,EAAmBtI,EAAWxjC,EAAU,IAAK,KAC1D6rC,EAAUQ,QAAU7I,EAAU1Z,UAAU9pB,EAAW,EAAGosC,GACtDpsC,EAAWosC,EAWvBpsC,IAEJ,IAAIssC,EAAW,IACXj/C,EAAOvC,KAAI,SAAUk8C,GACjB,MAAO,IAAMA,EAAMt2C,MAAQ,OAC5B/E,KAAK,IACR,IACA+E,EAAQ,IAAIV,OAAOs8C,GACnBC,EAAY,SAAUruD,GACtB,IAAIuiC,EACJ,GAAI4H,EAAM8N,WAAWj4C,GACjBuiC,EAAS,SAGT,cADkBviC,GAEd,IAAK,SACDuiC,EAAS,IACT,MACJ,IAAK,SACDA,EAAS,IACT,MACJ,IAAK,UACDA,EAAS,IACT,MACJ,IAAK,SAEGA,EADU,OAAVviC,EACS,IACFf,MAAME,QAAQa,GACZ,IAEA,IAEb,MAEJ,QAEIuiC,EAAS,IAGrB,OAAOA,GAgCX,MAAO,CACHgnB,WAAYjE,EACZv5C,SAAU,SAAUxL,EAAMwF,GACtB,IAAIuoD,EAAc,GAClB/tD,EAAKuH,SAAQ,SAAUhI,GACnBwuD,GAAeD,EAAUvuD,MAE7B,IAAIywB,EAAU/d,EAAMT,KAAKu8C,GACzB,GAAI/9B,EAAS,CACT,IAAIq4B,EAAgB,GAChB2F,EAAW,EA8Ef,OA7EAp/C,EAAOrH,SAAQ,SAAUghD,EAAO/iC,GAC5B,IAAIjmB,EAAMS,EAAKguD,GACX92B,EAAQlH,EAAQxK,EAAQ,GAC5B,GAAc,KAAV0R,EACA,GAAIqxB,EAAM/iD,SAAW+iD,EAAMiF,aAAc,CAGrC,IAAIS,EAAcH,EAAUtoD,GAE5B,IAAI+iD,EAAMiF,aAAalpD,KAAK2pD,GAIxB,KAAM,CACFhgD,KAAM,QACNkpC,OAAO,IAAKpxC,OAASoxC,MACrB13C,MAAO+F,EACPggB,MAAOwoC,EAAW,GAPtB3F,EAAcllD,KAAKqC,QAWvB6iD,EAAcllD,KAAK5D,GACnByuD,SAKJ92B,EAAMhmB,MAAM,IAAI3J,SAAQ,SAAU62C,GAC9B,GAAmB,MAAfmK,EAAM3hD,KAAc,CACpB,GAAe,MAAXw3C,EAEA7+C,OAAMa,MACH,CACHb,EAAMS,EAAKguD,GACX,IAAIE,GAAU,EAEd,QAA6B,IAAlB3F,EAAMqF,QACb,GAAe,MAAXxP,GAAkBlnB,IAAUqxB,EAAMqF,QAClCM,GAAU,OACP,GAAe,MAAX9P,GACH7+C,EAAIhB,OAAS,EAAG,CAChB,IAAI4vD,EAAWL,EAAUvuD,EAAI,IAEzB2uD,EADAC,IAAa5F,EAAMqF,QAAQhkD,OAAO,IAOG,IAHhBrK,EAAIiN,QAAO,SAAU4F,GACtC,OAAQ07C,EAAU17C,KAAS+7C,KAEL5vD,OAK1C,IAAK2vD,EACD,KAAM,CACFjgD,KAAM,QACNkpC,OAAO,IAAKpxC,OAASoxC,MACrB13C,MAAOF,EACPimB,MAAOwoC,EAAW,EAClBpnD,KAAMumD,EAAsB5E,EAAMqF,UAI3B,MAAXxP,IACA7+C,EAAM,CAACA,IAGf8oD,EAAcllD,KAAK5D,GACnByuD,SAEA3F,EAAcllD,KAAK5D,GACnByuD,UAKT3F,GArHQ,SAAU+F,EAASC,GAK1C,IAFA,IAAIC,EAAiB,IACjBC,EAAS,EACJ/oC,EAAQ,EAAGA,EAAQ5W,EAAOrQ,OAAQinB,IAAS,CAChD8oC,GAAkB1/C,EAAO4W,GAAOvT,MAChC,IAAIilB,EAAQm3B,EAAOn3B,MAAMo3B,GACzB,GAAc,OAAVp3B,EAEA,KAAM,CACFjpB,KAAM,QACNkpC,OAAO,IAAKpxC,OAASoxC,MACrB13C,MAAO2uD,EAAQG,GACf/oC,MAAO+oC,EAAS,GAGxBA,EAASr3B,EAAM,GAAG34B,OAItB,KAAM,CACF0P,KAAM,QACNkpC,OAAO,IAAKpxC,OAASoxC,MACrB13C,MAAO2uD,EAAQG,GACf/oC,MAAO+oC,EAAS,GA8FhBC,CAAqBxuD,EAAM+tD,OA5SzB,GAoTlB5vD,EAAOC,QAAU2mD,GAEf,CAAC,UAAU,IAAI,EAAE,CAAC,SAASnzC,EAAQzT,EAAOC,GAO5C,MAAMwrC,EAAQ,MACV,aAOA,SAASyN,EAAUnzC,GACf,IAAIuqD,GAAQ,EACZ,GAAgB,iBAANvqD,IACNuqD,GAAS1lD,MAAM7E,MACDk1C,SAASl1C,GACnB,KAAM,CACF+J,KAAM,QACNxO,MAAOyE,EACPizC,OAAO,IAAKpxC,OAASoxC,OAIjC,OAAOsX,EAmFX,IAEI9pD,GAF4B,mBAAXlC,OAAwBA,OAAS,IAEzBC,UAAY,aAgFzC,MAAO,CACH20C,UAAAA,EACAC,iBA/JJ,SAA0B/3C,GACtB,IAAIoI,GAAS,EAKb,OAHGjJ,MAAME,QAAQW,KACboI,EAAkF,IAAxEpI,EAAIiN,QAAO,SAASkO,GAAM,MAAuB,iBAATA,KAAqBnc,QAEpEoJ,GA0JP4vC,iBAlJJ,SAA0Bh4C,GACtB,IAAIoI,GAAS,EAIb,OAHGjJ,MAAME,QAAQW,KACboI,EAA0E,IAAhEpI,EAAIiN,QAAO,SAASkO,GAAM,OAAQ28B,EAAU38B,MAASnc,QAE5DoJ,GA8IP6vC,eAvIJ,WACI,IAAIgH,EAAW,GAKf,OAJAA,EAASA,UAAW,EACK,IAArBv+C,UAAU1B,QACVigD,EAASr7C,KAAKlD,UAAU,IAErBu+C,GAkIP/G,WA1HJ,SAAoBh4C,GAChB,OAA0B,IAAnBA,EAAM++C,UAAqB9/C,MAAME,QAAQa,IA0HhDi4C,WAlHJ,SAAoBn4C,GAChB,OAASA,KAAkC,IAA1BA,EAAI8lD,oBAAsD,IAAxB9lD,EAAIulD,kBAA6C,mBAARvlD,GAkH5Fo4C,SA9FJ,SAAkBp4C,GACd,OAAOA,IAA+B,IAAxBA,EAAIulD,iBA8FlBlN,WAlFJ,SAAoBr4C,GAChB,MACmB,iBAARA,GACC,OAARA,GACAoF,KAAkBpF,GAClB,SAAUA,GACU,mBAAbA,EAAI2D,MA6Ef20C,iBA5GJ,SAA0BY,GAItB,MAHkC,iBAAfA,EAAKgG,MAAqBhG,EAAKgG,MACf,mBAAxBhG,EAAK8M,eAAgC9M,EAAK8M,eAAehnD,OACrC,iBAAhBk6C,EAAKl6C,OAAsBk6C,EAAKl6C,OAASk6C,EAAKx4C,UAAU1B,QA0GvEw5C,YApEJ,SAASA,EAAYoK,EAAKG,GACtB,GAAIH,IAAQG,EACR,OAAO,EAEX,GAAkB,iBAARH,GAAmC,iBAARG,GAA4B,OAARH,GAAwB,OAARG,EAAc,CACnF,GAAG5jD,MAAME,QAAQujD,IAAQzjD,MAAME,QAAQ0jD,GAAM,CAGzC,GAAGH,EAAI5jD,SAAW+jD,EAAI/jD,OAClB,OAAO,EAGX,IAAI,IAAI2vC,EAAK,EAAGA,EAAKiU,EAAI5jD,OAAQ2vC,IAC7B,IAAI6J,EAAYoK,EAAIjU,GAAKoU,EAAIpU,IACzB,OAAO,EAGf,OAAO,EAIX,IAAIwgB,EAAQ3tD,OAAOg1C,oBAAoBoM,GACnCwM,EAAQ5tD,OAAOg1C,oBAAoBuM,GACvC,GAAGoM,EAAMnwD,SAAWowD,EAAMpwD,OACtB,OAAO,EAIX,IAFAmwD,EAAQA,EAAMzP,OACd0P,EAAQA,EAAM1P,OACV/Q,EAAG,EAAGA,EAAKwgB,EAAMnwD,OAAQ2vC,IACzB,GAAGwgB,EAAMxgB,KAAQygB,EAAMzgB,GACnB,OAAO,EAIf,IAAIA,EAAG,EAAGA,EAAKwgB,EAAMnwD,OAAQ2vC,IAAM,CAC/B,IAAI5uC,EAAMovD,EAAMxgB,GAChB,IAAI6J,EAAYoK,EAAI7iD,GAAMgjD,EAAIhjD,IAC1B,OAAO,EAGf,OAAO,EAEX,OAAO,GA2BPsrC,cAnBJ,SAAuB14B,GACnB,IAAI7T,EAAM,GACV,IAAK,IAAI82C,KAAQjjC,EACb7T,EAAI8E,KAAKgyC,GAEb,OAAO92C,KAtLD,GAwMdF,EAAOC,QAAUwrC,GAEf,KAAK,GAAG,CAAC,GA71OoW,CA61OhW,gCC31Of7oC,OAAOC,eAAe5C,EAAS,aAAc,CAC3CqB,OAAO,IAGT,IAAI2D,EAA4B,mBAAXX,QAAoD,iBAApBA,OAAOC,SAAwB,SAAUtB,GAAO,cAAcA,GAAS,SAAUA,GAAO,OAAOA,GAAyB,mBAAXqB,QAAyBrB,EAAImB,cAAgBE,QAAUrB,IAAQqB,OAAOtB,UAAY,gBAAkBC,GAIlQwtD,EAAW7tD,OAAO27B,QAAU,SAAUj8B,GAAU,IAAK,IAAIjC,EAAI,EAAGA,EAAIyB,UAAU1B,OAAQC,IAAK,CAAE,IAAI0sB,EAASjrB,UAAUzB,GAAI,IAAK,IAAIc,KAAO4rB,EAAcnqB,OAAOI,UAAU0C,eAAe/B,KAAKopB,EAAQ5rB,KAAQmB,EAAOnB,GAAO4rB,EAAO5rB,IAAY,OAAOmB,GAEnPouD,EAAe,WAAc,SAAS3zB,EAAiBz6B,EAAQC,GAAS,IAAK,IAAIlC,EAAI,EAAGA,EAAIkC,EAAMnC,OAAQC,IAAK,CAAE,IAAImC,EAAaD,EAAMlC,GAAImC,EAAWC,WAAaD,EAAWC,aAAc,EAAOD,EAAWE,cAAe,EAAU,UAAWF,IAAYA,EAAWG,UAAW,GAAMC,OAAOC,eAAeP,EAAQE,EAAWrB,IAAKqB,IAAiB,OAAO,SAAUL,EAAaW,EAAYC,GAAiJ,OAA9HD,GAAYi6B,EAAiB56B,EAAYa,UAAWF,GAAiBC,GAAag6B,EAAiB56B,EAAaY,GAAqBZ,GAA7gB,GAIfspC,EAEJ,SAAiCxoC,GAAO,GAAIA,GAAOA,EAAIzC,WAAc,OAAOyC,EAAc,IAAI0tD,EAAS,GAAI,GAAW,MAAP1tD,EAAe,IAAK,IAAI9B,KAAO8B,EAAWL,OAAOI,UAAU0C,eAAe/B,KAAKV,EAAK9B,KAAMwvD,EAAOxvD,GAAO8B,EAAI9B,IAAgC,OAAtBwvD,EAAO3jD,QAAU/J,EAAY0tD,EAFtPC,CAFC,EAAQ,OAwBjBC,EAA0B,iBAC1BC,EAA4B,qBAE5Bp1C,EAAmB,WAUrB,SAASA,EAAiBnZ,EAAOic,IA/BnC,SAAyBtc,EAAUC,GAAe,KAAMD,aAAoBC,GAAgB,MAAM,IAAIC,UAAU,qCAgC5G2uD,CAAgBnvD,KAAM8Z,GAGC,mBAAZ8C,IAETA,EAAU,CAAEwyC,wBAAyBxyC,IAGvC5c,KAAKyZ,MAAQo1C,EAAS,GAAI,CACxBO,wBAAyBvlB,EAAMwlB,qBAC/BC,QAAQ,EACRC,yBAAyB,EACzB71C,aAAa,GACZkD,GACH5c,KAAKwvD,mBAAqBxvD,KAAKyZ,MAAM21C,0BACrCpvD,KAAKyvD,UAAYzvD,KAAKwvD,mBACtBxvD,KAAKmZ,WAAWxY,GA6QlB,OApQAmuD,EAAah1C,EAAkB,CAAC,CAC9Bva,IAAK,aACLG,MAAO,SAAoBiB,GACzB,IAAI+uD,EAAQ1vD,KAIR2vD,EA5E0a,SAAUrxD,EAAKG,GAAK,GAAIE,MAAME,QAAQP,GAAQ,OAAOA,EAAY,GAAIoE,OAAOC,YAAY3B,OAAO1C,GAAQ,OAAxf,SAAuBA,EAAKG,GAAK,IAAIuE,EAAO,GAAQC,GAAK,EAAUC,GAAK,EAAWH,OAAK1C,EAAW,IAAM,IAAK,IAAiCyC,EAA7BD,EAAKvE,EAAIoE,OAAOC,cAAmBM,GAAMH,EAAKD,EAAGM,QAAQvD,QAAoBoD,EAAKI,KAAKN,EAAGpD,QAAYjB,GAAKuE,EAAKxE,SAAWC,GAA3DwE,GAAK,IAAoE,MAAO7C,GAAO8C,GAAK,EAAMH,EAAK3C,EAAO,QAAU,KAAW6C,GAAMJ,EAAW,QAAGA,EAAW,SAAO,QAAU,GAAIK,EAAI,MAAMH,GAAQ,OAAOC,EAA6H4sD,CAActxD,EAAKG,GAAa,MAAM,IAAI+B,UAAU,wDA2E5jBqvD,CADD7uD,OAAOwI,KAAK7I,GACkB,GACjB,GAEhCX,KAAK8vD,iBAAmBH,EACxB3vD,KAAK+vD,+BAAiC,GAEtC/vD,KAAKgwD,OAASrvD,EACdkpC,EAAMomB,wBAAwBjvD,OAAOwI,KAAK7I,EAAMX,KAAK8vD,oBAErD9uD,OAAOwI,KAAKxJ,KAAKgwD,OAAOhwD,KAAK8vD,mBAAmBtoD,SAAQ,SAAUjI,GACP,iBAA9CmwD,EAAMM,OAAON,EAAMI,kBAAkBvwD,IAC9CmwD,EAAMK,+BAA+B3sD,KAAK7D,MAI9CS,KAAK+R,YAAY/R,KAAKwvD,oBAElBxvD,KAAKyZ,MAAM61C,QACbtvD,KAAKkwD,iBAAiBlwD,KAAKgwD,UAS9B,CACDzwD,IAAK,mBACLG,MAAO,SAA0B2B,GAC/B,IAAI8uD,EAASnwD,KAEbgB,OAAOwI,KAAKnI,GAAKmG,SAAQ,SAAUhG,GACjC,GAA+B,WAA3B6B,EAAQhC,EAAIG,IACd2uD,EAAOD,iBAAiB7uD,EAAIG,SACvB,GAA6B,iBAAlBH,EAAIG,GAAwB,CAC5C,GAAmC,IAA/BH,EAAIG,GAAUkkB,QAAQ,MAAcrkB,EAAIG,GAAUstC,YAAY,OAASztC,EAAIG,GAAUhD,OAAS,EAEhG,OAIF,IADA,IAAI4xD,EAAS/uD,EAAIG,GAAU2P,MAAM,KACxB1S,EAAI,EAAGA,EAAI2xD,EAAO5xD,OAAQC,GAAK,EACtC,GAAI2xD,EAAO3xD,GAAG04B,MAAM83B,SAEb,GAAImB,EAAO3xD,GAAG04B,MAAM+3B,QAEpB,CACL,IAAI3wD,EAAM6xD,EAAO3xD,GAAGD,OAChB2xD,EAAO12C,MAAM81C,0BACfhxD,EAAMikC,SAAe,IAANjkC,EAAW,KAE5B6xD,EAAO3xD,GAAKorC,EAAMwmB,aAAa9xD,GAGnC8C,EAAIG,GAAY,IAAM4uD,EAAOjjD,KAAK,KAAO,UAW9C,CACD5N,IAAK,cACLG,MAAO,SAAqB0Z,GAC1B,IAAIk3C,EAAStwD,KAITuwD,EAAe1mB,EAAM2mB,wBAAwBp3C,EAAUpZ,KAAKgwD,QAC5DS,EAAkBzvD,OAAOwI,KAAKxJ,KAAKgwD,QAAQ,GAG/C,GAFAhwD,KAAKyvD,UAAYc,EAEbvwD,KAAKgwD,OAAOO,GAAe,CAE7B,IAAK,IAAI9xD,EAAI,EAAGA,EAAIuB,KAAK+vD,+BAA+BvxD,OAAQC,GAAK,SAC5DuB,KAAKA,KAAK+vD,+BAA+BtxD,IAElD,IAAIiyD,EAAmB7B,EAAS,GAAI7uD,KAAKgwD,OAAOhwD,KAAKyvD,YACrDzuD,OAAOwI,KAAKknD,GAAkBlpD,SAAQ,SAAUjI,GAC9C+wD,EAAO/wD,GAAOmxD,EAAiBnxD,MAG7BkxD,IAAoBzwD,KAAKyvD,YAC3BiB,EAAmB1wD,KAAKgwD,OAAOS,GAC/BzwD,KAAK2wD,gBAAgBD,EAAkB1wD,UAW5C,CACDT,IAAK,kBACLG,MAAO,SAAyBkxD,EAAgBC,GAC9C,IAAIC,EAAS9wD,KAEbgB,OAAOwI,KAAKonD,GAAgBppD,SAAQ,SAAUjI,GACxCyB,OAAOI,UAAU0C,eAAe/B,KAAK6uD,EAAgBrxD,KAASsxD,EAAQtxD,IAAyB,KAAjBsxD,EAAQtxD,IACxFsxD,EAAQtxD,GAAOqxD,EAAerxD,GAC1BuxD,EAAOr3C,MAAMC,aACfC,QAAQ8E,IAAI,cAAoClf,EAAM,gDAAkDuxD,EAAOrB,UAAY,QAE5F,iBAAjBoB,EAAQtxD,IAExBuxD,EAAOH,gBAAgBC,EAAerxD,GAAMsxD,EAAQtxD,SAUzD,CACDA,IAAK,cACLG,MAAO,WACL,OAAOM,KAAKyvD,YAOb,CACDlwD,IAAK,uBACLG,MAAO,WACL,OAAOM,KAAKwvD,qBAOb,CACDjwD,IAAK,wBACLG,MAAO,WACL,IAAIqxD,EAAS/wD,KAQb,OANKA,KAAKgxD,sBACRhxD,KAAKgxD,oBAAsB,GAC3BhwD,OAAOwI,KAAKxJ,KAAKgwD,QAAQxoD,SAAQ,SAAUjI,GACzCwxD,EAAOC,oBAAoB5tD,KAAK7D,OAG7BS,KAAKgxD,sBAYb,CACDzxD,IAAK,eACLG,MAAO,SAAsByS,GAG3B,IAFA,IAAI8+C,EAASjxD,KAEJkxD,EAAOhxD,UAAU1B,OAAQ2yD,EAAwBxyD,MAAMuyD,EAAO,EAAIA,EAAO,EAAI,GAAIE,EAAO,EAAGA,EAAOF,EAAME,IAC/GD,EAAsBC,EAAO,GAAKlxD,UAAUkxD,GAG9C,IAAIziC,EAAQxc,GAAO,GACE,iBAAVwc,IACTA,EAAQ3uB,KAAK6Z,UAAU1H,EAAK,MAAM,IAASwc,GAE7C,IAAI0iC,EAAM1iC,EAAMxd,MAAM+9C,GAA2BziD,QAAO,SAAU6kD,GAChE,QAASA,KACRhlD,KAAI,SAAUglD,GACf,GAAIA,EAASn6B,MAAM+3B,GAA4B,CAC7C,IAAIqC,EAAaD,EAASjtD,MAAM,GAAI,GAEpC,OADqB4sD,EAAOp3C,UAAU03C,KAElCN,EAAOx3C,MAAMC,aACfC,QAAQ8E,IAAI,kCAAoC6yC,EAAW,gBAAkBn/C,EAAM,KAG9E,WAAao/C,EAAa,KAEnC,OAAOD,KACNnkD,KAAK,IACR,OAAOkkD,EAAIlgD,MAAM89C,GAAyBxiD,QAAO,SAAU6kD,GACzD,QAASA,KACRhlD,KAAI,SAAUglD,GACf,GAAIA,EAASn6B,MAAM83B,GAA0B,CAC3C,IAAIsC,EAAaD,EAASjtD,MAAM,GAAI,GAChCmtD,EAAsBL,EAAsBI,GAEhD,QAA4BlxD,IAAxBmxD,EAAmC,CACrC,IAAIC,EAA6BN,EAAsB,GAAGI,GAC1D,QAAmClxD,IAA/BoxD,EAIF,OAAOD,EAHPA,EAAsBC,EAO1B,OAAOD,EAET,OAAOF,KACNnkD,KAAK,MAMT,CACD5N,IAAK,YACLG,MAAO,SAAmBH,EAAK6Z,GAC7B,IAAIC,EAAcnZ,UAAU1B,OAAS,QAAsB6B,IAAjBH,UAAU,IAAmBA,UAAU,GAEjF,IAGE,IAFA,IAAIoZ,EAAUtZ,KAAKgwD,OAAO52C,GAAYpZ,KAAKyvD,WACvCl2C,EAAQha,EAAI4R,MAAM,KACb1S,EAAI,EAAGA,EAAI8a,EAAM/a,OAAQC,GAAK,EAAG,CACxC,QAA0B4B,IAAtBiZ,EAAQC,EAAM9a,IAChB,MAAMuH,MAAMuT,EAAM9a,IAEpB6a,EAAUA,EAAQC,EAAM9a,IAE1B,OAAO6a,EACP,MAAOE,IACFH,GAAerZ,KAAKyZ,MAAMC,aAC7BC,QAAQ8E,IAAI,kCAAoClf,EAAM,mBAAqB6Z,EAAW,gBAAkBI,EAAG/K,SAG/G,OAAO,OAOR,CACDlP,IAAK,aACLG,MAAO,WACL,OAAOM,KAAKgwD,WAITl2C,EAxSc,GA2SvBzb,EAAA,QAAkByb,6BClVlB9Y,OAAOC,eAAe5C,EAAS,aAAc,CAC3CqB,OAAO,IAETrB,EAAQgxD,qBAUR,WACE,IAAIM,EAAc,QAClB,GAAyB,oBAAd+B,UACT,OAAO/B,EAET,IAAIgC,EAAMD,UACV,GAAIC,EAAK,CACP,GAAIA,EAAIv4C,SACN,OAAOu4C,EAAIv4C,SAEb,GAAMu4C,EAAIC,WAAeD,EAAIC,UAAU,GACrC,OAAOD,EAAIC,UAAU,GAEvB,GAAID,EAAIE,aACN,OAAOF,EAAIE,aAEb,GAAIF,EAAIG,gBACN,OAAOH,EAAIG,gBAGf,OAAOnC,GA7BTtxD,EAAQmyD,wBAqCR,SAAiCp3C,EAAUzY,GAEzC,GAAIA,EAAMyY,GAAW,OAAOA,EAG5B,IAAI24C,EAAM34C,EAASsM,QAAQ,KACvBssC,EAAUD,GAAO,EAAI34C,EAASkyB,UAAU,EAAGymB,GAAO34C,EACtD,OAAOzY,EAAMqxD,GAAWA,EAAUhxD,OAAOwI,KAAK7I,GAAO,IA3CvDtC,EAAQ4xD,wBAmDR,SAAiCgC,GAC/B,IAAIC,EAAgB,CAAC,qBAAsB,YAAa,mBAAoB,iCAAkC,UAC9GD,EAAgBzqD,SAAQ,SAAUjI,GAChC,IAAoC,IAAhC2yD,EAAcxsC,QAAQnmB,GACxB,MAAM,IAAIyG,MAAMzG,EAAM,wDAtD5BlB,EAAQgyD,aA+DR,SAAsB9xD,GAGpB,IAFA,IAAIyY,EAAO,GACPm7C,EAAW,iEACN1zD,EAAI,EAAGA,EAAIF,EAAKE,GAAK,EAC5BuY,GAAQm7C,EAAStoD,OAAO0xB,KAAKyQ,MAAMzQ,KAAKa,SAAW+1B,EAAS3zD,SAC7D,OAAOwY,mBC5EV,IAAIo7C,EAAY,EAAQ,MACpBC,EAAa,EAAQ,KACrBC,EAAU,EAAQ,MAClBC,EAAU,EAAQ,MAClBC,EAAU,EAAQ,MAStB,SAASC,EAAKt/C,GACZ,IAAIsS,GAAS,EACTjnB,EAAoB,MAAX2U,EAAkB,EAAIA,EAAQ3U,OAG3C,IADAwB,KAAKi+B,UACIxY,EAAQjnB,GAAQ,CACvB,IAAI6J,EAAQ8K,EAAQsS,GACpBzlB,KAAKm9B,IAAI90B,EAAM,GAAIA,EAAM,KAK7BoqD,EAAKrxD,UAAU68B,MAAQm0B,EACvBK,EAAKrxD,UAAkB,OAAIixD,EAC3BI,EAAKrxD,UAAUO,IAAM2wD,EACrBG,EAAKrxD,UAAUq8B,IAAM80B,EACrBE,EAAKrxD,UAAU+7B,IAAMq1B,EAErBp0D,EAAOC,QAAUo0D,kBC/BjB,IAAIC,EAAiB,EAAQ,MACzBC,EAAkB,EAAQ,MAC1BC,EAAe,EAAQ,MACvBC,EAAe,EAAQ,MACvBC,EAAe,EAAQ,MAS3B,SAASC,EAAU5/C,GACjB,IAAIsS,GAAS,EACTjnB,EAAoB,MAAX2U,EAAkB,EAAIA,EAAQ3U,OAG3C,IADAwB,KAAKi+B,UACIxY,EAAQjnB,GAAQ,CACvB,IAAI6J,EAAQ8K,EAAQsS,GACpBzlB,KAAKm9B,IAAI90B,EAAM,GAAIA,EAAM,KAK7B0qD,EAAU3xD,UAAU68B,MAAQy0B,EAC5BK,EAAU3xD,UAAkB,OAAIuxD,EAChCI,EAAU3xD,UAAUO,IAAMixD,EAC1BG,EAAU3xD,UAAUq8B,IAAMo1B,EAC1BE,EAAU3xD,UAAU+7B,IAAM21B,EAE1B10D,EAAOC,QAAU00D,kBC/BjB,IAII7yB,EAJY,EAAQ,IAId8yB,CAHC,EAAQ,MAGO,OAE1B50D,EAAOC,QAAU6hC,kBCNjB,IAAI+yB,EAAgB,EAAQ,MACxBC,EAAiB,EAAQ,MACzBC,EAAc,EAAQ,KACtBC,EAAc,EAAQ,MACtBC,EAAc,EAAQ,MAS1B,SAASC,EAASngD,GAChB,IAAIsS,GAAS,EACTjnB,EAAoB,MAAX2U,EAAkB,EAAIA,EAAQ3U,OAG3C,IADAwB,KAAKi+B,UACIxY,EAAQjnB,GAAQ,CACvB,IAAI6J,EAAQ8K,EAAQsS,GACpBzlB,KAAKm9B,IAAI90B,EAAM,GAAIA,EAAM,KAK7BirD,EAASlyD,UAAU68B,MAAQg1B,EAC3BK,EAASlyD,UAAkB,OAAI8xD,EAC/BI,EAASlyD,UAAUO,IAAMwxD,EACzBG,EAASlyD,UAAUq8B,IAAM21B,EACzBE,EAASlyD,UAAU+7B,IAAMk2B,EAEzBj1D,EAAOC,QAAUi1D,kBC/BjB,IAIIC,EAJY,EAAQ,IAIdP,CAHC,EAAQ,MAGO,OAE1B50D,EAAOC,QAAUk1D,kBCNjB,IAAID,EAAW,EAAQ,MACnBE,EAAc,EAAQ,KACtBC,EAAc,EAAQ,MAU1B,SAASC,EAASrsD,GAChB,IAAIoe,GAAS,EACTjnB,EAAmB,MAAV6I,EAAiB,EAAIA,EAAO7I,OAGzC,IADAwB,KAAK2zD,SAAW,IAAIL,IACX7tC,EAAQjnB,GACfwB,KAAK0gC,IAAIr5B,EAAOoe,IAKpBiuC,EAAStyD,UAAUs/B,IAAMgzB,EAAStyD,UAAUgC,KAAOowD,EACnDE,EAAStyD,UAAUq8B,IAAMg2B,EAEzBr1D,EAAOC,QAAUq1D,kBC1BjB,IAGIhxD,EAHO,EAAQ,MAGDA,OAElBtE,EAAOC,QAAUqE,kBCLjB,IAAIkxD,EAAc,EAAQ,MAgB1Bx1D,EAAOC,QALP,SAAuBigC,EAAO5+B,GAE5B,QADsB,MAAT4+B,IAAoBA,EAAM9/B,SACpBo1D,EAAYt1B,EAAO5+B,EAAO,IAAM,aCQrDtB,EAAOC,QAZP,SAA2BigC,EAAO5+B,EAAOy/C,GAIvC,IAHA,IAAI15B,GAAS,EACTjnB,EAAkB,MAAT8/B,EAAgB,EAAIA,EAAM9/B,SAE9BinB,EAAQjnB,GACf,GAAI2gD,EAAWz/C,EAAO4+B,EAAM7Y,IAC1B,OAAO,EAGX,OAAO,aCETrnB,EAAOC,QAXP,SAAkBigC,EAAOu1B,GAKvB,IAJA,IAAIpuC,GAAS,EACTjnB,EAAkB,MAAT8/B,EAAgB,EAAIA,EAAM9/B,OACnCoJ,EAASjJ,MAAMH,KAEVinB,EAAQjnB,GACfoJ,EAAO6d,GAASouC,EAASv1B,EAAM7Y,GAAQA,EAAO6Y,GAEhD,OAAO12B,mBCjBT,IAAIksD,EAAK,EAAQ,MAoBjB11D,EAAOC,QAVP,SAAsBigC,EAAO/+B,GAE3B,IADA,IAAIf,EAAS8/B,EAAM9/B,OACZA,KACL,GAAIs1D,EAAGx1B,EAAM9/B,GAAQ,GAAIe,GACvB,OAAOf,EAGX,OAAQ,aCMVJ,EAAOC,QAZP,SAAuBigC,EAAO8nB,EAAW3B,EAAWsP,GAIlD,IAHA,IAAIv1D,EAAS8/B,EAAM9/B,OACfinB,EAAQg/B,GAAasP,EAAY,GAAK,GAElCA,EAAYtuC,MAAYA,EAAQjnB,GACtC,GAAI4nD,EAAU9nB,EAAM7Y,GAAQA,EAAO6Y,GACjC,OAAO7Y,EAGX,OAAQ,mBCpBV,IAAIuuC,EAAW,EAAQ,MACnBC,EAAQ,EAAQ,KAsBpB71D,EAAOC,QAZP,SAAiBwF,EAAQ6H,GAMvB,IAHA,IAAI+Z,EAAQ,EACRjnB,GAHJkN,EAAOsoD,EAAStoD,EAAM7H,IAGJrF,OAED,MAAVqF,GAAkB4hB,EAAQjnB,GAC/BqF,EAASA,EAAOowD,EAAMvoD,EAAK+Z,OAE7B,OAAQA,GAASA,GAASjnB,EAAUqF,OAASxD,mBCpB/C,IAAIqC,EAAS,EAAQ,MACjBwxD,EAAY,EAAQ,MACpBC,EAAiB,EAAQ,MAOzBC,EAAiB1xD,EAASA,EAAOsC,iBAAc3E,EAkBnDjC,EAAOC,QATP,SAAoBqB,GAClB,OAAa,MAATA,OACeW,IAAVX,EAdQ,qBADL,gBAiBJ00D,GAAkBA,KAAkBpzD,OAAOtB,GAC/Cw0D,EAAUx0D,GACVy0D,EAAez0D,oBCxBrB,IAAI20D,EAAgB,EAAQ,MACxBC,EAAY,EAAQ,MACpBC,EAAgB,EAAQ,MAiB5Bn2D,EAAOC,QANP,SAAqBigC,EAAO5+B,EAAO+kD,GACjC,OAAO/kD,GAAUA,EACb60D,EAAcj2B,EAAO5+B,EAAO+kD,GAC5B4P,EAAc/1B,EAAOg2B,EAAW7P,cCLtCrmD,EAAOC,QAJP,SAAmBqB,GACjB,OAAOA,GAAUA,mBCRnB,IAAIi4C,EAAa,EAAQ,MACrB6c,EAAW,EAAQ,MACnBC,EAAW,EAAQ,MACnBC,EAAW,EAAQ,KASnBC,EAAe,8BAGfC,EAAY7pD,SAAS3J,UACrByzD,EAAc7zD,OAAOI,UAGrB0zD,EAAeF,EAAUxwD,SAGzBN,EAAiB+wD,EAAY/wD,eAG7BixD,EAAavjD,OAAO,IACtBsjD,EAAa/yD,KAAK+B,GAAgB6K,QAjBjB,sBAiBuC,QACvDA,QAAQ,yDAA0D,SAAW,KAmBhFvQ,EAAOC,QARP,SAAsBqB,GACpB,SAAK+0D,EAAS/0D,IAAU80D,EAAS90D,MAGnBi4C,EAAWj4C,GAASq1D,EAAaJ,GAChCpwD,KAAKmwD,EAASh1D,oBC3C/B,IAAIgD,EAAS,EAAQ,MACjBsyD,EAAW,EAAQ,MACnBn2D,EAAU,EAAQ,MAClBo2D,EAAW,EAAQ,MAMnBC,EAAcxyD,EAASA,EAAOtB,eAAYf,EAC1C80D,EAAiBD,EAAcA,EAAY9wD,cAAW/D,EA0B1DjC,EAAOC,QAhBP,SAAS+2D,EAAa11D,GAEpB,GAAoB,iBAATA,EACT,OAAOA,EAET,GAAIb,EAAQa,GAEV,OAAOs1D,EAASt1D,EAAO01D,GAAgB,GAEzC,GAAIH,EAASv1D,GACX,OAAOy1D,EAAiBA,EAAepzD,KAAKrC,GAAS,GAEvD,IAAIkI,EAAUlI,EAAQ,GACtB,MAAkB,KAAVkI,GAAkB,EAAIlI,IA3BjB,IA2BwC,KAAOkI,mBCjC9D,IAAI8rD,EAAW,EAAQ,MACnB2B,EAAgB,EAAQ,MACxBC,EAAoB,EAAQ,MAC5BC,EAAW,EAAQ,MACnBC,EAAY,EAAQ,MACpBC,EAAa,EAAQ,MAkEzBr3D,EAAOC,QApDP,SAAkBigC,EAAOu1B,EAAU1U,GACjC,IAAI15B,GAAS,EACT/W,EAAW2mD,EACX72D,EAAS8/B,EAAM9/B,OACfk3D,GAAW,EACX9tD,EAAS,GACT+tD,EAAO/tD,EAEX,GAAIu3C,EACFuW,GAAW,EACXhnD,EAAW4mD,OAER,GAAI92D,GAvBY,IAuBgB,CACnC,IAAI2+B,EAAM02B,EAAW,KAAO2B,EAAUl3B,GACtC,GAAInB,EACF,OAAOs4B,EAAWt4B,GAEpBu4B,GAAW,EACXhnD,EAAW6mD,EACXI,EAAO,IAAIjC,OAGXiC,EAAO9B,EAAW,GAAKjsD,EAEzBguD,EACA,OAASnwC,EAAQjnB,GAAQ,CACvB,IAAIkB,EAAQ4+B,EAAM7Y,GACdowC,EAAWhC,EAAWA,EAASn0D,GAASA,EAG5C,GADAA,EAASy/C,GAAwB,IAAVz/C,EAAeA,EAAQ,EAC1Cg2D,GAAYG,GAAaA,EAAU,CAErC,IADA,IAAIC,EAAYH,EAAKn3D,OACds3D,KACL,GAAIH,EAAKG,KAAeD,EACtB,SAASD,EAGT/B,GACF8B,EAAKvyD,KAAKyyD,GAEZjuD,EAAOxE,KAAK1D,QAEJgP,EAASinD,EAAME,EAAU1W,KAC7BwW,IAAS/tD,GACX+tD,EAAKvyD,KAAKyyD,GAEZjuD,EAAOxE,KAAK1D,IAGhB,OAAOkI,aCxDTxJ,EAAOC,QAJP,SAAkB4hC,EAAO1gC,GACvB,OAAO0gC,EAAMxC,IAAIl+B,oBCTnB,IAAIV,EAAU,EAAQ,MAClBk3D,EAAQ,EAAQ,MAChBC,EAAe,EAAQ,MACvB5xD,EAAW,EAAQ,MAiBvBhG,EAAOC,QAPP,SAAkBqB,EAAOmE,GACvB,OAAIhF,EAAQa,GACHA,EAEFq2D,EAAMr2D,EAAOmE,GAAU,CAACnE,GAASs2D,EAAa5xD,EAAS1E,qBCjBhE,IAGIu2D,EAHO,EAAQ,MAGG,sBAEtB73D,EAAOC,QAAU43D,kBCLjB,IAAI1C,EAAM,EAAQ,MACd2C,EAAO,EAAQ,KACfT,EAAa,EAAQ,MAYrBD,EAAcjC,GAAQ,EAAIkC,EAAW,IAAIlC,EAAI,CAAC,EAAE,KAAK,IAT1C,IASoE,SAASlsD,GAC1F,OAAO,IAAIksD,EAAIlsD,IAD2D6uD,EAI5E93D,EAAOC,QAAUm3D,kBCjBjB,IAAIW,EAA8B,iBAAV,EAAA77B,GAAsB,EAAAA,GAAU,EAAAA,EAAOt5B,SAAWA,QAAU,EAAAs5B,EAEpFl8B,EAAOC,QAAU83D,kBCHjB,IAAIC,EAAY,EAAQ,MAiBxBh4D,EAAOC,QAPP,SAAoBiO,EAAK/M,GACvB,IAAIoM,EAAOW,EAAIqnD,SACf,OAAOyC,EAAU72D,GACboM,EAAmB,iBAAPpM,EAAkB,SAAW,QACzCoM,EAAKW,oBCdX,IAAI+pD,EAAe,EAAQ,MACvBC,EAAW,EAAQ,MAevBl4D,EAAOC,QALP,SAAmBwF,EAAQtE,GACzB,IAAIG,EAAQ42D,EAASzyD,EAAQtE,GAC7B,OAAO82D,EAAa32D,GAASA,OAAQW,mBCbvC,IAAIqC,EAAS,EAAQ,MAGjBmyD,EAAc7zD,OAAOI,UAGrB0C,EAAiB+wD,EAAY/wD,eAO7ByyD,EAAuB1B,EAAYzwD,SAGnCgwD,EAAiB1xD,EAASA,EAAOsC,iBAAc3E,EA6BnDjC,EAAOC,QApBP,SAAmBqB,GACjB,IAAI82D,EAAQ1yD,EAAe/B,KAAKrC,EAAO00D,GACnCp7C,EAAMtZ,EAAM00D,GAEhB,IACE10D,EAAM00D,QAAkB/zD,EACxB,IAAIo2D,GAAW,EACf,MAAOxpD,IAET,IAAIrF,EAAS2uD,EAAqBx0D,KAAKrC,GAQvC,OAPI+2D,IACED,EACF92D,EAAM00D,GAAkBp7C,SAEjBtZ,EAAM00D,IAGVxsD,aC9BTxJ,EAAOC,QAJP,SAAkBwF,EAAQtE,GACxB,OAAiB,MAAVsE,OAAiBxD,EAAYwD,EAAOtE,oBCT7C,IAAIm3D,EAAe,EAAQ,MAc3Bt4D,EAAOC,QALP,WACE2B,KAAK2zD,SAAW+C,EAAeA,EAAa,MAAQ,GACpD12D,KAAKghB,KAAO,YCKd5iB,EAAOC,QANP,SAAoBkB,GAClB,IAAIqI,EAAS5H,KAAKy9B,IAAIl+B,WAAeS,KAAK2zD,SAASp0D,GAEnD,OADAS,KAAKghB,MAAQpZ,EAAS,EAAI,EACnBA,mBCbT,IAAI8uD,EAAe,EAAQ,MASvB5yD,EAHc9C,OAAOI,UAGQ0C,eAoBjC1F,EAAOC,QATP,SAAiBkB,GACf,IAAIoM,EAAO3L,KAAK2zD,SAChB,GAAI+C,EAAc,CAChB,IAAI9uD,EAAS+D,EAAKpM,GAClB,MArBiB,8BAqBVqI,OAA4BvH,EAAYuH,EAEjD,OAAO9D,EAAe/B,KAAK4J,EAAMpM,GAAOoM,EAAKpM,QAAOc,mBC1BtD,IAAIq2D,EAAe,EAAQ,MAMvB5yD,EAHc9C,OAAOI,UAGQ0C,eAgBjC1F,EAAOC,QALP,SAAiBkB,GACf,IAAIoM,EAAO3L,KAAK2zD,SAChB,OAAO+C,OAA8Br2D,IAAdsL,EAAKpM,GAAsBuE,EAAe/B,KAAK4J,EAAMpM,oBCnB9E,IAAIm3D,EAAe,EAAQ,MAsB3Bt4D,EAAOC,QAPP,SAAiBkB,EAAKG,GACpB,IAAIiM,EAAO3L,KAAK2zD,SAGhB,OAFA3zD,KAAKghB,MAAQhhB,KAAKy9B,IAAIl+B,GAAO,EAAI,EACjCoM,EAAKpM,GAAQm3D,QAA0Br2D,IAAVX,EAfV,4BAekDA,EAC9DM,sBCnBT,IAAInB,EAAU,EAAQ,MAClBo2D,EAAW,EAAQ,MAGnB0B,EAAe,mDACfC,EAAgB,QAuBpBx4D,EAAOC,QAbP,SAAeqB,EAAOmE,GACpB,GAAIhF,EAAQa,GACV,OAAO,EAET,IAAImH,SAAcnH,EAClB,QAAY,UAARmH,GAA4B,UAARA,GAA4B,WAARA,GAC/B,MAATnH,IAAiBu1D,EAASv1D,KAGvBk3D,EAAcryD,KAAK7E,KAAWi3D,EAAapyD,KAAK7E,IAC1C,MAAVmE,GAAkBnE,KAASsB,OAAO6C,cCXvCzF,EAAOC,QAPP,SAAmBqB,GACjB,IAAImH,SAAcnH,EAClB,MAAgB,UAARmH,GAA4B,UAARA,GAA4B,UAARA,GAA4B,WAARA,EACrD,cAAVnH,EACU,OAAVA,mBCXP,IAIMm3D,EAJFZ,EAAa,EAAQ,MAGrBa,GACED,EAAM,SAASplD,KAAKwkD,GAAcA,EAAWzsD,MAAQysD,EAAWzsD,KAAKutD,UAAY,KACvE,iBAAmBF,EAAO,GAc1Cz4D,EAAOC,QAJP,SAAkBq6C,GAChB,QAASoe,GAAeA,KAAcpe,aCJxCt6C,EAAOC,QALP,WACE2B,KAAK2zD,SAAW,GAChB3zD,KAAKghB,KAAO,mBCTd,IAAIg2C,EAAe,EAAQ,MAMvB/8C,EAHatb,MAAMyC,UAGC6Y,OA4BxB7b,EAAOC,QAjBP,SAAyBkB,GACvB,IAAIoM,EAAO3L,KAAK2zD,SACZluC,EAAQuxC,EAAarrD,EAAMpM,GAE/B,QAAIkmB,EAAQ,IAIRA,GADY9Z,EAAKnN,OAAS,EAE5BmN,EAAKjC,MAELuQ,EAAOlY,KAAK4J,EAAM8Z,EAAO,KAEzBzlB,KAAKghB,KACA,qBC/BT,IAAIg2C,EAAe,EAAQ,MAkB3B54D,EAAOC,QAPP,SAAsBkB,GACpB,IAAIoM,EAAO3L,KAAK2zD,SACZluC,EAAQuxC,EAAarrD,EAAMpM,GAE/B,OAAOkmB,EAAQ,OAAIplB,EAAYsL,EAAK8Z,GAAO,oBCf7C,IAAIuxC,EAAe,EAAQ,MAe3B54D,EAAOC,QAJP,SAAsBkB,GACpB,OAAOy3D,EAAah3D,KAAK2zD,SAAUp0D,IAAQ,mBCZ7C,IAAIy3D,EAAe,EAAQ,MAyB3B54D,EAAOC,QAbP,SAAsBkB,EAAKG,GACzB,IAAIiM,EAAO3L,KAAK2zD,SACZluC,EAAQuxC,EAAarrD,EAAMpM,GAQ/B,OANIkmB,EAAQ,KACRzlB,KAAKghB,KACPrV,EAAKvI,KAAK,CAAC7D,EAAKG,KAEhBiM,EAAK8Z,GAAO,GAAK/lB,EAEZM,sBCtBT,IAAIyyD,EAAO,EAAQ,MACfM,EAAY,EAAQ,MACpB7yB,EAAM,EAAQ,MAkBlB9hC,EAAOC,QATP,WACE2B,KAAKghB,KAAO,EACZhhB,KAAK2zD,SAAW,CACd,KAAQ,IAAIlB,EACZ,IAAO,IAAKvyB,GAAO6yB,GACnB,OAAU,IAAIN,oBChBlB,IAAIwE,EAAa,EAAQ,MAiBzB74D,EAAOC,QANP,SAAwBkB,GACtB,IAAIqI,EAASqvD,EAAWj3D,KAAMT,GAAa,OAAEA,GAE7C,OADAS,KAAKghB,MAAQpZ,EAAS,EAAI,EACnBA,kBCdT,IAAIqvD,EAAa,EAAQ,MAezB74D,EAAOC,QAJP,SAAqBkB,GACnB,OAAO03D,EAAWj3D,KAAMT,GAAKoC,IAAIpC,oBCZnC,IAAI03D,EAAa,EAAQ,MAezB74D,EAAOC,QAJP,SAAqBkB,GACnB,OAAO03D,EAAWj3D,KAAMT,GAAKk+B,IAAIl+B,oBCZnC,IAAI03D,EAAa,EAAQ,MAqBzB74D,EAAOC,QATP,SAAqBkB,EAAKG,GACxB,IAAIiM,EAAOsrD,EAAWj3D,KAAMT,GACxByhB,EAAOrV,EAAKqV,KAIhB,OAFArV,EAAKwxB,IAAI59B,EAAKG,GACdM,KAAKghB,MAAQrV,EAAKqV,MAAQA,EAAO,EAAI,EAC9BhhB,sBClBT,IAAIk3D,EAAU,EAAQ,MAyBtB94D,EAAOC,QAZP,SAAuBq6C,GACrB,IAAI9wC,EAASsvD,EAAQxe,GAAM,SAASn5C,GAIlC,OAfmB,MAYf0gC,EAAMjf,MACRif,EAAMhC,QAED1+B,KAGL0gC,EAAQr4B,EAAOq4B,MACnB,OAAOr4B,mBCtBT,IAGI8uD,EAHY,EAAQ,IAGL1D,CAAUhyD,OAAQ,UAErC5C,EAAOC,QAAUq4D,YCJjB,IAOIH,EAPcv1D,OAAOI,UAOcgD,SAavChG,EAAOC,QAJP,SAAwBqB,GACtB,OAAO62D,EAAqBx0D,KAAKrC,oBClBnC,IAAIy2D,EAAa,EAAQ,MAGrBgB,EAA0B,iBAARp4D,MAAoBA,MAAQA,KAAKiC,SAAWA,QAAUjC,KAGxEqhB,EAAO+1C,GAAcgB,GAAYpsD,SAAS,cAATA,GAErC3M,EAAOC,QAAU+hB,WCUjBhiB,EAAOC,QALP,SAAqBqB,GAEnB,OADAM,KAAK2zD,SAASx2B,IAAIz9B,EAbC,6BAcZM,gBCFT5B,EAAOC,QAJP,SAAqBqB,GACnB,OAAOM,KAAK2zD,SAASl2B,IAAI/9B,cCO3BtB,EAAOC,QAVP,SAAoB8+B,GAClB,IAAI1X,GAAS,EACT7d,EAASjJ,MAAMw+B,EAAInc,MAKvB,OAHAmc,EAAI31B,SAAQ,SAAS9H,GACnBkI,IAAS6d,GAAS/lB,KAEbkI,aCQTxJ,EAAOC,QAZP,SAAuBigC,EAAO5+B,EAAO+kD,GAInC,IAHA,IAAIh/B,EAAQg/B,EAAY,EACpBjmD,EAAS8/B,EAAM9/B,SAEVinB,EAAQjnB,GACf,GAAI8/B,EAAM7Y,KAAW/lB,EACnB,OAAO+lB,EAGX,OAAQ,mBCnBV,IAAI2xC,EAAgB,EAAQ,MAGxBC,EAAa,mGAGbC,EAAe,WASftB,EAAeoB,GAAc,SAASx3B,GACxC,IAAIh4B,EAAS,GAOb,OAN6B,KAAzBg4B,EAAO8M,WAAW,IACpB9kC,EAAOxE,KAAK,IAEdw8B,EAAOjxB,QAAQ0oD,GAAY,SAASlgC,EAAOuI,EAAQ63B,EAAOC,GACxD5vD,EAAOxE,KAAKm0D,EAAQC,EAAU7oD,QAAQ2oD,EAAc,MAAS53B,GAAUvI,MAElEvvB,KAGTxJ,EAAOC,QAAU23D,iBC1BjB,IAAIf,EAAW,EAAQ,MAoBvB72D,EAAOC,QARP,SAAeqB,GACb,GAAoB,iBAATA,GAAqBu1D,EAASv1D,GACvC,OAAOA,EAET,IAAIkI,EAAUlI,EAAQ,GACtB,MAAkB,KAAVkI,GAAkB,EAAIlI,IAdjB,IAcwC,KAAOkI,YChB9D,IAGIktD,EAHY/pD,SAAS3J,UAGIgD,SAqB7BhG,EAAOC,QAZP,SAAkBq6C,GAChB,GAAY,MAARA,EAAc,CAChB,IACE,OAAOoc,EAAa/yD,KAAK22C,GACzB,MAAOzrC,IACT,IACE,OAAQyrC,EAAO,GACf,MAAOzrC,KAEX,MAAO,cCcT7O,EAAOC,QAJP,SAAYqB,EAAO+3D,GACjB,OAAO/3D,IAAU+3D,GAAU/3D,GAAUA,GAAS+3D,GAAUA,mBCjC1D,IAAIC,EAAU,EAAQ,MAgCtBt5D,EAAOC,QALP,SAAawF,EAAQ6H,EAAM+lB,GACzB,IAAI7pB,EAAmB,MAAV/D,OAAiBxD,EAAYq3D,EAAQ7zD,EAAQ6H,GAC1D,YAAkBrL,IAAXuH,EAAuB6pB,EAAe7pB,aCN/C,IAAI/I,EAAUF,MAAME,QAEpBT,EAAOC,QAAUQ,kBCzBjB,IAAI84D,EAAa,EAAQ,MACrBlD,EAAW,EAAQ,MAmCvBr2D,EAAOC,QAVP,SAAoBqB,GAClB,IAAK+0D,EAAS/0D,GACZ,OAAO,EAIT,IAAIsZ,EAAM2+C,EAAWj4D,GACrB,MA5BY,qBA4BLsZ,GA3BI,8BA2BcA,GA7BZ,0BA6B6BA,GA1B7B,kBA0BgDA,aCH/D5a,EAAOC,QALP,SAAkBqB,GAChB,IAAImH,SAAcnH,EAClB,OAAgB,MAATA,IAA0B,UAARmH,GAA4B,YAARA,cCC/CzI,EAAOC,QAJP,SAAsBqB,GACpB,OAAgB,MAATA,GAAiC,iBAATA,mBCzBjC,IAAIi4D,EAAa,EAAQ,MACrBC,EAAe,EAAQ,MA2B3Bx5D,EAAOC,QALP,SAAkBqB,GAChB,MAAuB,iBAATA,GACXk4D,EAAal4D,IArBF,mBAqBYi4D,EAAWj4D,oBCzBvC,IAAI4zD,EAAW,EAAQ,MAiDvB,SAAS4D,EAAQxe,EAAMmf,GACrB,GAAmB,mBAARnf,GAAmC,MAAZmf,GAAuC,mBAAZA,EAC3D,MAAM,IAAIr3D,UAhDQ,uBAkDpB,IAAIs3D,EAAW,WACb,IAAI73D,EAAOC,UACPX,EAAMs4D,EAAWA,EAAS13D,MAAMH,KAAMC,GAAQA,EAAK,GACnDggC,EAAQ63B,EAAS73B,MAErB,GAAIA,EAAMxC,IAAIl+B,GACZ,OAAO0gC,EAAMt+B,IAAIpC,GAEnB,IAAIqI,EAAS8wC,EAAKv4C,MAAMH,KAAMC,GAE9B,OADA63D,EAAS73B,MAAQA,EAAM9C,IAAI59B,EAAKqI,IAAWq4B,EACpCr4B,GAGT,OADAkwD,EAAS73B,MAAQ,IAAKi3B,EAAQa,OAASzE,GAChCwE,EAITZ,EAAQa,MAAQzE,EAEhBl1D,EAAOC,QAAU64D,WCxDjB94D,EAAOC,QAJP,6BCZA,IAAI+2D,EAAe,EAAQ,KA2B3Bh3D,EAAOC,QAJP,SAAkBqB,GAChB,OAAgB,MAATA,EAAgB,GAAK01D,EAAa11D,oBCxB3C,IAAIs4D,EAAW,EAAQ,MAwBvB55D,EAAOC,QAJP,SAAcigC,GACZ,OAAQA,GAASA,EAAM9/B,OAAUw5D,EAAS15B,GAAS,qBCpBYlgC,EAAOC,QAGhE,WAAe,aAOrB,IAAI81D,EAAiBnzD,OAAOI,UAAUgD,SAClCvF,EAAUF,MAAME,SAAW,SAA0BgF,GACvD,MAAuC,mBAAhCswD,EAAepyD,KAAK8B,IAG7B,SAAS8zC,EAAY9zC,GACnB,MAAyB,mBAAXA,EAWhB,SAASo0D,EAAcr4B,GACrB,OAAOA,EAAOjxB,QAAQ,8BAA+B,QAOvD,SAASupD,EAAa72D,EAAK82D,GACzB,OAAc,MAAP92D,GAA8B,iBAARA,GAAqB82D,KAAY92D,EAkBhE,IAAI+2D,EAAa5mD,OAAOpQ,UAAUmD,KAKlC,IAAI8zD,EAAa,KACjB,SAASC,EAAc14B,GACrB,OANF,SAAqB0kB,EAAI1kB,GACvB,OAAOw4B,EAAWr2D,KAAKuiD,EAAI1kB,GAKnB24B,CAAWF,EAAYz4B,GAGjC,IAAI44B,EAAY,CACd,IAAK,QACL,IAAK,OACL,IAAK,OACL,IAAK,SACL,IAAK,QACL,IAAK,SACL,IAAK,SACL,IAAK,UASP,IAAIC,EAAU,MACVC,EAAU,MACVC,EAAW,OACXC,EAAU,QACVC,EAAQ,qBA0OZ,SAASC,EAASl5B,GAChB5/B,KAAK4/B,OAASA,EACd5/B,KAAK+4D,KAAOn5B,EACZ5/B,KAAKquC,IAAM,EAyDb,SAAS3oC,EAAS0jB,EAAM4vC,GACtBh5D,KAAKopB,KAAOA,EACZppB,KAAKigC,MAAQ,CAAE,IAAKjgC,KAAKopB,MACzBppB,KAAK00B,OAASskC,EAuGhB,SAASC,IACPj5D,KAAKk5D,cAAgB,CACnBC,OAAQ,GACRh8B,IAAK,SAAc59B,EAAKG,GACtBM,KAAKm5D,OAAO55D,GAAOG,GAErBiC,IAAK,SAAcpC,GACjB,OAAOS,KAAKm5D,OAAO55D,IAErB0+B,MAAO,WACLj+B,KAAKm5D,OAAS,KAvKpBL,EAAQ13D,UAAUg4D,IAAM,WACtB,MAAqB,KAAdp5D,KAAK+4D,MAOdD,EAAQ13D,UAAUi4D,KAAO,SAAe/U,GACtC,IAAIntB,EAAQn3B,KAAK+4D,KAAK5hC,MAAMmtB,GAE5B,IAAKntB,GAAyB,IAAhBA,EAAM1R,MAClB,MAAO,GAET,IAAIma,EAASzI,EAAM,GAKnB,OAHAn3B,KAAK+4D,KAAO/4D,KAAK+4D,KAAKztB,UAAU1L,EAAOphC,QACvCwB,KAAKquC,KAAOzO,EAAOphC,OAEZohC,GAOTk5B,EAAQ13D,UAAUk4D,UAAY,SAAoBhV,GAChD,IAAkCntB,EAA9B1R,EAAQzlB,KAAK+4D,KAAKQ,OAAOjV,GAE7B,OAAQ7+B,GACN,KAAM,EACJ0R,EAAQn3B,KAAK+4D,KACb/4D,KAAK+4D,KAAO,GACZ,MACF,KAAK,EACH5hC,EAAQ,GACR,MACF,QACEA,EAAQn3B,KAAK+4D,KAAKztB,UAAU,EAAG7lB,GAC/BzlB,KAAK+4D,KAAO/4D,KAAK+4D,KAAKztB,UAAU7lB,GAKpC,OAFAzlB,KAAKquC,KAAOlX,EAAM34B,OAEX24B,GAiBTzxB,EAAQtE,UAAUgC,KAAO,SAAegmB,GACtC,OAAO,IAAI1jB,EAAQ0jB,EAAMppB,OAO3B0F,EAAQtE,UAAU4rC,OAAS,SAAiB1oC,GAC1C,IAEI5E,EArW4B85D,EAAWrB,EAmWvCl4B,EAAQjgC,KAAKigC,MAGjB,GAAIA,EAAMn8B,eAAeQ,GACvB5E,EAAQugC,EAAM37B,OACT,CAGL,IAFA,IAAoBm1D,EAAmBzsD,EAAOyY,EAA1ChgB,EAAUzF,KAAuC05D,GAAY,EAE1Dj0D,GAAS,CACd,GAAInB,EAAKohB,QAAQ,KAAO,EAsBtB,IArBA+zC,EAAoBh0D,EAAQ2jB,KAC5Bpc,EAAQ1I,EAAK6M,MAAM,KACnBsU,EAAQ,EAmBoB,MAArBg0C,GAA6Bh0C,EAAQzY,EAAMxO,QAC5CinB,IAAUzY,EAAMxO,OAAS,IAC3Bk7D,EACExB,EAAYuB,EAAmBzsD,EAAMyY,MArYjB+zC,EAsYOC,EAtYItB,EAsYenrD,EAAMyY,GApYjD,MAAb+zC,GACwB,iBAAdA,GACPA,EAAU11D,gBACV01D,EAAU11D,eAAeq0D,KAoYtBsB,EAAoBA,EAAkBzsD,EAAMyY,WAG9Cg0C,EAAoBh0D,EAAQ2jB,KAAK9kB,GAqBjCo1D,EAAYxB,EAAYzyD,EAAQ2jB,KAAM9kB,GAGxC,GAAIo1D,EAAW,CACbh6D,EAAQ+5D,EACR,MAGFh0D,EAAUA,EAAQivB,OAGpBuL,EAAM37B,GAAQ5E,EAMhB,OAHIi4C,EAAWj4C,KACbA,EAAQA,EAAMqC,KAAK/B,KAAKopB,OAEnB1pB,GA0BTu5D,EAAO73D,UAAUu4D,WAAa,gBACM,IAAvB35D,KAAKk5D,eACdl5D,KAAKk5D,cAAcj7B,SASvBg7B,EAAO73D,UAAUwkB,MAAQ,SAAgB4jC,EAAUoQ,GACjD,IAAI35B,EAAQjgC,KAAKk5D,cACbW,EAAWrQ,EAAW,KAAOoQ,GAAQE,EAASF,MAAMzsD,KAAK,KACzD4sD,OAAkC,IAAV95B,EACxB+5B,EAASD,EAAiB95B,EAAMt+B,IAAIk4D,QAAYx5D,EAMpD,OAJcA,MAAV25D,IACFA,EAxZJ,SAAwBxQ,EAAUoQ,GAChC,IAAKpQ,EACH,MAAO,GACT,IAuBIyQ,EAAcC,EAAcC,EAvB5BC,GAAkB,EAClBC,EAAW,GACXL,EAAS,GACTM,EAAS,GACTC,GAAS,EACTC,GAAW,EACXC,EAAc,GACdC,EAAW,EAIf,SAASC,IACP,GAAIJ,IAAWC,EACb,KAAOF,EAAO97D,eACLw7D,EAAOM,EAAO5wD,YAEvB4wD,EAAS,GAGXC,GAAS,EACTC,GAAW,EAIb,SAASI,EAAaC,GAIpB,GAH6B,iBAAlBA,IACTA,EAAgBA,EAAc1pD,MAAMunD,EAAS,KAE1C75D,EAAQg8D,IAA2C,IAAzBA,EAAcr8D,OAC3C,MAAM,IAAIwH,MAAM,iBAAmB60D,GAErCZ,EAAe,IAAIzoD,OAAOymD,EAAa4C,EAAc,IAAM,QAC3DX,EAAe,IAAI1oD,OAAO,OAASymD,EAAa4C,EAAc,KAC9DV,EAAiB,IAAI3oD,OAAO,OAASymD,EAAa,IAAM4C,EAAc,KAGxED,EAAYhB,GAAQE,EAASF,MAK7B,IAHA,IAEI5pB,EAAOnpC,EAAMnH,EAAOo7D,EAAKrsB,EAAOssB,EAFhCC,EAAU,IAAIlC,EAAQtP,IAGlBwR,EAAQ5B,OAAO,CAMrB,GALAppB,EAAQgrB,EAAQ3sB,IAGhB3uC,EAAQs7D,EAAQ1B,UAAUW,GAGxB,IAAK,IAAIx7D,EAAI,EAAGw8D,EAAcv7D,EAAMlB,OAAQC,EAAIw8D,IAAex8D,EAGzD65D,EAFJwC,EAAMp7D,EAAMmK,OAAOpL,KAGjB67D,EAAOl3D,KAAK42D,EAAOx7D,QACnBi8D,GAAeK,IAEfN,GAAW,EACXJ,GAAkB,EAClBK,GAAe,KAGjBT,EAAO52D,KAAK,CAAE,OAAQ03D,EAAK9qB,EAAOA,EAAQ,IAC1CA,GAAS,EAGG,OAAR8qB,IACFH,IACAF,EAAc,GACdC,EAAW,EACXN,GAAkB,GAMxB,IAAKY,EAAQ3B,KAAKY,GAChB,MAuBF,GArBAM,GAAS,EAGT1zD,EAAOm0D,EAAQ3B,KAAKR,IAAU,OAC9BmC,EAAQ3B,KAAKZ,GAGA,MAAT5xD,GACFnH,EAAQs7D,EAAQ1B,UAAUX,GAC1BqC,EAAQ3B,KAAKV,GACbqC,EAAQ1B,UAAUY,IACA,MAATrzD,GACTnH,EAAQs7D,EAAQ1B,UAAUa,GAC1Ba,EAAQ3B,KAAKT,GACboC,EAAQ1B,UAAUY,GAClBrzD,EAAO,KAEPnH,EAAQs7D,EAAQ1B,UAAUY,IAIvBc,EAAQ3B,KAAKa,GAChB,MAAM,IAAIl0D,MAAM,mBAAqBg1D,EAAQ3sB,KAU/C,GAPEI,EADU,KAAR5nC,EACM,CAAEA,EAAMnH,EAAOswC,EAAOgrB,EAAQ3sB,IAAKosB,EAAaC,EAAUN,GAE1D,CAAEvzD,EAAMnH,EAAOswC,EAAOgrB,EAAQ3sB,KAExCqsB,IACAV,EAAO52D,KAAKqrC,GAEC,MAAT5nC,GAAyB,MAATA,EAClBwzD,EAASj3D,KAAKqrC,QACT,GAAa,MAAT5nC,EAAc,CAIvB,KAFAk0D,EAAcV,EAAS3wD,OAGrB,MAAM,IAAI1D,MAAM,qBAAuBtG,EAAQ,QAAUswC,GAE3D,GAAI+qB,EAAY,KAAOr7D,EACrB,MAAM,IAAIsG,MAAM,qBAAuB+0D,EAAY,GAAK,QAAU/qB,OAClD,SAATnpC,GAA4B,MAATA,GAAyB,MAATA,EAC5C2zD,GAAW,EACO,MAAT3zD,GAET+zD,EAAYl7D,GAShB,GALAi7D,IAGAI,EAAcV,EAAS3wD,MAGrB,MAAM,IAAI1D,MAAM,qBAAuB+0D,EAAY,GAAK,QAAUC,EAAQ3sB,KAE5E,OAkCF,SAAqB2rB,GAMnB,IALA,IAIIvrB,EAJAysB,EAAe,GACfC,EAAYD,EACZb,EAAW,GAGN57D,EAAI,EAAG28D,EAAYpB,EAAOx7D,OAAQC,EAAI28D,IAAa38D,EAG1D,QAFAgwC,EAAQurB,EAAOv7D,IAED,IACZ,IAAK,IACL,IAAK,IACH08D,EAAU/3D,KAAKqrC,GACf4rB,EAASj3D,KAAKqrC,GACd0sB,EAAY1sB,EAAM,GAAK,GACvB,MACF,IAAK,IACO4rB,EAAS3wD,MACX,GAAK+kC,EAAM,GACnB0sB,EAAYd,EAAS77D,OAAS,EAAI67D,EAASA,EAAS77D,OAAS,GAAG,GAAK08D,EACrE,MACF,QACEC,EAAU/3D,KAAKqrC,GAIrB,OAAOysB,EA5DAG,CAOT,SAAuBrB,GAIrB,IAHA,IAEIvrB,EAAO6sB,EAFPC,EAAiB,GAGZ98D,EAAI,EAAG28D,EAAYpB,EAAOx7D,OAAQC,EAAI28D,IAAa38D,GAC1DgwC,EAAQurB,EAAOv7D,MAGI,SAAbgwC,EAAM,IAAiB6sB,GAA8B,SAAjBA,EAAU,IAChDA,EAAU,IAAM7sB,EAAM,GACtB6sB,EAAU,GAAK7sB,EAAM,KAErB8sB,EAAen4D,KAAKqrC,GACpB6sB,EAAY7sB,IAKlB,OAAO8sB,EAzBWC,CAAaxB,IA6QpByB,CAAcjS,EAAUoQ,GACjCG,GAAkB95B,EAAM9C,IAAI08B,EAAUG,IAEjCA,GA0BTf,EAAO73D,UAAUs6D,OAAS,SAAiBlS,EAAUpgC,EAAMuyC,EAAUC,GACnE,IAAIhC,EAAO55D,KAAK67D,cAAcD,GAC1B5B,EAASh6D,KAAK4lB,MAAM4jC,EAAUoQ,GAC9Bn0D,EAAW2jB,aAAgB1jB,EAAW0jB,EAAO,IAAI1jB,EAAQ0jB,OAAM/oB,GACnE,OAAOL,KAAK87D,aAAa9B,EAAQv0D,EAASk2D,EAAUnS,EAAUoS,IAYhE3C,EAAO73D,UAAU06D,aAAe,SAAuB9B,EAAQv0D,EAASk2D,EAAUI,EAAkBH,GAIlG,IAHA,IAEIntB,EAAOxM,EAAQviC,EAFfs8D,EAAS,GAGJv9D,EAAI,EAAG28D,EAAYpB,EAAOx7D,OAAQC,EAAI28D,IAAa38D,EAC1DiB,OAAQW,EAIO,OAFf4hC,GADAwM,EAAQurB,EAAOv7D,IACA,IAEKiB,EAAQM,KAAKi8D,cAAcxtB,EAAOhpC,EAASk2D,EAAUI,EAAkBH,GACvE,MAAX35B,EAAgBviC,EAAQM,KAAKk8D,eAAeztB,EAAOhpC,EAASk2D,EAAUI,EAAkBH,GAC7E,MAAX35B,EAAgBviC,EAAQM,KAAKm8D,cAAc1tB,EAAOhpC,EAASk2D,EAAUC,GAC1D,MAAX35B,EAAgBviC,EAAQM,KAAKo8D,eAAe3tB,EAAOhpC,GACxC,SAAXw8B,EAAmBviC,EAAQM,KAAKq8D,aAAa5tB,EAAOhpC,EAASm2D,GAClD,SAAX35B,IAAmBviC,EAAQM,KAAKs8D,SAAS7tB,SAEpCpuC,IAAVX,IACFs8D,GAAUt8D,GAGd,OAAOs8D,GAGT/C,EAAO73D,UAAU66D,cAAgB,SAAwBxtB,EAAOhpC,EAASk2D,EAAUI,EAAkBH,GACnG,IAAI78D,EAAOiB,KACPg8D,EAAS,GACTt8D,EAAQ+F,EAAQunC,OAAOyB,EAAM,IAQjC,GAAK/uC,EAAL,CAEA,GAAIb,EAAQa,GACV,IAAK,IAAIkgD,EAAI,EAAGqb,EAAcv7D,EAAMlB,OAAQohD,EAAIqb,IAAerb,EAC7Doc,GAAUh8D,KAAK87D,aAAartB,EAAM,GAAIhpC,EAAQrC,KAAK1D,EAAMkgD,IAAK+b,EAAUI,EAAkBH,QAEvF,GAAqB,iBAAVl8D,GAAuC,iBAAVA,GAAuC,iBAAVA,EAC1Es8D,GAAUh8D,KAAK87D,aAAartB,EAAM,GAAIhpC,EAAQrC,KAAK1D,GAAQi8D,EAAUI,EAAkBH,QAClF,GAAIjkB,EAAWj4C,GAAQ,CAC5B,GAAgC,iBAArBq8D,EACT,MAAM,IAAI/1D,MAAM,kEAKL,OAFbtG,EAAQA,EAAMqC,KAAK0D,EAAQ2jB,KAAM2yC,EAAiB13D,MAAMoqC,EAAM,GAAIA,EAAM,KAjB1E,SAAoB+a,GAClB,OAAOzqD,EAAK28D,OAAOlS,EAAU/jD,EAASk2D,EAAUC,SAmB9CI,GAAUt8D,QAEZs8D,GAAUh8D,KAAK87D,aAAartB,EAAM,GAAIhpC,EAASk2D,EAAUI,EAAkBH,GAE7E,OAAOI,IAGT/C,EAAO73D,UAAU86D,eAAiB,SAAyBztB,EAAOhpC,EAASk2D,EAAUI,EAAkBH,GACrG,IAAIl8D,EAAQ+F,EAAQunC,OAAOyB,EAAM,IAIjC,IAAK/uC,GAAUb,EAAQa,IAA2B,IAAjBA,EAAMlB,OACrC,OAAOwB,KAAK87D,aAAartB,EAAM,GAAIhpC,EAASk2D,EAAUI,EAAkBH,IAG5E3C,EAAO73D,UAAUm7D,cAAgB,SAAwBC,EAAS/B,EAAaL,GAG7E,IAFA,IAAIqC,EAAsBhC,EAAY9rD,QAAQ,UAAW,IACrD+tD,EAAcF,EAAQrrD,MAAM,MACvB1S,EAAI,EAAGA,EAAIi+D,EAAYl+D,OAAQC,IAClCi+D,EAAYj+D,GAAGD,SAAWC,EAAI,IAAM27D,KACtCsC,EAAYj+D,GAAKg+D,EAAsBC,EAAYj+D,IAGvD,OAAOi+D,EAAYvvD,KAAK,OAG1B8rD,EAAO73D,UAAU+6D,cAAgB,SAAwB1tB,EAAOhpC,EAASk2D,EAAUC,GACjF,GAAKD,EAAL,CACA,IAAI/B,EAAO55D,KAAK67D,cAAcD,GAE1Bl8D,EAAQi4C,EAAWgkB,GAAYA,EAASltB,EAAM,IAAMktB,EAASltB,EAAM,IACvE,GAAa,MAAT/uC,EAAe,CACjB,IAAI06D,EAAkB3rB,EAAM,GACxBisB,EAAWjsB,EAAM,GACjBgsB,EAAchsB,EAAM,GACpBkuB,EAAgBj9D,EACJ,GAAZg7D,GAAiBD,IACnBkC,EAAgB38D,KAAKu8D,cAAc78D,EAAO+6D,EAAaL,IAEzD,IAAIJ,EAASh6D,KAAK4lB,MAAM+2C,EAAe/C,GACvC,OAAO55D,KAAK87D,aAAa9B,EAAQv0D,EAASk2D,EAAUgB,EAAef,MAIvE3C,EAAO73D,UAAUg7D,eAAiB,SAAyB3tB,EAAOhpC,GAChE,IAAI/F,EAAQ+F,EAAQunC,OAAOyB,EAAM,IACjC,GAAa,MAAT/uC,EACF,OAAOA,GAGXu5D,EAAO73D,UAAUi7D,aAAe,SAAuB5tB,EAAOhpC,EAASm2D,GACrE,IAAIgB,EAAS58D,KAAK68D,gBAAgBjB,IAAW9B,EAAS8C,OAClDl9D,EAAQ+F,EAAQunC,OAAOyB,EAAM,IACjC,GAAa,MAAT/uC,EACF,MAAyB,iBAAVA,GAAsBk9D,IAAW9C,EAAS8C,OAAUv6C,OAAO3iB,GAASk9D,EAAOl9D,IAG9Fu5D,EAAO73D,UAAUk7D,SAAW,SAAmB7tB,GAC7C,OAAOA,EAAM,IAGfwqB,EAAO73D,UAAUy6D,cAAgB,SAAwBD,GACvD,OAAI/8D,EAAQ+8D,GACHA,EAEAA,GAA4B,iBAAXA,EACjBA,EAAOhC,UAGd,GAIJX,EAAO73D,UAAUy7D,gBAAkB,SAA0BjB,GAC3D,OAAIA,GAA4B,iBAAXA,IAAwB/8D,EAAQ+8D,GAC5CA,EAAOgB,YAGd,GAIJ,IAAI9C,EAAW,CACbx1D,KAAM,cACNm+B,QAAS,QACTm3B,KAAM,CAAE,KAAM,MACdD,gBAAYt5D,EACZu8D,YAAQv8D,EACRulB,WAAOvlB,EACPq7D,YAAQr7D,EACRy4D,aAASz4D,EACTqF,aAASrF,EACT44D,YAAQ54D,EAMJ64D,kBAAej5B,GACjB68B,EAAc5D,cAAgBj5B,GAK5Bi5B,oBACF,OAAO4D,EAAc5D,gBAKrB4D,EAAgB,IAAI7D,EAyCxB,OApCAa,EAASH,WAAa,WACpB,OAAOmD,EAAcnD,cAQvBG,EAASl0C,MAAQ,SAAgB4jC,EAAUoQ,GACzC,OAAOkD,EAAcl3C,MAAM4jC,EAAUoQ,IAOvCE,EAAS4B,OAAS,SAAiBlS,EAAUpgC,EAAMuyC,EAAUC,GAC3D,GAAwB,iBAAbpS,EACT,MAAM,IAAIhpD,UAAU,0DAvtBf3B,EADSwC,EAytBwBmoD,GAxtBlB,eAAiBnoD,GAutBjB,oFAxtBxB,IAAkBA,EA6tBhB,OAAOy7D,EAAcpB,OAAOlS,EAAUpgC,EAAMuyC,EAAUC,IAKxD9B,EAAS8C,OA9qBT,SAAqBh9B,GACnB,OAAOvd,OAAOud,GAAQjxB,QAAQ,gBAAgB,SAAwBghC,GACpE,OAAO6oB,EAAU7oB,OA+qBrBmqB,EAAShB,QAAUA,EACnBgB,EAASp0D,QAAUA,EACnBo0D,EAASb,OAASA,EAEXa,EAhwByEiD,gCCmBlF/7D,OAAOC,eAAe5C,EAAS,aAAc,CAC3CqB,OAAO,IAGT,IAAImvD,EAAW7tD,OAAO27B,QAAU,SAAUj8B,GAAU,IAAK,IAAIjC,EAAI,EAAGA,EAAIyB,UAAU1B,OAAQC,IAAK,CAAE,IAAI0sB,EAASjrB,UAAUzB,GAAI,IAAK,IAAIc,KAAO4rB,EAAcnqB,OAAOI,UAAU0C,eAAe/B,KAAKopB,EAAQ5rB,KAAQmB,EAAOnB,GAAO4rB,EAAO5rB,IAAY,OAAOmB,GAInPs8D,EAAUC,EAFD,EAAQ,OAMjBC,EAAqBD,EAFD,EAAQ,OAIhC,SAASA,EAAuB57D,GAAO,OAAOA,GAAOA,EAAIzC,WAAayC,EAAM,CAAE+J,QAAS/J,GAEvF,IAAI87D,EAAmB,iBAYvBD,EAAmB9xD,QAAQhK,UAAU6X,aAAe,SAAU9G,GAC5D,IAAK,IAAI++C,EAAOhxD,UAAU1B,OAAQ2yD,EAAwBxyD,MAAMuyD,EAAO,EAAIA,EAAO,EAAI,GAAIE,EAAO,EAAGA,EAAOF,EAAME,IAC/GD,EAAsBC,EAAO,GAAKlxD,UAAUkxD,GAG9C,IAAIgM,GAAY,EACZ5oB,GAAOriC,GAAO,IAAIhB,MAAMgsD,GAAkB1wD,QAAO,SAAU6kD,GAC7D,QAASA,KACRhlD,KAAI,SAAUglD,EAAU7rC,GACzB,GAAI6rC,EAASn6B,MAAMgmC,GAAmB,CACpC,IAAI5L,EAAaD,EAASjtD,MAAM,GAAI,GAChCmtD,EAAsBL,EAAsBI,GAGhD,GAA2BlxD,MAAvBmxD,EAAkC,CACpC,IAAIC,EAA6BN,EAAsB,GAAGI,GAC1D,QAAmClxD,IAA/BoxD,EAIF,OAAOD,EAHPA,EAAsBC,EAO1B,OAAIuL,EAAQ5xD,QAAQiyD,eAAe7L,IACjC4L,GAAY,EACLJ,EAAQ5xD,QAAQkyD,SAASC,QAAQ/L,GAAqBllD,KAAI,SAAU+jC,GACzE,OAAOwe,EAAS,GAAIxe,EAAW,CAAE9wC,IAAKkmB,EAAMrhB,iBAIzCotD,EAET,OAAOF,KAGT,OAAI8L,EAAkB5oB,EACfA,EAAIrnC,KAAK,KAGlB9O,EAAA,QAAkB6+D,EAAmB9xD,wBCxFrC,IAAIkB,EAAM,CACT,YAAa,KACb,YAAa,KACb,2BAA4B,KAC5B,YAAa,KACb,YAAa,KACb,YAAa,KACb,YAAa,IACb,YAAa,KACb,YAAa,KACb,YAAa,KACb,YAAa,KACb,eAAgB,MAIjB,SAASkxD,EAAeC,GACvB,IAAItyD,EAAKuyD,EAAsBD,GAC/B,OAAOE,EAAoBxyD,GAE5B,SAASuyD,EAAsBD,GAC9B,IAAIE,EAAoB17D,EAAEqK,EAAKmxD,GAAM,CACpC,IAAIxwD,EAAI,IAAIjH,MAAM,uBAAyBy3D,EAAM,KAEjD,MADAxwD,EAAEiB,KAAO,mBACHjB,EAEP,OAAOX,EAAImxD,GAEZD,EAAeh0D,KAAO,WACrB,OAAOxI,OAAOwI,KAAK8C,IAEpBkxD,EAAer+D,QAAUu+D,EACzBt/D,EAAOC,QAAUm/D,EACjBA,EAAeryD,GAAK,4BCjCpB/M,EAAOC,QAAUwT,QAAQ,+4mGCCrB+rD,EAA2B,GAG/B,SAASD,EAAoBE,GAE5B,IAAIC,EAAeF,EAAyBC,GAC5C,QAAqBx9D,IAAjBy9D,EACH,OAAOA,EAAaz/D,QAGrB,IAAID,EAASw/D,EAAyBC,GAAY,CAGjDx/D,QAAS,IAOV,OAHA0/D,EAAoBF,GAAU97D,KAAK3D,EAAOC,QAASD,EAAQA,EAAOC,QAASs/D,GAGpEv/D,EAAOC,QCrBfs/D,EAAoBrjC,EAAI,WACvB,GAA0B,iBAAfxvB,WAAyB,OAAOA,WAC3C,IACC,OAAO9K,MAAQ,IAAI+K,SAAS,cAAb,GACd,MAAOkC,GACR,GAAsB,iBAAXquB,OAAqB,OAAOA,QALjB,GCAxBqiC,EAAoB17D,EAAI,CAACZ,EAAKy9C,IAAU99C,OAAOI,UAAU0C,eAAe/B,KAAKV,EAAKy9C,qbCAlF,iBACA,YACezzC,EAAAA","sources":["webpack://hipporello-validator/./node_modules/@babel/runtime/helpers/arrayLikeToArray.js","webpack://hipporello-validator/./node_modules/@babel/runtime/helpers/arrayWithHoles.js","webpack://hipporello-validator/./node_modules/@babel/runtime/helpers/arrayWithoutHoles.js","webpack://hipporello-validator/./node_modules/@babel/runtime/helpers/assertThisInitialized.js","webpack://hipporello-validator/./node_modules/@babel/runtime/helpers/asyncToGenerator.js","webpack://hipporello-validator/./node_modules/@babel/runtime/helpers/classCallCheck.js","webpack://hipporello-validator/./node_modules/@babel/runtime/helpers/createClass.js","webpack://hipporello-validator/./node_modules/@babel/runtime/helpers/defineProperty.js","webpack://hipporello-validator/./node_modules/@babel/runtime/helpers/get.js","webpack://hipporello-validator/./node_modules/@babel/runtime/helpers/getPrototypeOf.js","webpack://hipporello-validator/./node_modules/@babel/runtime/helpers/inherits.js","webpack://hipporello-validator/./node_modules/@babel/runtime/helpers/interopRequireDefault.js","webpack://hipporello-validator/./node_modules/@babel/runtime/helpers/iterableToArray.js","webpack://hipporello-validator/./node_modules/@babel/runtime/helpers/iterableToArrayLimit.js","webpack://hipporello-validator/./node_modules/@babel/runtime/helpers/nonIterableRest.js","webpack://hipporello-validator/./node_modules/@babel/runtime/helpers/nonIterableSpread.js","webpack://hipporello-validator/./node_modules/@babel/runtime/helpers/possibleConstructorReturn.js","webpack://hipporello-validator/./node_modules/@babel/runtime/helpers/setPrototypeOf.js","webpack://hipporello-validator/./node_modules/@babel/runtime/helpers/slicedToArray.js","webpack://hipporello-validator/./node_modules/@babel/runtime/helpers/superPropBase.js","webpack://hipporello-validator/./node_modules/@babel/runtime/helpers/toConsumableArray.js","webpack://hipporello-validator/./node_modules/@babel/runtime/helpers/typeof.js","webpack://hipporello-validator/./node_modules/@babel/runtime/helpers/unsupportedIterableToArray.js","webpack://hipporello-validator/./node_modules/@babel/runtime/node_modules/regenerator-runtime/runtime.js","webpack://hipporello-validator/./node_modules/@babel/runtime/regenerator/index.js","webpack://hipporello-validator/./src/HippoValidator.js","webpack://hipporello-validator/./src/JSONUtils.js","webpack://hipporello-validator/./src/Utils/checkAttachmentType.js","webpack://hipporello-validator/./src/Utils/conditionValueCheckFunc.js","webpack://hipporello-validator/./src/Utils/conditionWithOr.js","webpack://hipporello-validator/./src/Utils/conditionsWithAnd.js","webpack://hipporello-validator/./src/Utils/formConditionWithAnd.js","webpack://hipporello-validator/./src/Utils/formInputNames.js","webpack://hipporello-validator/./src/Utils/getValidator.js","webpack://hipporello-validator/./src/constants.js","webpack://hipporello-validator/./src/localize/localize.js","webpack://hipporello-validator/./src/nodes/AbstractHippoNode.js","webpack://hipporello-validator/./src/nodes/AccessRights/CollectionNode.js","webpack://hipporello-validator/./src/nodes/AccessRights/VisibilityNode.js","webpack://hipporello-validator/./src/nodes/ActionGroupNode.js","webpack://hipporello-validator/./src/nodes/ActionNode.js","webpack://hipporello-validator/./src/nodes/AppNode.js","webpack://hipporello-validator/./src/nodes/Automations/AutomationNode.js","webpack://hipporello-validator/./src/nodes/Automations/RuleNode.js","webpack://hipporello-validator/./src/nodes/CardCollections/CardCollectionNode.js","webpack://hipporello-validator/./src/nodes/CardCollections/CardCollectionsNode.js","webpack://hipporello-validator/./src/nodes/ComponentNode.js","webpack://hipporello-validator/./src/nodes/EventNode.js","webpack://hipporello-validator/./src/nodes/Forms/EmailNode.js","webpack://hipporello-validator/./src/nodes/Forms/FormInputNode.js","webpack://hipporello-validator/./src/nodes/Forms/FormInputVisibilityNode.js","webpack://hipporello-validator/./src/nodes/Forms/FormNode.js","webpack://hipporello-validator/./src/nodes/Forms/VisibilityRuleNode.js","webpack://hipporello-validator/./src/nodes/HipporelloFieldNode.js","webpack://hipporello-validator/./src/nodes/MagicLink/MagicLinkExecuterNode.js","webpack://hipporello-validator/./src/nodes/MagicLink/MagicLinkNode.js","webpack://hipporello-validator/./src/nodes/Roles/RoleNode.js","webpack://hipporello-validator/./src/nodes/Roles/RolesNode.js","webpack://hipporello-validator/./src/nodes/Settings/FieldDefinitions/appVariableFieldsNode.js","webpack://hipporello-validator/./src/nodes/Settings/FieldDefinitions/appVariableNode.js","webpack://hipporello-validator/./src/nodes/Settings/ViewSettingsNode.js","webpack://hipporello-validator/./src/nodes/TrelloBoardViewNode.js","webpack://hipporello-validator/./src/nodes/TrelloCardBackViewNode.js","webpack://hipporello-validator/./src/nodes/VariableNode.js","webpack://hipporello-validator/./src/nodes/Views/ChildNode.js","webpack://hipporello-validator/./src/nodes/Views/ChildrenNode.js","webpack://hipporello-validator/./src/nodes/Views/HeaderNode.js","webpack://hipporello-validator/./src/nodes/Views/PageNode.js","webpack://hipporello-validator/./src/nodes/Views/SidebarNode.js","webpack://hipporello-validator/./src/nodes/Views/ViewNode.js","webpack://hipporello-validator/./src/nodes/WebViewNode.js","webpack://hipporello-validator/./node_modules/fastest-validator/dist/index.min.js","webpack://hipporello-validator/./node_modules/jsonata/jsonata.js","webpack://hipporello-validator/./node_modules/localized-strings/lib/LocalizedStrings.js","webpack://hipporello-validator/./node_modules/localized-strings/lib/utils.js","webpack://hipporello-validator/./node_modules/lodash/_Hash.js","webpack://hipporello-validator/./node_modules/lodash/_ListCache.js","webpack://hipporello-validator/./node_modules/lodash/_Map.js","webpack://hipporello-validator/./node_modules/lodash/_MapCache.js","webpack://hipporello-validator/./node_modules/lodash/_Set.js","webpack://hipporello-validator/./node_modules/lodash/_SetCache.js","webpack://hipporello-validator/./node_modules/lodash/_Symbol.js","webpack://hipporello-validator/./node_modules/lodash/_arrayIncludes.js","webpack://hipporello-validator/./node_modules/lodash/_arrayIncludesWith.js","webpack://hipporello-validator/./node_modules/lodash/_arrayMap.js","webpack://hipporello-validator/./node_modules/lodash/_assocIndexOf.js","webpack://hipporello-validator/./node_modules/lodash/_baseFindIndex.js","webpack://hipporello-validator/./node_modules/lodash/_baseGet.js","webpack://hipporello-validator/./node_modules/lodash/_baseGetTag.js","webpack://hipporello-validator/./node_modules/lodash/_baseIndexOf.js","webpack://hipporello-validator/./node_modules/lodash/_baseIsNaN.js","webpack://hipporello-validator/./node_modules/lodash/_baseIsNative.js","webpack://hipporello-validator/./node_modules/lodash/_baseToString.js","webpack://hipporello-validator/./node_modules/lodash/_baseUniq.js","webpack://hipporello-validator/./node_modules/lodash/_cacheHas.js","webpack://hipporello-validator/./node_modules/lodash/_castPath.js","webpack://hipporello-validator/./node_modules/lodash/_coreJsData.js","webpack://hipporello-validator/./node_modules/lodash/_createSet.js","webpack://hipporello-validator/./node_modules/lodash/_freeGlobal.js","webpack://hipporello-validator/./node_modules/lodash/_getMapData.js","webpack://hipporello-validator/./node_modules/lodash/_getNative.js","webpack://hipporello-validator/./node_modules/lodash/_getRawTag.js","webpack://hipporello-validator/./node_modules/lodash/_getValue.js","webpack://hipporello-validator/./node_modules/lodash/_hashClear.js","webpack://hipporello-validator/./node_modules/lodash/_hashDelete.js","webpack://hipporello-validator/./node_modules/lodash/_hashGet.js","webpack://hipporello-validator/./node_modules/lodash/_hashHas.js","webpack://hipporello-validator/./node_modules/lodash/_hashSet.js","webpack://hipporello-validator/./node_modules/lodash/_isKey.js","webpack://hipporello-validator/./node_modules/lodash/_isKeyable.js","webpack://hipporello-validator/./node_modules/lodash/_isMasked.js","webpack://hipporello-validator/./node_modules/lodash/_listCacheClear.js","webpack://hipporello-validator/./node_modules/lodash/_listCacheDelete.js","webpack://hipporello-validator/./node_modules/lodash/_listCacheGet.js","webpack://hipporello-validator/./node_modules/lodash/_listCacheHas.js","webpack://hipporello-validator/./node_modules/lodash/_listCacheSet.js","webpack://hipporello-validator/./node_modules/lodash/_mapCacheClear.js","webpack://hipporello-validator/./node_modules/lodash/_mapCacheDelete.js","webpack://hipporello-validator/./node_modules/lodash/_mapCacheGet.js","webpack://hipporello-validator/./node_modules/lodash/_mapCacheHas.js","webpack://hipporello-validator/./node_modules/lodash/_mapCacheSet.js","webpack://hipporello-validator/./node_modules/lodash/_memoizeCapped.js","webpack://hipporello-validator/./node_modules/lodash/_nativeCreate.js","webpack://hipporello-validator/./node_modules/lodash/_objectToString.js","webpack://hipporello-validator/./node_modules/lodash/_root.js","webpack://hipporello-validator/./node_modules/lodash/_setCacheAdd.js","webpack://hipporello-validator/./node_modules/lodash/_setCacheHas.js","webpack://hipporello-validator/./node_modules/lodash/_setToArray.js","webpack://hipporello-validator/./node_modules/lodash/_strictIndexOf.js","webpack://hipporello-validator/./node_modules/lodash/_stringToPath.js","webpack://hipporello-validator/./node_modules/lodash/_toKey.js","webpack://hipporello-validator/./node_modules/lodash/_toSource.js","webpack://hipporello-validator/./node_modules/lodash/eq.js","webpack://hipporello-validator/./node_modules/lodash/get.js","webpack://hipporello-validator/./node_modules/lodash/isArray.js","webpack://hipporello-validator/./node_modules/lodash/isFunction.js","webpack://hipporello-validator/./node_modules/lodash/isObject.js","webpack://hipporello-validator/./node_modules/lodash/isObjectLike.js","webpack://hipporello-validator/./node_modules/lodash/isSymbol.js","webpack://hipporello-validator/./node_modules/lodash/memoize.js","webpack://hipporello-validator/./node_modules/lodash/noop.js","webpack://hipporello-validator/./node_modules/lodash/toString.js","webpack://hipporello-validator/./node_modules/lodash/uniq.js","webpack://hipporello-validator/./node_modules/mustache/mustache.js","webpack://hipporello-validator/./node_modules/react-localization/lib/LocalizedStrings.js","webpack://hipporello-validator//Users/mahmut.isci/hipporello/hipporello-app-validator/src/localize/langs|sync|/^\\.\\/.*\\.json$/","webpack://hipporello-validator/external commonjs \"react\"","webpack://hipporello-validator/webpack/bootstrap","webpack://hipporello-validator/webpack/runtime/global","webpack://hipporello-validator/webpack/runtime/hasOwnProperty shorthand","webpack://hipporello-validator/./src/index.js"],"sourcesContent":["function _arrayLikeToArray(arr, len) {\n  if (len == null || len > arr.length) len = arr.length;\n\n  for (var i = 0, arr2 = new Array(len); i < len; i++) {\n    arr2[i] = arr[i];\n  }\n\n  return arr2;\n}\n\nmodule.exports = _arrayLikeToArray;\nmodule.exports[\"default\"] = module.exports, module.exports.__esModule = true;","function _arrayWithHoles(arr) {\n  if (Array.isArray(arr)) return arr;\n}\n\nmodule.exports = _arrayWithHoles;\nmodule.exports[\"default\"] = module.exports, module.exports.__esModule = true;","var arrayLikeToArray = require(\"./arrayLikeToArray.js\");\n\nfunction _arrayWithoutHoles(arr) {\n  if (Array.isArray(arr)) return arrayLikeToArray(arr);\n}\n\nmodule.exports = _arrayWithoutHoles;\nmodule.exports[\"default\"] = module.exports, module.exports.__esModule = true;","function _assertThisInitialized(self) {\n  if (self === void 0) {\n    throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");\n  }\n\n  return self;\n}\n\nmodule.exports = _assertThisInitialized;\nmodule.exports[\"default\"] = module.exports, module.exports.__esModule = true;","function asyncGeneratorStep(gen, resolve, reject, _next, _throw, key, arg) {\n  try {\n    var info = gen[key](arg);\n    var value = info.value;\n  } catch (error) {\n    reject(error);\n    return;\n  }\n\n  if (info.done) {\n    resolve(value);\n  } else {\n    Promise.resolve(value).then(_next, _throw);\n  }\n}\n\nfunction _asyncToGenerator(fn) {\n  return function () {\n    var self = this,\n        args = arguments;\n    return new Promise(function (resolve, reject) {\n      var gen = fn.apply(self, args);\n\n      function _next(value) {\n        asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"next\", value);\n      }\n\n      function _throw(err) {\n        asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"throw\", err);\n      }\n\n      _next(undefined);\n    });\n  };\n}\n\nmodule.exports = _asyncToGenerator;\nmodule.exports[\"default\"] = module.exports, module.exports.__esModule = true;","function _classCallCheck(instance, Constructor) {\n  if (!(instance instanceof Constructor)) {\n    throw new TypeError(\"Cannot call a class as a function\");\n  }\n}\n\nmodule.exports = _classCallCheck;\nmodule.exports[\"default\"] = module.exports, module.exports.__esModule = true;","function _defineProperties(target, props) {\n  for (var i = 0; i < props.length; i++) {\n    var descriptor = props[i];\n    descriptor.enumerable = descriptor.enumerable || false;\n    descriptor.configurable = true;\n    if (\"value\" in descriptor) descriptor.writable = true;\n    Object.defineProperty(target, descriptor.key, descriptor);\n  }\n}\n\nfunction _createClass(Constructor, protoProps, staticProps) {\n  if (protoProps) _defineProperties(Constructor.prototype, protoProps);\n  if (staticProps) _defineProperties(Constructor, staticProps);\n  return Constructor;\n}\n\nmodule.exports = _createClass;\nmodule.exports[\"default\"] = module.exports, module.exports.__esModule = true;","function _defineProperty(obj, key, value) {\n  if (key in obj) {\n    Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n  } else {\n    obj[key] = value;\n  }\n\n  return obj;\n}\n\nmodule.exports = _defineProperty;\nmodule.exports[\"default\"] = module.exports, module.exports.__esModule = true;","var superPropBase = require(\"./superPropBase.js\");\n\nfunction _get(target, property, receiver) {\n  if (typeof Reflect !== \"undefined\" && Reflect.get) {\n    module.exports = _get = Reflect.get;\n    module.exports[\"default\"] = module.exports, module.exports.__esModule = true;\n  } else {\n    module.exports = _get = function _get(target, property, receiver) {\n      var base = superPropBase(target, property);\n      if (!base) return;\n      var desc = Object.getOwnPropertyDescriptor(base, property);\n\n      if (desc.get) {\n        return desc.get.call(receiver);\n      }\n\n      return desc.value;\n    };\n\n    module.exports[\"default\"] = module.exports, module.exports.__esModule = true;\n  }\n\n  return _get(target, property, receiver || target);\n}\n\nmodule.exports = _get;\nmodule.exports[\"default\"] = module.exports, module.exports.__esModule = true;","function _getPrototypeOf(o) {\n  module.exports = _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) {\n    return o.__proto__ || Object.getPrototypeOf(o);\n  };\n  module.exports[\"default\"] = module.exports, module.exports.__esModule = true;\n  return _getPrototypeOf(o);\n}\n\nmodule.exports = _getPrototypeOf;\nmodule.exports[\"default\"] = module.exports, module.exports.__esModule = true;","var setPrototypeOf = require(\"./setPrototypeOf.js\");\n\nfunction _inherits(subClass, superClass) {\n  if (typeof superClass !== \"function\" && superClass !== null) {\n    throw new TypeError(\"Super expression must either be null or a function\");\n  }\n\n  subClass.prototype = Object.create(superClass && superClass.prototype, {\n    constructor: {\n      value: subClass,\n      writable: true,\n      configurable: true\n    }\n  });\n  if (superClass) setPrototypeOf(subClass, superClass);\n}\n\nmodule.exports = _inherits;\nmodule.exports[\"default\"] = module.exports, module.exports.__esModule = true;","function _interopRequireDefault(obj) {\n  return obj && obj.__esModule ? obj : {\n    \"default\": obj\n  };\n}\n\nmodule.exports = _interopRequireDefault;\nmodule.exports[\"default\"] = module.exports, module.exports.__esModule = true;","function _iterableToArray(iter) {\n  if (typeof Symbol !== \"undefined\" && iter[Symbol.iterator] != null || iter[\"@@iterator\"] != null) return Array.from(iter);\n}\n\nmodule.exports = _iterableToArray;\nmodule.exports[\"default\"] = module.exports, module.exports.__esModule = true;","function _iterableToArrayLimit(arr, i) {\n  var _i = arr == null ? null : typeof Symbol !== \"undefined\" && arr[Symbol.iterator] || arr[\"@@iterator\"];\n\n  if (_i == null) return;\n  var _arr = [];\n  var _n = true;\n  var _d = false;\n\n  var _s, _e;\n\n  try {\n    for (_i = _i.call(arr); !(_n = (_s = _i.next()).done); _n = true) {\n      _arr.push(_s.value);\n\n      if (i && _arr.length === i) break;\n    }\n  } catch (err) {\n    _d = true;\n    _e = err;\n  } finally {\n    try {\n      if (!_n && _i[\"return\"] != null) _i[\"return\"]();\n    } finally {\n      if (_d) throw _e;\n    }\n  }\n\n  return _arr;\n}\n\nmodule.exports = _iterableToArrayLimit;\nmodule.exports[\"default\"] = module.exports, module.exports.__esModule = true;","function _nonIterableRest() {\n  throw new TypeError(\"Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\");\n}\n\nmodule.exports = _nonIterableRest;\nmodule.exports[\"default\"] = module.exports, module.exports.__esModule = true;","function _nonIterableSpread() {\n  throw new TypeError(\"Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\");\n}\n\nmodule.exports = _nonIterableSpread;\nmodule.exports[\"default\"] = module.exports, module.exports.__esModule = true;","var _typeof = require(\"@babel/runtime/helpers/typeof\")[\"default\"];\n\nvar assertThisInitialized = require(\"./assertThisInitialized.js\");\n\nfunction _possibleConstructorReturn(self, call) {\n  if (call && (_typeof(call) === \"object\" || typeof call === \"function\")) {\n    return call;\n  } else if (call !== void 0) {\n    throw new TypeError(\"Derived constructors may only return object or undefined\");\n  }\n\n  return assertThisInitialized(self);\n}\n\nmodule.exports = _possibleConstructorReturn;\nmodule.exports[\"default\"] = module.exports, module.exports.__esModule = true;","function _setPrototypeOf(o, p) {\n  module.exports = _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) {\n    o.__proto__ = p;\n    return o;\n  };\n\n  module.exports[\"default\"] = module.exports, module.exports.__esModule = true;\n  return _setPrototypeOf(o, p);\n}\n\nmodule.exports = _setPrototypeOf;\nmodule.exports[\"default\"] = module.exports, module.exports.__esModule = true;","var arrayWithHoles = require(\"./arrayWithHoles.js\");\n\nvar iterableToArrayLimit = require(\"./iterableToArrayLimit.js\");\n\nvar unsupportedIterableToArray = require(\"./unsupportedIterableToArray.js\");\n\nvar nonIterableRest = require(\"./nonIterableRest.js\");\n\nfunction _slicedToArray(arr, i) {\n  return arrayWithHoles(arr) || iterableToArrayLimit(arr, i) || unsupportedIterableToArray(arr, i) || nonIterableRest();\n}\n\nmodule.exports = _slicedToArray;\nmodule.exports[\"default\"] = module.exports, module.exports.__esModule = true;","var getPrototypeOf = require(\"./getPrototypeOf.js\");\n\nfunction _superPropBase(object, property) {\n  while (!Object.prototype.hasOwnProperty.call(object, property)) {\n    object = getPrototypeOf(object);\n    if (object === null) break;\n  }\n\n  return object;\n}\n\nmodule.exports = _superPropBase;\nmodule.exports[\"default\"] = module.exports, module.exports.__esModule = true;","var arrayWithoutHoles = require(\"./arrayWithoutHoles.js\");\n\nvar iterableToArray = require(\"./iterableToArray.js\");\n\nvar unsupportedIterableToArray = require(\"./unsupportedIterableToArray.js\");\n\nvar nonIterableSpread = require(\"./nonIterableSpread.js\");\n\nfunction _toConsumableArray(arr) {\n  return arrayWithoutHoles(arr) || iterableToArray(arr) || unsupportedIterableToArray(arr) || nonIterableSpread();\n}\n\nmodule.exports = _toConsumableArray;\nmodule.exports[\"default\"] = module.exports, module.exports.__esModule = true;","function _typeof(obj) {\n  \"@babel/helpers - typeof\";\n\n  if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") {\n    module.exports = _typeof = function _typeof(obj) {\n      return typeof obj;\n    };\n\n    module.exports[\"default\"] = module.exports, module.exports.__esModule = true;\n  } else {\n    module.exports = _typeof = function _typeof(obj) {\n      return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj;\n    };\n\n    module.exports[\"default\"] = module.exports, module.exports.__esModule = true;\n  }\n\n  return _typeof(obj);\n}\n\nmodule.exports = _typeof;\nmodule.exports[\"default\"] = module.exports, module.exports.__esModule = true;","var arrayLikeToArray = require(\"./arrayLikeToArray.js\");\n\nfunction _unsupportedIterableToArray(o, minLen) {\n  if (!o) return;\n  if (typeof o === \"string\") return arrayLikeToArray(o, minLen);\n  var n = Object.prototype.toString.call(o).slice(8, -1);\n  if (n === \"Object\" && o.constructor) n = o.constructor.name;\n  if (n === \"Map\" || n === \"Set\") return Array.from(o);\n  if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return arrayLikeToArray(o, minLen);\n}\n\nmodule.exports = _unsupportedIterableToArray;\nmodule.exports[\"default\"] = module.exports, module.exports.__esModule = true;","/**\n * Copyright (c) 2014-present, Facebook, Inc.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n */\n\nvar runtime = (function (exports) {\n  \"use strict\";\n\n  var Op = Object.prototype;\n  var hasOwn = Op.hasOwnProperty;\n  var undefined; // More compressible than void 0.\n  var $Symbol = typeof Symbol === \"function\" ? Symbol : {};\n  var iteratorSymbol = $Symbol.iterator || \"@@iterator\";\n  var asyncIteratorSymbol = $Symbol.asyncIterator || \"@@asyncIterator\";\n  var toStringTagSymbol = $Symbol.toStringTag || \"@@toStringTag\";\n\n  function define(obj, key, value) {\n    Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n    return obj[key];\n  }\n  try {\n    // IE 8 has a broken Object.defineProperty that only works on DOM objects.\n    define({}, \"\");\n  } catch (err) {\n    define = function(obj, key, value) {\n      return obj[key] = value;\n    };\n  }\n\n  function wrap(innerFn, outerFn, self, tryLocsList) {\n    // If outerFn provided and outerFn.prototype is a Generator, then outerFn.prototype instanceof Generator.\n    var protoGenerator = outerFn && outerFn.prototype instanceof Generator ? outerFn : Generator;\n    var generator = Object.create(protoGenerator.prototype);\n    var context = new Context(tryLocsList || []);\n\n    // The ._invoke method unifies the implementations of the .next,\n    // .throw, and .return methods.\n    generator._invoke = makeInvokeMethod(innerFn, self, context);\n\n    return generator;\n  }\n  exports.wrap = wrap;\n\n  // Try/catch helper to minimize deoptimizations. Returns a completion\n  // record like context.tryEntries[i].completion. This interface could\n  // have been (and was previously) designed to take a closure to be\n  // invoked without arguments, but in all the cases we care about we\n  // already have an existing method we want to call, so there's no need\n  // to create a new function object. We can even get away with assuming\n  // the method takes exactly one argument, since that happens to be true\n  // in every case, so we don't have to touch the arguments object. The\n  // only additional allocation required is the completion record, which\n  // has a stable shape and so hopefully should be cheap to allocate.\n  function tryCatch(fn, obj, arg) {\n    try {\n      return { type: \"normal\", arg: fn.call(obj, arg) };\n    } catch (err) {\n      return { type: \"throw\", arg: err };\n    }\n  }\n\n  var GenStateSuspendedStart = \"suspendedStart\";\n  var GenStateSuspendedYield = \"suspendedYield\";\n  var GenStateExecuting = \"executing\";\n  var GenStateCompleted = \"completed\";\n\n  // Returning this object from the innerFn has the same effect as\n  // breaking out of the dispatch switch statement.\n  var ContinueSentinel = {};\n\n  // Dummy constructor functions that we use as the .constructor and\n  // .constructor.prototype properties for functions that return Generator\n  // objects. For full spec compliance, you may wish to configure your\n  // minifier not to mangle the names of these two functions.\n  function Generator() {}\n  function GeneratorFunction() {}\n  function GeneratorFunctionPrototype() {}\n\n  // This is a polyfill for %IteratorPrototype% for environments that\n  // don't natively support it.\n  var IteratorPrototype = {};\n  define(IteratorPrototype, iteratorSymbol, function () {\n    return this;\n  });\n\n  var getProto = Object.getPrototypeOf;\n  var NativeIteratorPrototype = getProto && getProto(getProto(values([])));\n  if (NativeIteratorPrototype &&\n      NativeIteratorPrototype !== Op &&\n      hasOwn.call(NativeIteratorPrototype, iteratorSymbol)) {\n    // This environment has a native %IteratorPrototype%; use it instead\n    // of the polyfill.\n    IteratorPrototype = NativeIteratorPrototype;\n  }\n\n  var Gp = GeneratorFunctionPrototype.prototype =\n    Generator.prototype = Object.create(IteratorPrototype);\n  GeneratorFunction.prototype = GeneratorFunctionPrototype;\n  define(Gp, \"constructor\", GeneratorFunctionPrototype);\n  define(GeneratorFunctionPrototype, \"constructor\", GeneratorFunction);\n  GeneratorFunction.displayName = define(\n    GeneratorFunctionPrototype,\n    toStringTagSymbol,\n    \"GeneratorFunction\"\n  );\n\n  // Helper for defining the .next, .throw, and .return methods of the\n  // Iterator interface in terms of a single ._invoke method.\n  function defineIteratorMethods(prototype) {\n    [\"next\", \"throw\", \"return\"].forEach(function(method) {\n      define(prototype, method, function(arg) {\n        return this._invoke(method, arg);\n      });\n    });\n  }\n\n  exports.isGeneratorFunction = function(genFun) {\n    var ctor = typeof genFun === \"function\" && genFun.constructor;\n    return ctor\n      ? ctor === GeneratorFunction ||\n        // For the native GeneratorFunction constructor, the best we can\n        // do is to check its .name property.\n        (ctor.displayName || ctor.name) === \"GeneratorFunction\"\n      : false;\n  };\n\n  exports.mark = function(genFun) {\n    if (Object.setPrototypeOf) {\n      Object.setPrototypeOf(genFun, GeneratorFunctionPrototype);\n    } else {\n      genFun.__proto__ = GeneratorFunctionPrototype;\n      define(genFun, toStringTagSymbol, \"GeneratorFunction\");\n    }\n    genFun.prototype = Object.create(Gp);\n    return genFun;\n  };\n\n  // Within the body of any async function, `await x` is transformed to\n  // `yield regeneratorRuntime.awrap(x)`, so that the runtime can test\n  // `hasOwn.call(value, \"__await\")` to determine if the yielded value is\n  // meant to be awaited.\n  exports.awrap = function(arg) {\n    return { __await: arg };\n  };\n\n  function AsyncIterator(generator, PromiseImpl) {\n    function invoke(method, arg, resolve, reject) {\n      var record = tryCatch(generator[method], generator, arg);\n      if (record.type === \"throw\") {\n        reject(record.arg);\n      } else {\n        var result = record.arg;\n        var value = result.value;\n        if (value &&\n            typeof value === \"object\" &&\n            hasOwn.call(value, \"__await\")) {\n          return PromiseImpl.resolve(value.__await).then(function(value) {\n            invoke(\"next\", value, resolve, reject);\n          }, function(err) {\n            invoke(\"throw\", err, resolve, reject);\n          });\n        }\n\n        return PromiseImpl.resolve(value).then(function(unwrapped) {\n          // When a yielded Promise is resolved, its final value becomes\n          // the .value of the Promise<{value,done}> result for the\n          // current iteration.\n          result.value = unwrapped;\n          resolve(result);\n        }, function(error) {\n          // If a rejected Promise was yielded, throw the rejection back\n          // into the async generator function so it can be handled there.\n          return invoke(\"throw\", error, resolve, reject);\n        });\n      }\n    }\n\n    var previousPromise;\n\n    function enqueue(method, arg) {\n      function callInvokeWithMethodAndArg() {\n        return new PromiseImpl(function(resolve, reject) {\n          invoke(method, arg, resolve, reject);\n        });\n      }\n\n      return previousPromise =\n        // If enqueue has been called before, then we want to wait until\n        // all previous Promises have been resolved before calling invoke,\n        // so that results are always delivered in the correct order. If\n        // enqueue has not been called before, then it is important to\n        // call invoke immediately, without waiting on a callback to fire,\n        // so that the async generator function has the opportunity to do\n        // any necessary setup in a predictable way. This predictability\n        // is why the Promise constructor synchronously invokes its\n        // executor callback, and why async functions synchronously\n        // execute code before the first await. Since we implement simple\n        // async functions in terms of async generators, it is especially\n        // important to get this right, even though it requires care.\n        previousPromise ? previousPromise.then(\n          callInvokeWithMethodAndArg,\n          // Avoid propagating failures to Promises returned by later\n          // invocations of the iterator.\n          callInvokeWithMethodAndArg\n        ) : callInvokeWithMethodAndArg();\n    }\n\n    // Define the unified helper method that is used to implement .next,\n    // .throw, and .return (see defineIteratorMethods).\n    this._invoke = enqueue;\n  }\n\n  defineIteratorMethods(AsyncIterator.prototype);\n  define(AsyncIterator.prototype, asyncIteratorSymbol, function () {\n    return this;\n  });\n  exports.AsyncIterator = AsyncIterator;\n\n  // Note that simple async functions are implemented on top of\n  // AsyncIterator objects; they just return a Promise for the value of\n  // the final result produced by the iterator.\n  exports.async = function(innerFn, outerFn, self, tryLocsList, PromiseImpl) {\n    if (PromiseImpl === void 0) PromiseImpl = Promise;\n\n    var iter = new AsyncIterator(\n      wrap(innerFn, outerFn, self, tryLocsList),\n      PromiseImpl\n    );\n\n    return exports.isGeneratorFunction(outerFn)\n      ? iter // If outerFn is a generator, return the full iterator.\n      : iter.next().then(function(result) {\n          return result.done ? result.value : iter.next();\n        });\n  };\n\n  function makeInvokeMethod(innerFn, self, context) {\n    var state = GenStateSuspendedStart;\n\n    return function invoke(method, arg) {\n      if (state === GenStateExecuting) {\n        throw new Error(\"Generator is already running\");\n      }\n\n      if (state === GenStateCompleted) {\n        if (method === \"throw\") {\n          throw arg;\n        }\n\n        // Be forgiving, per 25.3.3.3.3 of the spec:\n        // https://people.mozilla.org/~jorendorff/es6-draft.html#sec-generatorresume\n        return doneResult();\n      }\n\n      context.method = method;\n      context.arg = arg;\n\n      while (true) {\n        var delegate = context.delegate;\n        if (delegate) {\n          var delegateResult = maybeInvokeDelegate(delegate, context);\n          if (delegateResult) {\n            if (delegateResult === ContinueSentinel) continue;\n            return delegateResult;\n          }\n        }\n\n        if (context.method === \"next\") {\n          // Setting context._sent for legacy support of Babel's\n          // function.sent implementation.\n          context.sent = context._sent = context.arg;\n\n        } else if (context.method === \"throw\") {\n          if (state === GenStateSuspendedStart) {\n            state = GenStateCompleted;\n            throw context.arg;\n          }\n\n          context.dispatchException(context.arg);\n\n        } else if (context.method === \"return\") {\n          context.abrupt(\"return\", context.arg);\n        }\n\n        state = GenStateExecuting;\n\n        var record = tryCatch(innerFn, self, context);\n        if (record.type === \"normal\") {\n          // If an exception is thrown from innerFn, we leave state ===\n          // GenStateExecuting and loop back for another invocation.\n          state = context.done\n            ? GenStateCompleted\n            : GenStateSuspendedYield;\n\n          if (record.arg === ContinueSentinel) {\n            continue;\n          }\n\n          return {\n            value: record.arg,\n            done: context.done\n          };\n\n        } else if (record.type === \"throw\") {\n          state = GenStateCompleted;\n          // Dispatch the exception by looping back around to the\n          // context.dispatchException(context.arg) call above.\n          context.method = \"throw\";\n          context.arg = record.arg;\n        }\n      }\n    };\n  }\n\n  // Call delegate.iterator[context.method](context.arg) and handle the\n  // result, either by returning a { value, done } result from the\n  // delegate iterator, or by modifying context.method and context.arg,\n  // setting context.delegate to null, and returning the ContinueSentinel.\n  function maybeInvokeDelegate(delegate, context) {\n    var method = delegate.iterator[context.method];\n    if (method === undefined) {\n      // A .throw or .return when the delegate iterator has no .throw\n      // method always terminates the yield* loop.\n      context.delegate = null;\n\n      if (context.method === \"throw\") {\n        // Note: [\"return\"] must be used for ES3 parsing compatibility.\n        if (delegate.iterator[\"return\"]) {\n          // If the delegate iterator has a return method, give it a\n          // chance to clean up.\n          context.method = \"return\";\n          context.arg = undefined;\n          maybeInvokeDelegate(delegate, context);\n\n          if (context.method === \"throw\") {\n            // If maybeInvokeDelegate(context) changed context.method from\n            // \"return\" to \"throw\", let that override the TypeError below.\n            return ContinueSentinel;\n          }\n        }\n\n        context.method = \"throw\";\n        context.arg = new TypeError(\n          \"The iterator does not provide a 'throw' method\");\n      }\n\n      return ContinueSentinel;\n    }\n\n    var record = tryCatch(method, delegate.iterator, context.arg);\n\n    if (record.type === \"throw\") {\n      context.method = \"throw\";\n      context.arg = record.arg;\n      context.delegate = null;\n      return ContinueSentinel;\n    }\n\n    var info = record.arg;\n\n    if (! info) {\n      context.method = \"throw\";\n      context.arg = new TypeError(\"iterator result is not an object\");\n      context.delegate = null;\n      return ContinueSentinel;\n    }\n\n    if (info.done) {\n      // Assign the result of the finished delegate to the temporary\n      // variable specified by delegate.resultName (see delegateYield).\n      context[delegate.resultName] = info.value;\n\n      // Resume execution at the desired location (see delegateYield).\n      context.next = delegate.nextLoc;\n\n      // If context.method was \"throw\" but the delegate handled the\n      // exception, let the outer generator proceed normally. If\n      // context.method was \"next\", forget context.arg since it has been\n      // \"consumed\" by the delegate iterator. If context.method was\n      // \"return\", allow the original .return call to continue in the\n      // outer generator.\n      if (context.method !== \"return\") {\n        context.method = \"next\";\n        context.arg = undefined;\n      }\n\n    } else {\n      // Re-yield the result returned by the delegate method.\n      return info;\n    }\n\n    // The delegate iterator is finished, so forget it and continue with\n    // the outer generator.\n    context.delegate = null;\n    return ContinueSentinel;\n  }\n\n  // Define Generator.prototype.{next,throw,return} in terms of the\n  // unified ._invoke helper method.\n  defineIteratorMethods(Gp);\n\n  define(Gp, toStringTagSymbol, \"Generator\");\n\n  // A Generator should always return itself as the iterator object when the\n  // @@iterator function is called on it. Some browsers' implementations of the\n  // iterator prototype chain incorrectly implement this, causing the Generator\n  // object to not be returned from this call. This ensures that doesn't happen.\n  // See https://github.com/facebook/regenerator/issues/274 for more details.\n  define(Gp, iteratorSymbol, function() {\n    return this;\n  });\n\n  define(Gp, \"toString\", function() {\n    return \"[object Generator]\";\n  });\n\n  function pushTryEntry(locs) {\n    var entry = { tryLoc: locs[0] };\n\n    if (1 in locs) {\n      entry.catchLoc = locs[1];\n    }\n\n    if (2 in locs) {\n      entry.finallyLoc = locs[2];\n      entry.afterLoc = locs[3];\n    }\n\n    this.tryEntries.push(entry);\n  }\n\n  function resetTryEntry(entry) {\n    var record = entry.completion || {};\n    record.type = \"normal\";\n    delete record.arg;\n    entry.completion = record;\n  }\n\n  function Context(tryLocsList) {\n    // The root entry object (effectively a try statement without a catch\n    // or a finally block) gives us a place to store values thrown from\n    // locations where there is no enclosing try statement.\n    this.tryEntries = [{ tryLoc: \"root\" }];\n    tryLocsList.forEach(pushTryEntry, this);\n    this.reset(true);\n  }\n\n  exports.keys = function(object) {\n    var keys = [];\n    for (var key in object) {\n      keys.push(key);\n    }\n    keys.reverse();\n\n    // Rather than returning an object with a next method, we keep\n    // things simple and return the next function itself.\n    return function next() {\n      while (keys.length) {\n        var key = keys.pop();\n        if (key in object) {\n          next.value = key;\n          next.done = false;\n          return next;\n        }\n      }\n\n      // To avoid creating an additional object, we just hang the .value\n      // and .done properties off the next function object itself. This\n      // also ensures that the minifier will not anonymize the function.\n      next.done = true;\n      return next;\n    };\n  };\n\n  function values(iterable) {\n    if (iterable) {\n      var iteratorMethod = iterable[iteratorSymbol];\n      if (iteratorMethod) {\n        return iteratorMethod.call(iterable);\n      }\n\n      if (typeof iterable.next === \"function\") {\n        return iterable;\n      }\n\n      if (!isNaN(iterable.length)) {\n        var i = -1, next = function next() {\n          while (++i < iterable.length) {\n            if (hasOwn.call(iterable, i)) {\n              next.value = iterable[i];\n              next.done = false;\n              return next;\n            }\n          }\n\n          next.value = undefined;\n          next.done = true;\n\n          return next;\n        };\n\n        return next.next = next;\n      }\n    }\n\n    // Return an iterator with no values.\n    return { next: doneResult };\n  }\n  exports.values = values;\n\n  function doneResult() {\n    return { value: undefined, done: true };\n  }\n\n  Context.prototype = {\n    constructor: Context,\n\n    reset: function(skipTempReset) {\n      this.prev = 0;\n      this.next = 0;\n      // Resetting context._sent for legacy support of Babel's\n      // function.sent implementation.\n      this.sent = this._sent = undefined;\n      this.done = false;\n      this.delegate = null;\n\n      this.method = \"next\";\n      this.arg = undefined;\n\n      this.tryEntries.forEach(resetTryEntry);\n\n      if (!skipTempReset) {\n        for (var name in this) {\n          // Not sure about the optimal order of these conditions:\n          if (name.charAt(0) === \"t\" &&\n              hasOwn.call(this, name) &&\n              !isNaN(+name.slice(1))) {\n            this[name] = undefined;\n          }\n        }\n      }\n    },\n\n    stop: function() {\n      this.done = true;\n\n      var rootEntry = this.tryEntries[0];\n      var rootRecord = rootEntry.completion;\n      if (rootRecord.type === \"throw\") {\n        throw rootRecord.arg;\n      }\n\n      return this.rval;\n    },\n\n    dispatchException: function(exception) {\n      if (this.done) {\n        throw exception;\n      }\n\n      var context = this;\n      function handle(loc, caught) {\n        record.type = \"throw\";\n        record.arg = exception;\n        context.next = loc;\n\n        if (caught) {\n          // If the dispatched exception was caught by a catch block,\n          // then let that catch block handle the exception normally.\n          context.method = \"next\";\n          context.arg = undefined;\n        }\n\n        return !! caught;\n      }\n\n      for (var i = this.tryEntries.length - 1; i >= 0; --i) {\n        var entry = this.tryEntries[i];\n        var record = entry.completion;\n\n        if (entry.tryLoc === \"root\") {\n          // Exception thrown outside of any try block that could handle\n          // it, so set the completion value of the entire function to\n          // throw the exception.\n          return handle(\"end\");\n        }\n\n        if (entry.tryLoc <= this.prev) {\n          var hasCatch = hasOwn.call(entry, \"catchLoc\");\n          var hasFinally = hasOwn.call(entry, \"finallyLoc\");\n\n          if (hasCatch && hasFinally) {\n            if (this.prev < entry.catchLoc) {\n              return handle(entry.catchLoc, true);\n            } else if (this.prev < entry.finallyLoc) {\n              return handle(entry.finallyLoc);\n            }\n\n          } else if (hasCatch) {\n            if (this.prev < entry.catchLoc) {\n              return handle(entry.catchLoc, true);\n            }\n\n          } else if (hasFinally) {\n            if (this.prev < entry.finallyLoc) {\n              return handle(entry.finallyLoc);\n            }\n\n          } else {\n            throw new Error(\"try statement without catch or finally\");\n          }\n        }\n      }\n    },\n\n    abrupt: function(type, arg) {\n      for (var i = this.tryEntries.length - 1; i >= 0; --i) {\n        var entry = this.tryEntries[i];\n        if (entry.tryLoc <= this.prev &&\n            hasOwn.call(entry, \"finallyLoc\") &&\n            this.prev < entry.finallyLoc) {\n          var finallyEntry = entry;\n          break;\n        }\n      }\n\n      if (finallyEntry &&\n          (type === \"break\" ||\n           type === \"continue\") &&\n          finallyEntry.tryLoc <= arg &&\n          arg <= finallyEntry.finallyLoc) {\n        // Ignore the finally entry if control is not jumping to a\n        // location outside the try/catch block.\n        finallyEntry = null;\n      }\n\n      var record = finallyEntry ? finallyEntry.completion : {};\n      record.type = type;\n      record.arg = arg;\n\n      if (finallyEntry) {\n        this.method = \"next\";\n        this.next = finallyEntry.finallyLoc;\n        return ContinueSentinel;\n      }\n\n      return this.complete(record);\n    },\n\n    complete: function(record, afterLoc) {\n      if (record.type === \"throw\") {\n        throw record.arg;\n      }\n\n      if (record.type === \"break\" ||\n          record.type === \"continue\") {\n        this.next = record.arg;\n      } else if (record.type === \"return\") {\n        this.rval = this.arg = record.arg;\n        this.method = \"return\";\n        this.next = \"end\";\n      } else if (record.type === \"normal\" && afterLoc) {\n        this.next = afterLoc;\n      }\n\n      return ContinueSentinel;\n    },\n\n    finish: function(finallyLoc) {\n      for (var i = this.tryEntries.length - 1; i >= 0; --i) {\n        var entry = this.tryEntries[i];\n        if (entry.finallyLoc === finallyLoc) {\n          this.complete(entry.completion, entry.afterLoc);\n          resetTryEntry(entry);\n          return ContinueSentinel;\n        }\n      }\n    },\n\n    \"catch\": function(tryLoc) {\n      for (var i = this.tryEntries.length - 1; i >= 0; --i) {\n        var entry = this.tryEntries[i];\n        if (entry.tryLoc === tryLoc) {\n          var record = entry.completion;\n          if (record.type === \"throw\") {\n            var thrown = record.arg;\n            resetTryEntry(entry);\n          }\n          return thrown;\n        }\n      }\n\n      // The context.catch method must only be called with a location\n      // argument that corresponds to a known catch block.\n      throw new Error(\"illegal catch attempt\");\n    },\n\n    delegateYield: function(iterable, resultName, nextLoc) {\n      this.delegate = {\n        iterator: values(iterable),\n        resultName: resultName,\n        nextLoc: nextLoc\n      };\n\n      if (this.method === \"next\") {\n        // Deliberately forget the last sent value so that we don't\n        // accidentally pass it on to the delegate.\n        this.arg = undefined;\n      }\n\n      return ContinueSentinel;\n    }\n  };\n\n  // Regardless of whether this script is executing as a CommonJS module\n  // or not, return the runtime object so that we can declare the variable\n  // regeneratorRuntime in the outer scope, which allows this module to be\n  // injected easily by `bin/regenerator --include-runtime script.js`.\n  return exports;\n\n}(\n  // If this script is executing as a CommonJS module, use module.exports\n  // as the regeneratorRuntime namespace. Otherwise create a new empty\n  // object. Either way, the resulting object will be used to initialize\n  // the regeneratorRuntime variable at the top of this file.\n  typeof module === \"object\" ? module.exports : {}\n));\n\ntry {\n  regeneratorRuntime = runtime;\n} catch (accidentalStrictMode) {\n  // This module should not be running in strict mode, so the above\n  // assignment should always work unless something is misconfigured. Just\n  // in case runtime.js accidentally runs in strict mode, in modern engines\n  // we can explicitly access globalThis. In older engines we can escape\n  // strict mode using a global Function call. This could conceivably fail\n  // if a Content Security Policy forbids using Function, but in that case\n  // the proper solution is to fix the accidental strict mode problem. If\n  // you've misconfigured your bundler to force strict mode and applied a\n  // CSP to forbid Function, and you're not willing to fix either of those\n  // problems, please detail your unique predicament in a GitHub issue.\n  if (typeof globalThis === \"object\") {\n    globalThis.regeneratorRuntime = runtime;\n  } else {\n    Function(\"r\", \"regeneratorRuntime = r\")(runtime);\n  }\n}\n","module.exports = require(\"regenerator-runtime\");\n","import AppNode from \"./nodes/AppNode\";\nimport { TransText } from \"./localize/localize\";\n\nfunction getDefaultCardType() {\n  return {\n    id: \"default\",\n    name: \"Default\",\n  };\n}\n\nfunction addDefaults(originalApp) {\n  if (!originalApp.cardTypes) {\n    originalApp.cardTypes = {\n      default: getDefaultCardType(),\n    };\n  } else {\n    originalApp.cardTypes.default = getDefaultCardType();\n  }\n  return originalApp;\n}\n\nexport default class HippoValidator {\n  constructor(appJson, entities, lang = \"en\") {\n    this.lang = lang;\n    try {\n      const langModule = require(`./localize/langs/${lang}.json`);\n      TransText.addContent({ [lang]: langModule });\n      TransText.setLanguage(lang);\n    } catch (e) {\n      const langModule = require(`./localize/langs/en.json`);\n      TransText.addContent({ [lang]: langModule });\n      TransText.setLanguage(lang);\n    }\n    this.data = this.jsonTraverse(appJson);\n    if (this.data.appJson) {\n      this.data.appJson = {\n        app: addDefaults(this.data.appJson),\n      };\n    } else {\n      this.data = {\n        app: addDefaults(this.data),\n      };\n    }\n    this.entities = entities;\n    this.inplaceErrorMessage = false;\n  }\n\n  static isEmpty(val) {\n    if (val === undefined) return true;\n    if (\n      typeof val == \"function\" ||\n      typeof val == \"number\" ||\n      typeof val == \"boolean\" ||\n      Object.prototype.toString.call(val) === \"[object Date]\"\n    )\n      return false;\n    if (val == null || val.length === 0) return true;\n    return typeof val == \"object\" && Object.keys(val).length === 0;\n  }\n\n  jsonTraverse(obj) {\n    for (const key in obj) {\n      const value = obj[key];\n      if (HippoValidator.isEmpty(value)) {\n        delete obj[key];\n      } else if (typeof value === \"object\") {\n        this.jsonTraverse(value);\n      }\n    }\n    return obj;\n  }\n\n  getLabel(path) {\n    const regex = new RegExp(/\\.?([a-zA-Z0-9]+)[\\W\\d]*?$/gm).exec(path || \"\");\n    const message = regex?.[1] || path || \"\";\n    return this.camelCaseToNormal(message);\n  }\n\n  camelCaseToNormal(message) {\n    return message.replace(/([A-Z])/g, \" $1\").replace(/^./, function (str) {\n      return str.toUpperCase();\n    });\n  }\n\n  validate = (path) => {\n    if (!this.data || typeof this.data != \"object\") {\n      throw new TypeError(\"Invalid json data\");\n    }\n    return this.newValidate(path);\n  };\n  newValidate = async (path) => {\n    return new Promise((resolve, reject) => {\n      let errors = [];\n      this.inplaceErrorMessage = !!path;\n      const node = new AppNode(this.data, this.entities);\n      node.init([]);\n      node.validate(errors, path);\n      if (errors.length > 0) {\n        reject({\n          type: \"ValidationException\",\n          errors: this.convertErrors(errors),\n        });\n      } else {\n        resolve();\n      }\n    });\n  };\n  getViewIds = (isValue) => {\n    if (isValue)\n      return Object.keys(this.data?.views || {})?.map(\n        (i) => i?.viewProps?.name\n      );\n    return Object.keys(this.data?.views || {});\n  };\n\n  getPageIds = (isValue) => {\n    if (isValue)\n      return Object.values(this.data?.views || {})\n        .filter((it) => it.type === \"page\")\n        ?.map((i) => i?.viewProps?.name || \"\");\n    return Object.values(this.data?.views || {})\n      .filter((it) => it.type === \"page\")\n      .map((it) => {\n        return it.id;\n      });\n  };\n\n  getActions = (isValue) => {\n    if (isValue)\n      return Object.values(this.data?.actionGroups || {})?.map(\n        (i) => i?.actions?.name\n      );\n    return Object.keys(this.data?.actionGroups || {});\n  };\n\n  getCardTypes = (isValue) => {\n    if (isValue)\n      return Object.values(this.data?.cardTypes || {})?.map((i) => i?.name);\n    return Object.keys(this.data?.cardTypes || {});\n  };\n\n  getOneOfMessage = (names, e) => {\n    return `${e?.label || e?.path} one of ${names?.join(\", \")}`;\n  };\n\n  getFormIds = (isValue) => {\n    if (isValue)\n      return Object.values(this.data?.integrations?.incoming || {})?.map(\n        (i) => i?.name\n      );\n    return Object.keys(this.data?.integrations?.incoming || {});\n  };\n\n  getRoles = (isValue) => {\n    if (isValue)\n      return Object.values(this?.data?.roles || {})?.map((i) => i?.name);\n    return Object.keys(this?.data?.roles || {});\n  };\n\n  getEnvironments = () => {\n    return Object.keys(this?.data?.environments);\n  };\n\n  getComponents = (isValue) => {\n    if (isValue)\n      return Object.values(this?.data?.components || {}).map((i) => i?.type);\n    return Object.keys(this?.data?.components || {});\n  };\n\n  errorFlat = (errors) => {\n    return errors.reduce((sumErrors, errorItem) => {\n      if (\n        !sumErrors?.some(\n          (e) => e?.code === errorItem?.code && e?.path === errorItem?.path\n        )\n      ) {\n        sumErrors.push(errorItem);\n      }\n      return sumErrors;\n    }, []);\n  };\n  getInvalidValueErrorTitle = (errorType, label) => {\n    switch (errorType) {\n      case \"oneOf\":\n      case \"enumValue\":\n        return TransText.getTranslate(\n          \"valueIsDeletedByNode\",\n          this.camelCaseToNormal(label)\n        );\n      case \"required\":\n        return TransText.getTranslate(\n          \"valueIsRequiredByNode\",\n          this.camelCaseToNormal(label)\n        );\n      default:\n        return \"\";\n    }\n  };\n  errorHumanize = (errors) => {\n    return errors?.map((error) => {\n      let message = error?.message || \"\";\n      if (message.includes(error?.path)) {\n        message = message.replace(\n          error?.path,\n          this.getLabel(error?.path, error?.params?.label)\n        );\n      }\n      if (message.includes(error?.relativePath)) {\n        message = message.replace(\n          error?.relativePath,\n          this.getLabel(error?.relativePath, error?.params?.label)\n        );\n      }\n      const isCod = TransText.isTag(error?.code);\n      const caseTitle = isCod\n        ? TransText.getTranslate(error.code)\n        : this.camelCaseToNormal(error?.code);\n      return {\n        ...error,\n        message: message,\n        errorTitle: error?.fieldLabel\n          ? this.getInvalidValueErrorTitle(error?.code, error?.fieldLabel)\n          : TransText.getTranslate(\"errorTitle\", caseTitle),\n      };\n    });\n  };\n  static jsonPatchPathToQueryPath(path, seperator = \"/\") {\n    let allPaths = path.split(seperator);\n    allPaths = allPaths.filter(Boolean);\n    let finalResult = \"\";\n    let numRegExp = /^\\d+$/;\n    for (let i = 0; i < allPaths.length; i++) {\n      let pathItem = allPaths[i];\n      let val = null;\n      if (numRegExp.test(pathItem)) {\n        val = \"[\" + pathItem + \"]\";\n      } else {\n        val = pathItem;\n      }\n      // else{\n      //     val = \"[\\\"\"+pathItem+\"\\\"]\";\n      // }\n      if (val.charAt(0) === \"[\") {\n        finalResult += val;\n      } else {\n        finalResult += finalResult.length === 0 ? val : \".\" + val;\n      }\n    }\n    return finalResult;\n  }\n  static queryPathToJsonPath(path, seperator = \".\") {\n    if (!path) return null;\n    let allPaths = (path || \"\").split(seperator);\n    allPaths = allPaths.filter(Boolean);\n    let finalResult = \"\";\n    for (let i = 0; i < allPaths.length; i++) {\n      let pathItem = allPaths[i];\n      finalResult += \"/\" + pathItem.replace(/\\[(\\d*)\\]/g, (m, i) => \"/\" + i);\n    }\n    return finalResult;\n  }\n  static normalizePath = (path) => {\n    let processPath = path;\n    processPath = HippoValidator.queryPathToJsonPath(processPath);\n    processPath = HippoValidator.jsonPatchPathToQueryPath(processPath);\n    return processPath;\n  };\n  convertErrors = (errors) => {\n    errors = errors.map((error) => {\n      let convertedError = {\n        code: this.convertErrorCode(error.type),\n        message: this.convertMessage(error),\n        path: HippoValidator.normalizePath(error.path),\n        fieldLabel: this.searchForLabelRegex(error?.message),\n        relativePath: error?.relativePath,\n        params: {\n          value: error?.actual,\n          originalValue: error?.actual,\n          label: error.field,\n          path: HippoValidator.normalizePath(error.path),\n          values: this.convertActualValues(error),\n          resolved: this.convertActualResolved(error),\n        },\n      };\n      return convertedError;\n    });\n    errors = this.errorFlat(errors);\n    errors = this.errorHumanize(errors);\n    return errors;\n  };\n  convertErrorCode = (code) => {\n    switch (code) {\n      case \"enumValue\":\n        return \"oneOf\";\n      default:\n        return code;\n    }\n  };\n  convertActualValues = (error) => {\n    const toIdsItem = (id, label) => {\n      return {\n        id,\n        label: label,\n      };\n    };\n    const collections = Object.values(\n      this.data?.app?.cardCollections || {}\n    )?.map((i) => toIdsItem(i?.id, i?.name));\n    const roles = Object.values(this.data?.app?.roles || {})?.map((i) =>\n      toIdsItem(i?.id, i?.name)\n    );\n    const views = Object.values(this.data?.app?.views || {})?.map((i) =>\n      toIdsItem(i?.id, i?.viewProps?.name)\n    );\n    const forms = Object.values(\n      this.data?.app?.integrations?.incoming || {}\n    )?.map((i) => toIdsItem(i?.id, i?.name));\n    const hippoFields = Object.values(\n      this.data?.app?.fieldDefinitions?.hippoFields || {}\n    )?.map((i) => toIdsItem(i?.id, i?.label));\n    const appVariables = Object.values(\n      this.data?.app?.fieldDefinitions?.appVariableFields || {}\n    )?.map((i) => toIdsItem(i?.id, i?.label));\n    const automations = Object.values(this.data?.app?.automations || {})?.map(\n      (i) => toIdsItem(i?.id, i?.name)\n    );\n    const lists = (this.entities?.trelloLists || [])?.map((i) =>\n      toIdsItem(i?.hippoId, i?.name)\n    );\n    const labels = (this.entities?.trelloLabels || [])?.map((i) =>\n      toIdsItem(i?.hippoId, i?.name || i?.color || false)\n    );\n    const members = (this.entities?.members || [])?.map((i) =>\n      toIdsItem(i?.hippoId || i?.id, i?.name)\n    );\n    const apps = (this.entities?.apps || [])?.map((i) =>\n      toIdsItem(i?.id, i?.name)\n    );\n    const ids = [\n      ...(roles || []),\n      ...(apps || []),\n      ...(collections || []),\n      ...(views || []),\n      ...(forms || []),\n      ...(hippoFields || []),\n      ...(appVariables || []),\n      ...(automations || []),\n      ...(lists || []),\n      ...(labels || []),\n      ...(members || []),\n    ].filter(Boolean);\n    const expected = error?.expected;\n    const expectedType = typeof expected;\n    if (Array.isArray(expected) || expectedType === \"string\") {\n      let values = expected?.includes(\", \")\n        ? expected?.split(\", \")\n        : error?.expected;\n      if (Array.isArray(values)) {\n        values = values?.map(\n          (id) => ids?.find((i) => i?.id === id)?.label || id\n        );\n        values = values.join(\", \");\n      } else {\n        const trimValue = (values || \"\").trim();\n        values = ids?.find((i) => i?.id === trimValue)?.label || values;\n      }\n      return values;\n    }\n    return expected;\n  };\n\n  convertActualResolved = (error) => {\n    let values = error.expected;\n    if (values && typeof values === \"string\") {\n      values = values.split(\",\");\n    }\n    return values;\n  };\n\n  searchForLabelRegex = (message) => {\n    const messageRegx = new RegExp(/{{{label\\:(.*)\\}\\}\\}/gm);\n    const messageFound = messageRegx.exec(message || \"\");\n    return messageFound?.[1] || false;\n  };\n  labelOneOfMultipleSelect = (label) => {\n    return [\"label\", \"member\"].includes(label);\n  };\n\n  convertMessage = (error) => {\n    const fieldLabel = this.searchForLabelRegex(error?.message);\n    if (fieldLabel) {\n      switch (error.type) {\n        case \"oneOf\":\n        case \"enumValue\":\n          const isMultiple = this.labelOneOfMultipleSelect(fieldLabel);\n          return TransText.getTranslate(\n            isMultiple ? \"removeDeletedField\" : \"chooseAnotherField\",\n            fieldLabel\n          );\n        case \"notOneOf\":\n          return TransText.getTranslate(\n            \"mustNotBeOneOf\",\n            error?.label || error.field || \"\",\n            this.convertActualValues(error)\n          );\n        case \"notExists\":\n          return TransText.getTranslate(\"valueUsedCannotFound\", error?.path);\n        case \"required\":\n          return TransText.getTranslate(\"selectFieldLabel\", fieldLabel);\n        default:\n          return error.message;\n      }\n    } else {\n      switch (error.type) {\n        case \"oneOf\":\n        case \"enumValue\":\n          return TransText.getTranslate(\n            \"mustBeOneOf\",\n            error?.label || error.field || \"\",\n            this.convertActualValues(error)\n          );\n        case \"notOneOf\":\n          return TransText.getTranslate(\n            \"mustNotBeOneOf\",\n            error?.label || error.field || \"\",\n            this.convertActualValues(error)\n          );\n        case \"notExists\":\n          return TransText.getTranslate(\"valueUsedCannotFound\", error?.path);\n        case \"uniqueValue\":\n          return TransText.getTranslate(\n            \"mustBeUniqNode\",\n            error?.label || error.field || \"\"\n          );\n        default:\n          return error.message;\n      }\n    }\n  };\n}\n","import get from \"lodash/get\";\nexport default class JSONUtils {\n  static query(json, path) {\n    if (path == null) {\n      return json;\n    }\n    return get(json, path);\n  }\n}\n","import {FILE_MIME_MAPPING} from \"../constants\";\nexport const checkAttachmentTypeIsValid = (data) => {\n  if (!data) return false;\n  const types = data.split(',').map(type => type.trim()).filter(type => type !== \"\");\n  return types.every(type => FILE_MIME_MAPPING.hasOwnProperty(type));\n};\nexport const getValidAttachmentFileTypes = () => Object.keys(FILE_MIME_MAPPING)\n","import VariableNode from \"../nodes/VariableNode\";\n\nexport function conditionValueCheckFunc(appJson, entries, value, errors, schema, path, parentNode){\n  if(![\"empty\", \"notempty\"].includes(parentNode?.operator)){\n    if(value === \"[[[nullValue]]]\" && parentNode?.valueType === \"value\"){\n      errors.push({type: \"required\"})\n    }\n    else if(parentNode?.valueType === \"value\" && value){\n      const field = parentNode?.field;\n      const searchField = field.replace(/\\.(hippoId|id)$/g, \"\")\n      const node = new VariableNode(appJson, \"\", searchField)\n      node.init(null, entries)\n      const enums =  node.getRightValues()\n      if(enums != null){\n        let hasError = false;\n        if(Array.isArray(value)) hasError = !value.every((i) => enums.includes(i))\n        else hasError = !enums.includes(value)\n        if (hasError){\n          errors.push({type: \"enumValue\", label: node.createMustacheLabel(node.getRightValueEntityName()), value, expected: enums})\n        }\n      }\n    }\n  }\n  return value\n}","import {conditionValueCheckFunc} from \"./conditionValueCheckFunc\";\nimport {OPERATORS} from \"../constants\";\nimport getValidator from \"./getValidator\";\n\n export const conditionsWithOr = (appJson, entries) => getValidator({useNewCustomCheckerFunction: true}).compile({\n  conditions: {\n    type: 'array',\n    optional: true,\n    items: {\n      type: 'array',\n      items: {\n        type: \"object\",\n        props: {\n          field: 'string|empty:false',\n          operator: {\n            type: 'enum',\n            values: OPERATORS\n          },\n          value: {\n            type: 'custom',\n            nullable: true,\n            default: \"[[[nullValue]]]\",\n            check: conditionValueCheckFunc.bind(this, appJson, entries)\n          },\n          valueType: {\n            type: 'enum',\n            values: [\"variable\", \"value\"]\n          }\n        }\n      }\n    }\n  }\n})\n","import {conditionValueCheckFunc} from \"./conditionValueCheckFunc\";\nimport {OPERATORS} from \"../constants\";\nimport getValidator from \"./getValidator\";\n\n export const conditionsWithAnd = (appJson, entries) => {\n   return getValidator({useNewCustomCheckerFunction: true}).compile({\n     conditions: {\n       type: 'array',\n       optional: true,\n       items: {\n         type: 'array',\n         items: {\n           type: 'object',\n           props: {\n             field: 'string|empty:false',\n             operator: {\n               type: 'enum',\n               values: OPERATORS\n             },\n             value: {\n               type: \"custom\",\n               nullable: true,\n               default: \"[[[nullValue]]]\",\n               check: conditionValueCheckFunc.bind(this, appJson, entries)\n             },\n             valueType: {\n               type: 'enum',\n               values: [\"variable\", \"value\"]\n             }\n           }\n         }\n       }\n     }\n   })\n }","import HippoValidator from \"../HippoValidator\";\nimport getValidator from \"./getValidator\";\n\nexport const formConditionsWithAnd = getValidator().compile({\n  conjunction: {\n    type: \"enum\",\n    values: [\"AND\", \"OR\", \"NOR\"],\n  },\n  rules: {\n    type: \"array\",\n    optional: true,\n  },\n});\nexport const formConditionRule = getValidator({\n  useNewCustomCheckerFunction: true,\n}).compile({\n  field: \"string|empty:false\",\n  operator: {\n    type: \"enum\",\n    values: [\n      \"equal\",\n      \"not_equal\",\n      \"less\",\n      \"less_or_equal\",\n      \"greater\",\n      \"greater_or_equal\",\n      \"between\",\n      \"not_between\",\n      \"select_equals\",\n      \"select_not_equals\",\n      \"select_not_any_in\",\n      \"any_in\",\n      \"not_any_in\",\n      \"multiselect_equals\",\n      \"multiselect_not_equals\",\n      \"is_empty\",\n      \"is_not_empty\",\n      \"select_any_in\",\n    ],\n  },\n  value: {\n    type: \"custom\",\n    default: \"[[[nullValue]]]\",\n    check(v, errors, schema, path, parentNode, context) {\n      const { operator, value } = context?.data || {};\n      const isEmptyValue = HippoValidator.isEmpty(value);\n      if (![\"is_empty\", \"is_not_empty\"].includes(operator)) {\n        if (value === \"[[[nullValue]]]\" || isEmptyValue) {\n          errors.push({ type: \"required\" });\n        }\n      }\n      return value;\n    },\n  },\n});\n","export const FORM_INPUT_NAMES = {\n  ATTACHMENT_SELECTOR: \"AttachmentSelector\",\n  TRELLO_LABEL_SELECTOR: \"TrelloLabelSelector\",\n  TRELLO_LIST_SELECTOR: \"TrelloListSelector\",\n  TRELLO_CHECKLIST_SELECTOR: \"TrelloChecklistSelector\",\n  FIELD_SELECTOR: \"FieldSelector\",\n  USER_SELECTOR: \"UserSelector\",\n  SHORT_TEXT: \"EditText\",\n  LONG_TEXT: \"LongText\",\n  EMAIL: \"Email\",\n  NUMBER: \"Number\",\n  WEBSITE: \"Website\",\n  PHONE: \"Phone\",\n  BUTTON: \"Button\",\n  ATTACHMENT: \"Attachment\",\n  DATE_PICKER_ITEM: \"Date\",\n  DATE_TIME_PICKER_ITEM: \"DateTime\",\n  TIME_PICKER: \"Time\",\n  RADIO_BUTTON: \"RadioButton\",\n  SELECT_BOX: \"SelectBox\",\n  CAPTCHA: \"Captcha\",\n  HORIZONTAL_LINE: \"HorizontalLine\",\n  PARAGRAPH: \"Paragraph\",\n  TITLE: \"Title\",\n  RATING_ITEM: \"Rating\",\n  CHECKBOX: \"Checkbox\",\n  MULTISELECTBOX: \"MultiSelectBox\",\n  RICH_TEXT_INPUT: \"RichTextInput\",\n  BOOLEAN: \"Boolean\"\n};","import Validator from \"fastest-validator\";\nimport {TransText} from \"../localize/localize\";\n\nexport default (others) => {\n  const languageString = TransText.getLanguageString(TransText.getLanguage())\n  const messages = Object.entries(languageString).reduce((acc, [key, text]) => {\n    if(key.startsWith('validate.')) {\n      const newKey = key.replace(\"validate.\", \"\")\n      acc[newKey] = text\n    }\n    return acc\n  }, {})\n  return new Validator({\n    ...others,\n    messages: {\n      ...(others?.messages),\n      ...messages\n    }\n  })\n}","const SUBDOMAIN_BLACKLIST = [\"playground\", \"console\", \"hippo\", \"admin\"]\nconst PAGE_SLUG_BLACKLIST = [\n  \"forms\",\n  \"form\",\n  \"page\",\n  \"signin\",\n  \"signup\",\n  \"forgot\"\n]\nconst APP_SLUG_BLACKLIST = [\n  \"hippo\",\n  \"trello\",\n  \"hipporello\",\n  \"onboarding\"\n]\nconst LATEST_APP_SCHEMA_VERSION = 5;\nconst VARIABLE_TYPES = [\"string\", \"double\", \"long\", \"boolean\", \"attachment\", \"date\", \"datetime\", \"time\"]\nconst RESOLVE_TYPES = {\n  RESOLVE_LIST_BY_HIPPO_ID: \"RESOLVE_LIST_BY_HIPPO_ID\",\n  RESOLVE_LABEL_BY_HIPPO_ID: \"RESOLVE_LABEL_BY_HIPPO_ID\",\n  RESOLVE_MEMBER_BY_TRELLO_ID: \"RESOLVE_MEMBER_BY_TRELLO_ID\",\n  RESOLVE_USER_BY_USER_ID: \"RESOLVE_USER_BY_USER_ID\",\n  RESOLVE_BOARD_BY_TRELLO_BOARD_ID: \"RESOLVE_BOARD_BY_TRELLO_BOARD_ID\",\n  RESOLVE_CARD_BY_CARD_ID: \"RESOLVE_CARD_BY_CARD_ID\",\n  RESOLVE_FIELD_DEFINITION_BY_ID: \"RESOLVE_FIELD_DEFINITION_BY_ID\",\n  RESOLVE_CHECKLIST_BY_HIPPO_ID: \"RESOLVE_CHECKLIST_BY_HIPPO_ID\",\n}\nconst OPERATORS = [\n  \"equals\",\n  \"notequals\",\n  \"contains\",\n  \"notcontains\",\n  \"startswith\",\n  \"notstartswith\",\n  \"endswith\",\n  \"notendswith\",\n  \"lessthan\",\n  \"lessthanequals\",\n  \"greaterthan\",\n  \"greaterthanequals\",\n  \"in\",\n  \"allin\",\n  \"anyin\",\n  \"notin\",\n  \"empty\",\n  \"notempty\",\n  \"has\",\n  \"hasall\",\n  \"hasany\",\n  \"hasnone\",\n  \"doesnthave\",\n]\nconst COMPONENT_TYPES = [\n  \"header\",\n  \"paragraph\",\n  \"list\",\n  \"icon\",\n  \"appList\",\n  \"formList\",\n  \"sidebar\",\n  \"hyperlink\",\n  \"image\",\n  \"video\",\n  \"hippoFields\",\n  \"appVariables\",\n  \"label\",\n  \"button\",\n  \"TrelloCardSharing\",\n  \"trelloChecklist\",\n  \"table\",\n  \"date\",\n  \"dropdown\",\n  \"row\",\n  \"Image\",\n  \"AppVariables\",\n  \"Header\",\n  \"horizontalline\",\n  \"html\",\n  \"dropdownItem\",\n  \"attachmentList\",\n  \"menuItem\",\n  \"cardMenuItem\",\n  \"tableColumn\",\n  \"menu\",\n  \"HippoFields\",\n  \"Conversation\",\n  \"column\",\n  \"columns\",\n  \"userManagement\",\n  \"shareButton\",\n  \"customFields\",\n  \"trelloActivities\",\n  \"accordion\",\n  \"accordionItem\",\n  \"accordionItemBody\",\n  \"accordionItemHeader\"\n]\nconst FILE_MIME_MAPPING = {\n  pdf: \"application/pdf\",\n  doc: \"application/msword\",\n  docx: \"application/vnd.openxmlformats-officedocument.wordprocessingml.document\",\n  xls: \"application/vnd.ms-excel\",\n  xlsx: \"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet\",\n  csv: \"text/csv\",\n  txt: \"text/plain\",\n  rtf: \"application/rtf\",\n  html: \"text/html\",\n  zip: \"application/zip\",\n  mp3: \"audio/mpeg\",\n  wma: \"audio/x-ms-wma\",\n  mpg: \"video/mpeg\",\n  flv: \"video/x-flv\",\n  avi: \"video/x-msvideo\",\n  jpg: \"image/jpeg\",\n  jpeg: \"image/jpeg\",\n  png: \"image/png\",\n  gif: \"image/gif\"\n}\n\nexport {\n  VARIABLE_TYPES,\n  RESOLVE_TYPES,\n  OPERATORS,\n  LATEST_APP_SCHEMA_VERSION,\n  SUBDOMAIN_BLACKLIST,\n  PAGE_SLUG_BLACKLIST,\n  APP_SLUG_BLACKLIST,\n  COMPONENT_TYPES,\n  FILE_MIME_MAPPING\n};\n","import LocalizedStrings from \"react-localization\";\nimport en from './langs/en.json';\nclass Localize extends LocalizedStrings{\n  getLanguageString(lang){\n    const props = this.getContent();\n    return props.hasOwnProperty(lang) ? props[lang] : this.default;\n  }\n  getTranslate(tag, ...args){\n    if(!this.isTag(tag)) return `HIPPO-TEX-[${tag}]`;\n    if(args.length) return this.formatString(this.getKeyString(tag), ...args)\n    return this.getKeyString(tag);\n  }\n  addContent(props){\n    this.setContent({...this.getContent(), ...props})\n  }\n  getKeyString(key, language){\n    let omitWarning = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : false;\n    try {\n      //eslint-disable-next-line @typescript-eslint/no-this-alias\n      let current = this;\n      if(current?.[key]) return current[key]\n      const paths = key.split(\".\");\n      for (let i = 0; i < paths.length; i += 1) {\n        if (current[paths[i]] === undefined) {\n          throw Error(paths[i]);\n        }\n        current = current[paths[i]];\n      }\n      return current;\n    } catch (ex) {\n      if (!omitWarning && this._opts.logsEnabled) {\n        console.debug(\"No localization found for key '\" + key + \"' and language '\" + language + \"', failed on \" + ex.message);\n      }\n    }\n    return null;\n  }\n  getOrjTranslate(tag, ...args){\n    if(!this.getString(tag, 'en')) return `HIPPO-TEX-[${tag}]`;\n    if(args.length) return this.formatString(this.getString(tag, 'en'), ...args)\n    return this.getString(tag, 'en');\n  }\n  isTag(tag){return !!this.getKeyString(tag)}\n}\nexport default Localize;\nexport const TransText = new Localize({en}, {logsEnabled: false})\n","import JSONUtils from \"../JSONUtils\";\nimport { TransText } from \"../localize/localize\";\nArray.prototype.pushArray = function (items) {\n  if (!Array.isArray(items)) {\n    return this;\n  }\n  this.splice(this.length, 0, ...items);\n  return this;\n};\nexport default class AbstractHippoNode {\n  static RESOLVE_LIST_BY_HIPPO_ID = \"list\";\n  static RESOLVE_LABEL_BY_HIPPO_ID = \"label\";\n  static RESOLVE_MEMBER_BY_TRELLO_ID = \"member\";\n  static RESOLVE_USER_BY_USER_ID = \"user\";\n  static RESOLVE_BOARD_BY_TRELLO_BOARD_ID = \"board\";\n  static RESOLVE_CARD_BY_CARD_ID = \"card\";\n  static RESOLVE_ROLE_BY_ROLE_BY_ID = \"role\";\n  static RESOLVE_APP_BY_APP_ID = \"app\";\n  static RESOLVE_FIELD_DEFINITION_BY_ID = \"field\";\n  static RESOLVE_MAGIC_LINK_BY_MAGIC_LINK_ID = \"magicLinks\";\n  static RESOLVE_CUSTOM_FIELD_ITEM_BY_TRELLO_ID = \"ref_cfdditem\";\n  static RESOLVE_COLOR_BY_CUSTOM_FIELD_ITEM_COLOR = \"color\";\n  static RESOLVE_CHECKLIST_BY_HIPPO_ID = \"checklist\";\n\n  static RESOLVE_APP_VARS = \"appVariables\";\n  static RESOLVE_SYSTEM = \"system\";\n  static RESOLVE_TRIGGER = \"trigger\";\n  static RESOLVE_PORTAL = \"portal\";\n  static RESOLVE_FORM = \"form\";\n  static RESOLVE_MAGIC_LINK = \"magicLink\";\n\n  static FIELD_RESOLVE_BY_TO_VALIDATOR = {\n    RESOLVE_LIST_BY_HIPPO_ID: AbstractHippoNode.RESOLVE_LIST_BY_HIPPO_ID,\n    RESOLVE_LABEL_BY_HIPPO_ID: AbstractHippoNode.RESOLVE_LABEL_BY_HIPPO_ID,\n    RESOLVE_MEMBER_BY_TRELLO_ID: AbstractHippoNode.RESOLVE_MEMBER_BY_TRELLO_ID,\n    RESOLVE_USER_BY_USER_ID: AbstractHippoNode.RESOLVE_USER_BY_USER_ID,\n    RESOLVE_MAGIC_LINK_BY_MAGIC_LINK_ID:\n      AbstractHippoNode.RESOLVE_MAGIC_LINK_BY_MAGIC_LINK_ID,\n    RESOLVE_BOARD_BY_TRELLO_BOARD_ID:\n      AbstractHippoNode.RESOLVE_BOARD_BY_TRELLO_BOARD_ID,\n    RESOLVE_CARD_BY_CARD_ID: AbstractHippoNode.RESOLVE_CARD_BY_CARD_ID,\n    RESOLVE_ROLE_BY_ROLE_BY_ID: AbstractHippoNode.RESOLVE_ROLE_BY_ROLE_BY_ID,\n    RESOLVE_APP_BY_APP_ID: AbstractHippoNode.RESOLVE_APP_BY_APP_ID,\n    RESOLVE_FIELD_DEFINITION_BY_ID:\n      AbstractHippoNode.RESOLVE_FIELD_DEFINITION_BY_ID,\n    RESOLVE_CUSTOM_FIELD_ITEM_BY_TRELLO_ID:\n      AbstractHippoNode.RESOLVE_CUSTOM_FIELD_ITEM_BY_TRELLO_ID,\n    RESOLVE_COLOR_BY_CUSTOM_FIELD_ITEM_COLOR: \"\",\n  };\n  static counter;\n  childNodes = [];\n  path;\n  id;\n  appJson;\n  exists;\n  validatorPath;\n  deleted = false;\n  initialValidate = true;\n  checkedPaths = {};\n  lists = [];\n  members = [];\n  entries = [];\n  actions = [];\n  constructor(appJson, path) {\n    if (appJson.appJson) {\n      this.appJson = appJson.appJson;\n      this.lists = appJson.lists || [];\n      this.members = appJson.members || [];\n    } else {\n      this.appJson = appJson;\n    }\n    this.path = path;\n    this.validatorPath = path;\n    this.exists = true;\n    this.jsonPatchPath = path\n      ? \"/\" +\n        path\n          .replace(/\"/g, \"\")\n          .replace(/]/g, \"\")\n          .replace(/\\[/g, \".\")\n          .replace(/\\./g, \"/\")\n      : null;\n    if (!AbstractHippoNode.counter) {\n      AbstractHippoNode.counter = 0;\n    }\n  }\n  init(actions, entities) {\n    if (actions) this.actions = actions;\n    if (entities) this.entities = entities;\n    this.entitiesIds = {\n      trelloLists: (this.entities?.trelloLists || [])?.map((i) => i?.hippoId),\n      trelloLabels: (this.entities?.trelloLabels || [])?.map((i) => i?.hippoId),\n    };\n    this.childNodes = [];\n    this.nodeJson = JSONUtils.query(this.appJson, this.path);\n    if (this.nodeJson) {\n      this.id = this.generateNodeId(this.nodeJson);\n      this.deleted = !!this.nodeJson?.deleted;\n      this.process(this.appJson, this.path, this.nodeJson);\n      this.childNodes.forEach((childNode) => {\n        childNode.init(this.actions, this.entities);\n      });\n    } else {\n      this.exists = false;\n    }\n  }\n\n  generateNodeId(nodeJson) {\n    return nodeJson.id;\n  }\n  addChildNode(node) {\n    node.parentNode = this;\n    this.childNodes.push(node);\n  }\n  process(appJson, path, nodeJson) {}\n\n  getValidatorFunction() {\n    return (data) => {};\n  }\n  findNodeWithPath(path) {\n    let node = null;\n    if (path === this.path) {\n      node = this;\n    } else {\n      for (let childNode of this.childNodes) {\n        node = childNode.findNodeWithPath(path);\n        if (node) break;\n      }\n    }\n    return node;\n  }\n  validate(errors, path) {\n    try {\n      if (path) {\n        const foundNode = this.findNodeWithPath(path);\n        if (foundNode) {\n          return foundNode.validate(errors);\n        } else {\n          return false;\n        }\n      }\n      if (this.checkedPaths[this.path] || this.deleted) {\n        return;\n      }\n      this.checkedPaths[this.path] = true;\n      if (!this.exists && this.initialValidate) {\n        if (this.isMandatory()) {\n          errors.push({ path: this?.path, type: \"notExists\" });\n        }\n        return;\n      }\n      const validationErrors = this.getValidatorFunction();\n      if (validationErrors != null) {\n        AbstractHippoNode.counter += 1;\n        const validatorFuncResult = validationErrors;\n        let newerrors =\n          typeof validatorFuncResult === \"function\"\n            ? validatorFuncResult(this.nodeJson)\n            : validatorFuncResult;\n        if (newerrors && Array.isArray(newerrors) && newerrors.length > 0) {\n          newerrors.forEach((err) => {\n            err.path = err.path\n              ? err.path\n              : `${this.validatorPath}.${err.field}`;\n            err.relativePath = err?.field;\n          });\n          errors.pushArray(newerrors);\n        }\n      }\n      if (!this.exists) return;\n      this.childNodes.forEach((childNode) => {\n        return childNode.validate(errors);\n      });\n    } catch (e) {\n      console.log(e);\n    }\n  }\n\n  isMandatory() {\n    return true;\n  }\n\n  getApps(isValue, filter) {\n    let apps = this.entities?.apps || [];\n    if (filter) {\n      apps = apps.filter(filter);\n    }\n    if (isValue) {\n      return apps.map((app) => app?.id);\n    }\n    return apps;\n  }\n  getTrelloList(onlyIds = true, hasParent = false, onlyActives = true) {\n    let lists = this.entities?.trelloLists || [];\n    if (onlyActives) {\n      lists = (lists || [])?.filter((i) => !i?.closed);\n    }\n    if (hasParent) {\n      lists = [\n        ...lists,\n        {\n          hippoId:\n            \"{{{card.c_parentCardIdObject.tc_listHippoIdObject.hippoId}}}\",\n          value: \"{{{card.c_parentCardIdObject.tc_listHippoIdObject.hippoId}}}\",\n        },\n      ];\n    }\n    if (onlyIds) {\n      return lists?.map((i) => i?.hippoId);\n    }\n    return lists;\n  }\n  getTrelloLabels(onlyIds = false, onlyActives = true) {\n    let labels = this.entities?.trelloLabels || [];\n    if (onlyActives) {\n      labels = (labels || [])?.filter((i) => !i?.deleted);\n    }\n    if (onlyIds) {\n      return labels?.map((i) => i?.hippoId);\n    }\n    return labels;\n  }\n  getTrelloMembers(onlyIds = false, onlyActives) {\n    let members = this.entities?.members || [];\n    if (onlyActives) {\n      members = (members || [])?.filter((i) => !i?.deleted);\n    }\n    if (onlyIds) {\n      return members?.map((i) => i?.id);\n    }\n    return members.map((member) => ({ ...member, label: member?.fullName }));\n  }\n  getFieldDefinitions = (onlyId) => {\n    const appVariables =\n      this?.appJson.app?.fieldDefinitions?.appVariableFields || {};\n    const customFields = this.getCustomFields(false).reduce((acc, item) => {\n      acc[item?.hippoId] = item;\n      return acc;\n    }, {});\n    const hippoFields = this.appJson.app?.fieldDefinitions?.hippoFields;\n    const allFields = { ...appVariables, ...hippoFields, ...customFields };\n    if (!onlyId) return Object.values(allFields)?.map((i) => i?.label);\n    return Object.keys(allFields);\n  };\n  getPageNames() {\n    if (!this.viewNames) {\n      this.viewNames = (Object.values(this.appJson?.app?.views) || [])\n        ?.filter((it) => it.type === \"page\")\n        ?.map((it) => it?.viewProps?.name);\n    }\n    return this.viewNames;\n  }\n  getViewIds = (onlyId = true, filter) => {\n    let views = Object.values(this.appJson?.app?.views || {}).filter(\n      (it) => !it.deleted\n    );\n    if (typeof filter === \"function\") {\n      views = views.filter(filter);\n    }\n    if (onlyId) return views.map((i) => i?.id);\n    return views;\n  };\n\n  getPageIds = (isValue) => {\n    if (isValue)\n      return Object.values(this.appJson?.app?.views || {})\n        .filter((it) => it.type === \"page\" && !it.deleted)\n        ?.map((i) => i?.viewProps?.name || \"\");\n    return Object.values(this.appJson?.app?.views || {})\n      .filter((it) => it.type === \"page\" && !it.deleted)\n      .map((it) => {\n        return it.id;\n      });\n  };\n\n  getActions = (isValue) => {\n    if (isValue)\n      return Object.values(this.appJson?.app?.actionGroups || {})?.map(\n        (i) => i?.actions?.name\n      );\n    return Object.keys(this.appJson?.app?.actionGroups || {});\n  };\n\n  getCollections = (onlyId = true, filter) => {\n    let collections = Object.values(\n      this.appJson?.app?.cardCollections || {}\n    ).filter((field) => !field.deleted);\n    if (filter) {\n      collections = collections.filter(filter);\n    }\n    return onlyId ? collections?.map((i) => i?.id) : collections;\n  };\n  getAutomations = (onlyId = false, filter) => {\n    let automations = Object.values(\n      this.appJson?.app?.automations || {}\n    ).filter((field) => !field.deleted);\n    if (filter) {\n      automations = automations.filter(filter);\n    }\n    return onlyId ? automations?.map((i) => i?.id) : automations;\n  };\n  getMagicLinkIds = (onlyId) => {\n    let magicLinks = Object.keys(\n      this.appJson?.app?.fieldDefinitions?.magicLink || {}\n    );\n    if (onlyId) return magicLinks;\n    return magicLinks?.map((i) => i?.id);\n  };\n  getOneOfMessage = (names, e) => {\n    return `${e?.label || e?.path} one of ${names?.join(\", \")}`;\n  };\n\n  getFormIds = (isValue, filter) => {\n    let inComings = Object.values(\n      this.appJson?.app?.integrations?.incoming || {}\n    ).filter((ic) => !ic.deleted);\n    if (filter) inComings = inComings.filter(filter);\n    if (isValue) return inComings;\n    return inComings?.map((i) => i?.id);\n  };\n\n  getRoles = (isValue) => {\n    const roles = Object.values(this.appJson?.app?.roles || {}).filter(\n      (i) => !i?.deleted\n    );\n    if (isValue) return roles?.map((i) => i?.id);\n    return roles;\n  };\n  getCustomFields = (onlyId, filter, showDeleted) => {\n    let customFields = (this.entities?.customFields || []).map((item) => ({\n      ...item,\n      id: item?.hippoId,\n    }));\n    if (filter) {\n      customFields = customFields.filter(filter);\n    }\n    if (onlyId) return customFields.map((i) => i?.hippoId);\n    return customFields;\n  };\n  getMagicLinks = (onlyId, filter, showDeleted) => {\n    let magicLinks = Object.values(\n      this.appJson?.app?.fieldDefinitions?.magicLink || {}\n    );\n    if (!showDeleted) magicLinks = magicLinks.filter((i) => !i?.deleted);\n    if (filter) {\n      magicLinks = magicLinks.filter(filter);\n    }\n    if (onlyId) return magicLinks.map((i) => i?.id);\n    return magicLinks;\n  };\n  getAppParameters = (onlyId, filter, showDeleted) => {\n    let appVariables = Object.values(\n      this.appJson?.app?.fieldDefinitions?.appVariableFields || {}\n    );\n    if (!showDeleted) appVariables = appVariables.filter((i) => !i?.deleted);\n    if (filter) {\n      appVariables = appVariables.filter(filter);\n    }\n    if (onlyId) {\n      return appVariables?.map((i) => i?.id);\n    }\n    return appVariables;\n  };\n  getHippoFields = (onlyId, filter, showDeleted) => {\n    let hippoFields = Object.values(\n      this.appJson?.app?.fieldDefinitions?.hippoFields || {}\n    );\n    if (!showDeleted) hippoFields = hippoFields.filter((i) => !i?.deleted);\n    if (filter) {\n      hippoFields = hippoFields.filter(filter);\n    }\n    if (onlyId) {\n      return hippoFields?.map((i) => i?.id);\n    }\n    return hippoFields;\n  };\n  getStaticFields = () => {\n    return [\n      {\n        id: \"member\",\n        label: TransText.getTranslate(\"members\"),\n        type: AbstractHippoNode.RESOLVE_MEMBER_BY_TRELLO_ID,\n      },\n      {\n        id: \"card\",\n        label: TransText.getTranslate(\"cards\"),\n        type: AbstractHippoNode.RESOLVE_CARD_BY_CARD_ID,\n      },\n      {\n        id: \"user\",\n        label: TransText.getTranslate(\"userFields\"),\n        type: AbstractHippoNode.RESOLVE_USER_BY_USER_ID,\n      },\n      {\n        id: \"triggeringUser\",\n        label: TransText.getTranslate(\"triggeringUserFields\"),\n        type: AbstractHippoNode.RESOLVE_USER_BY_USER_ID,\n        resolveBy: AbstractHippoNode.RESOLVE_USER_BY_USER_ID,\n      },\n      {\n        id: \"portal\",\n        label: TransText.getTranslate(\"workspaceFields\"),\n        type: AbstractHippoNode.RESOLVE_PORTAL,\n      },\n      {\n        id: \"role\",\n        label: TransText.getTranslate(\"rolesGroups\"),\n        type: AbstractHippoNode.RESOLVE_ROLE_BY_ROLE_BY_ID,\n      },\n      {\n        id: \"list\",\n        label: TransText.getTranslate(\"list\"),\n        type: AbstractHippoNode.RESOLVE_LIST_BY_HIPPO_ID,\n      },\n      {\n        id: \"label\",\n        label: TransText.getTranslate(\"label\"),\n        type: AbstractHippoNode.RESOLVE_LABEL_BY_HIPPO_ID,\n      },\n      {\n        id: \"checklist\",\n        label: TransText.getTranslate(\"checklist\"),\n        type: AbstractHippoNode.RESOLVE_CHECKLIST_BY_HIPPO_ID,\n      },\n      {\n        id: \"board\",\n        label: TransText.getTranslate(\"board\"),\n        type: AbstractHippoNode.RESOLVE_BOARD_BY_TRELLO_BOARD_ID,\n      },\n      {\n        id: \"system\",\n        label: TransText.getTranslate(\"system\"),\n        type: AbstractHippoNode.RESOLVE_SYSTEM,\n      },\n      {\n        id: \"app\",\n        label: TransText.getTranslate(\"powerUp\"),\n        type: AbstractHippoNode.RESOLVE_SYSTEM,\n      },\n      {\n        id: \"trigger\",\n        label: TransText.getTranslate(\"trigger\"),\n        type: AbstractHippoNode.RESOLVE_TRIGGER,\n      },\n      {\n        id: \"appVariables\",\n        label: TransText.getTranslate(\"appVariables\"),\n        type: AbstractHippoNode.RESOLVE_APP_VARS,\n      },\n      {\n        id: \"appVariables\",\n        label: TransText.getTranslate(\"appVariables\"),\n        type: AbstractHippoNode.RESOLVE_PORTAL,\n      },\n      {\n        id: \"magicLinks\",\n        label: TransText.getTranslate(\"magicLinks\"),\n        type: AbstractHippoNode.RESOLVE_MAGIC_LINK_BY_MAGIC_LINK_ID,\n      },\n      {\n        id: \"magicLink\",\n        label: TransText.getTranslate(\"magicLink\"),\n        type: AbstractHippoNode.RESOLVE_MAGIC_LINK,\n      },\n      // {\n      //   \"id\": \"tc_pos\",\n      //   \"label\": \"Trello Card Position\",\n      //   \"type\": \"long\",\n      //   \"multiple\": false,\n      //   \"sortable\": true\n      // },\n      {\n        id: \"card.c_boardOrder\",\n        label: TransText.getTranslate(\"trelloBoardOrder\"),\n        type: \"long\",\n        multiple: false,\n        sortable: true,\n        onlySortable: true,\n      },\n      {\n        id: \"card.c_userId\",\n        label: TransText.getTranslate(\"owner\"),\n        type: \"string\",\n        resolveBy: AbstractHippoNode.RESOLVE_USER_BY_USER_ID,\n        multiple: false,\n        sortable: true,\n      },\n      {\n        id: \"card.c_parentCardId\",\n        label: TransText.getTranslate(\"parentCard\"),\n        type: \"string\",\n        resolveBy: AbstractHippoNode.RESOLVE_CARD_BY_CARD_ID,\n        multiple: false,\n        sortable: true,\n      },\n      {\n        id: \"card.c_id\",\n        label: TransText.getTranslate(\"ID\"),\n        type: \"string\",\n        multiple: false,\n        sortable: true,\n      },\n      {\n        id: \"card.c_boardId\",\n        label: TransText.getTranslate(\"boardId\"),\n        type: \"string\",\n        multiple: false,\n        sortable: true,\n      },\n      {\n        id: \"card.c_shortId\",\n        label: TransText.getTranslate(\"shortId\"),\n        type: \"string\",\n        multiple: false,\n        sortable: true,\n      },\n      {\n        id: \"card.tc_closed\",\n        label: TransText.getTranslate(\"isArchived\"),\n        type: \"boolean\",\n        multiple: false,\n        sortable: true,\n      },\n      {\n        id: \"card.c_insertedAt\",\n        label: TransText.getTranslate(\"creationTime\"),\n        type: \"datetime\",\n        multiple: false,\n        sortable: true,\n      },\n      {\n        id: \"card.c_updatedAt\",\n        label: TransText.getTranslate(\"lastUpdateTime\"),\n        type: \"datetime\",\n        multiple: false,\n        sortable: true,\n      },\n      {\n        id: \"card.c_attachments\",\n        label: TransText.getTranslate(\"allTrelloAttachments\"),\n        type: \"attachment\",\n        multiple: true,\n        sortable: false,\n      },\n      {\n        id: \"card.c_parentCardId\",\n        label: TransText.getTranslate(\"parentCard\"),\n        type: \"string\",\n        resolveBy: AbstractHippoNode.RESOLVE_CARD_BY_CARD_ID,\n        multiple: false,\n        sortable: true,\n        disabledDisplay: true,\n      },\n      {\n        id: \"card.c_coverAttachment\",\n        label: TransText.getTranslate(\"trelloCardCover\"),\n        type: \"attachment\",\n        multiple: false,\n        sortable: false,\n      },\n      {\n        id: \"card.c_ticketId\",\n        label: TransText.getTranslate(\"cardTicketId\"),\n        type: \"string\",\n        multiple: false,\n        sortable: true,\n      },\n      {\n        id: \"card.tc_desc\",\n        label: TransText.getTranslate(\"cardDescription\"),\n        type: \"string\",\n        multiple: false,\n        sortable: true,\n      },\n      {\n        id: \"card.tc_name\",\n        label: TransText.getTranslate(\"cardName\"),\n        type: \"string\",\n        multiple: false,\n        sortable: true,\n      },\n      {\n        id: \"card.label\",\n        label: TransText.getTranslate(\"label\"),\n        type: \"string\",\n        resolveBy: AbstractHippoNode.RESOLVE_LABEL_BY_HIPPO_ID,\n        multiple: true,\n        sortable: false,\n        disabledDisplay: true,\n      },\n      {\n        id: \"card.name\",\n        label: TransText.getTranslate(\"cardName\"),\n        type: \"string\",\n        multiple: false,\n        sortable: false,\n        disabledDisplay: true,\n      },\n      {\n        id: \"card.description\",\n        label: TransText.getTranslate(\"cardDescription\"),\n        type: \"string\",\n        multiple: false,\n        sortable: false,\n        disabledDisplay: true,\n      },\n      {\n        id: \"card.tc_labelHippoIds\",\n        label: TransText.getTranslate(\"labels\"),\n        type: \"string\",\n        multiple: true,\n        sortable: false,\n      },\n      {\n        id: \"card.tc_checklistHippoIds\",\n        label: TransText.getTranslate(\"checklists\"),\n        type: \"string\",\n        multiple: true,\n        sortable: false,\n      },\n      {\n        id: \"card.tc_checklistHippoIds\",\n        label: TransText.getTranslate(\"checklists\"),\n        type: \"string\",\n        resolveBy: AbstractHippoNode.RESOLVE_CHECKLIST_BY_HIPPO_ID,\n        multiple: true,\n        sortable: false,\n      },\n      {\n        id: \"card.tc_labelHippoIds\",\n        label: TransText.getTranslate(\"labels\"),\n        type: \"string\",\n        resolveBy: AbstractHippoNode.RESOLVE_LABEL_BY_HIPPO_ID,\n        multiple: true,\n        sortable: false,\n      },\n      {\n        id: \"card.tc_idMembers\",\n        label: TransText.getTranslate(\"members\"),\n        type: \"string\",\n        multiple: true,\n        sortable: false,\n      },\n      {\n        id: \"card.tc_idMembers\",\n        label: TransText.getTranslate(\"members\"),\n        type: \"string\",\n        resolveBy: AbstractHippoNode.RESOLVE_MEMBER_BY_TRELLO_ID,\n        multiple: true,\n        sortable: false,\n      },\n      {\n        id: \"card.tc_listHippoId\",\n        label: TransText.getTranslate(\"trelloList\"),\n        type: \"string\",\n        multiple: false,\n        sortable: true,\n      },\n      {\n        id: \"card.tc_listHippoId\",\n        label: TransText.getTranslate(\"trelloList\"),\n        type: \"string\",\n        resolveBy: AbstractHippoNode.RESOLVE_LIST_BY_HIPPO_ID,\n        multiple: false,\n        sortable: true,\n      },\n      {\n        id: \"card.tc_startDate\",\n        label: TransText.getTranslate(\"startDate\"),\n        type: \"date\",\n        multiple: false,\n        sortable: true,\n      },\n      {\n        id: \"card.tc_dueDate\",\n        label: TransText.getTranslate(\"dueDate\"),\n        type: \"datetime\",\n        multiple: false,\n        sortable: true,\n      },\n      {\n        id: \"card.tc_dueDateReminder\",\n        label: TransText.getTranslate(\"dueReminderMinutes\"),\n        type: \"double\",\n        multiple: false,\n        sortable: true,\n      },\n      {\n        id: \"card.tc_dueComplete\",\n        label: TransText.getTranslate(\"dueComplete\"),\n        type: \"boolean\",\n        multiple: false,\n        sortable: true,\n      },\n      {\n        id: \"card.tc_shortUrl\",\n        label: TransText.getTranslate(\"cardShortURL\"),\n        type: \"string\",\n        multiple: false,\n        sortable: true,\n      },\n      {\n        id: \"card.tc_url\",\n        label: TransText.getTranslate(\"cardURL\"),\n        type: \"string\",\n        multiple: false,\n        sortable: true,\n      },\n      {\n        id: \"label.name\",\n        label: TransText.getTranslate(\"labelName\"),\n        type: \"string\",\n        multiple: false,\n        sortable: false,\n      },\n      {\n        id: \"label.hippoId\",\n        label: TransText.getTranslate(\"ID\"),\n        type: \"string\",\n        multiple: false,\n        sortable: false,\n      },\n      {\n        id: \"label.color\",\n        label: TransText.getTranslate(\"color\"),\n        type: \"string\",\n        multiple: false,\n        sortable: false,\n      },\n      {\n        id: \"checklist.name\",\n        label: TransText.getTranslate(\"checklistName\"),\n        type: \"string\",\n        multiple: false,\n        sortable: false,\n      },\n      {\n        id: \"checklist.hippoId\",\n        label: \"ID\",\n        type: \"string\",\n        multiple: false,\n        sortable: false,\n      },\n      {\n        id: \"list.name\",\n        label: TransText.getTranslate(\"listName\"),\n        type: \"string\",\n        multiple: false,\n        sortable: false,\n      },\n      {\n        id: \"list.hippoId\",\n        label: TransText.getTranslate(\"ID\"),\n        type: \"string\",\n        multiple: false,\n        sortable: false,\n      },\n      {\n        id: \"member.id\",\n        label: TransText.getTranslate(\"memberID\"),\n        type: \"string\",\n        multiple: false,\n        sortable: false,\n      },\n      {\n        id: \"member.fullName\",\n        label: TransText.getTranslate(\"fullName\"),\n        type: \"string\",\n        multiple: false,\n        sortable: false,\n      },\n      {\n        id: \"user.id\",\n        label: TransText.getTranslate(\"userID\"),\n        type: \"string\",\n        multiple: false,\n        sortable: false,\n      },\n      {\n        id: \"user.name\",\n        label: TransText.getTranslate(\"fullName\"),\n        type: \"string\",\n        multiple: false,\n        sortable: false,\n      },\n      {\n        id: \"member.username\",\n        label: TransText.getTranslate(\"username\"),\n        type: \"string\",\n        multiple: false,\n        sortable: false,\n      },\n      {\n        id: \"user.firstName\",\n        label: TransText.getTranslate(\"firstName\"),\n        type: \"string\",\n        multiple: false,\n        sortable: false,\n      },\n      {\n        id: \"user.roleIds\",\n        label: TransText.getTranslate(\"rolesGroups\"),\n        type: \"string\",\n        resolveBy: AbstractHippoNode.RESOLVE_ROLE_BY_ROLE_BY_ID,\n        multiple: true,\n        sortable: true,\n      },\n      {\n        id: \"user.lastName\",\n        label: TransText.getTranslate(\"lastName\"),\n        type: \"string\",\n        multiple: false,\n        sortable: false,\n      },\n      {\n        id: \"user.email\",\n        label: TransText.getTranslate(\"email\"),\n        type: \"string\",\n        multiple: false,\n        sortable: false,\n      },\n      {\n        id: \"user.emailDomain\",\n        label: TransText.getTranslate(\"emailDomain\"),\n        type: \"string\",\n        multiple: false,\n        sortable: false,\n      },\n      {\n        id: \"user.tags\",\n        label: TransText.getTranslate(\"segments\"),\n        type: \"string\",\n        multiple: true,\n        sortable: false,\n      },\n      {\n        id: \"user.loggedIn\",\n        label: TransText.getTranslate(\"loggedIn\"),\n        type: \"boolean\",\n        multiple: false,\n        sortable: false,\n      },\n      {\n        id: \"system.currentTimeMillis\",\n        label: TransText.getTranslate(\"currentTime\"),\n        type: \"datetime\",\n        multiple: false,\n        sortable: false,\n      },\n      {\n        id: \"system.environment\",\n        label: TransText.getTranslate(\"environment\"),\n        type: \"string\",\n        multiple: false,\n        sortable: false,\n      },\n      {\n        id: \"trigger.comment\",\n        label: TransText.getTranslate(\"comment\"),\n        type: \"string\",\n        multiple: false,\n        sortable: false,\n      },\n      {\n        id: \"trigger.date\",\n        label: TransText.getTranslate(\"triggerDate\"),\n        type: \"datetime\",\n        multiple: false,\n        sortable: false,\n      },\n      {\n        id: \"portal.name\",\n        label: TransText.getTranslate(\"workspaceName\"),\n        type: \"string\",\n        multiple: false,\n        sortable: false,\n      },\n      {\n        id: \"portal.url\",\n        label: TransText.getTranslate(\"portalURL\"),\n        type: \"string\",\n        multiple: false,\n        sortable: false,\n      },\n      {\n        id: \"portal.consoleUrl\",\n        label: TransText.getTranslate(\"hipporelloConsoleURL\"),\n        type: \"string\",\n        multiple: false,\n        sortable: false,\n      },\n      {\n        id: \"board.name\",\n        label: TransText.getTranslate(\"boardName\"),\n        type: \"string\",\n        multiple: false,\n        sortable: false,\n      },\n      {\n        id: \"board.desc\",\n        label: TransText.getTranslate(\"boardDescription\"),\n        type: \"string\",\n        multiple: false,\n        sortable: false,\n      },\n      {\n        id: \"portal.name\",\n        label: TransText.getTranslate(\"workspaceName\"),\n        type: \"string\",\n        multiple: false,\n        sortable: false,\n      },\n      {\n        id: \"role.name\",\n        label: TransText.getTranslate(\"name\"),\n        type: \"string\",\n        multiple: false,\n        sortable: false,\n      },\n      {\n        id: \"role.id\",\n        label: TransText.getTranslate(\"roleId\"),\n        type: \"string\",\n        multiple: false,\n        sortable: false,\n      },\n      {\n        id: \"trigger.comment\",\n        label: TransText.getTranslate(\"comment\"),\n        type: \"string\",\n        multiple: false,\n        sortable: false,\n      },\n      {\n        id: \"trigger.date\",\n        label: TransText.getTranslate(\"triggerDate\"),\n        type: \"datetime\",\n        multiple: false,\n        sortable: false,\n      },\n      {\n        id: \"field.id\",\n        label: TransText.getTranslate(\"ID\"),\n        type: \"string\",\n        multiple: false,\n        sortable: false,\n      },\n      {\n        id: \"field.name\",\n        label: TransText.getTranslate(\"name\"),\n        type: \"string\",\n        multiple: false,\n        sortable: false,\n      },\n      {\n        id: \"app.name\",\n        label: TransText.getTranslate(\"powerUpName\"),\n        type: \"string\",\n        multiple: false,\n        sortable: false,\n      },\n      {\n        id: \"app.url\",\n        label: TransText.getTranslate(\"powerUpURL\"),\n        type: \"string\",\n        multiple: false,\n        sortable: false,\n      },\n      {\n        id: \"ref_cfdditem.id\",\n        label: TransText.getTranslate(\"ID\"),\n        type: \"string\",\n        multiple: false,\n        sortable: false,\n      },\n      {\n        id: \"ref_cfdditem.name\",\n        label: TransText.getTranslate(\"name\"),\n        type: \"string\",\n        multiple: false,\n        sortable: false,\n      },\n      {\n        id: \"ref_cfdditem.color\",\n        label: TransText.getTranslate(\"color\"),\n        type: \"string\",\n        multiple: false,\n        sortable: false,\n        resolveBy: AbstractHippoNode.RESOLVE_COLOR_BY_CUSTOM_FIELD_ITEM_COLOR,\n      },\n      {\n        id: \"magicLink.prompt\",\n        label: TransText.getTranslate(\"prompt\"),\n        type: \"string\",\n        multiple: false,\n        sortable: false,\n      },\n    ];\n  };\n  getObjectKey = (field) => {\n    let objectKey = field.id;\n    if (field?.resolveBy) {\n      objectKey = objectKey + \"Object\";\n      if (field.multiple) {\n        // objectKey += \"[]\";\n      }\n    }\n    return objectKey;\n  };\n  getAccessibleFieldTypes = (showDeleted = false) => {\n    const hippoFields = this.getHippoFields(false, null, showDeleted);\n    const staticFields = this.getStaticFields();\n    const appVariables = this.getAppParameters(false, null, showDeleted);\n    const customFields = this.getCustomFields(false, null, showDeleted);\n    const magicLinks = this.getMagicLinks(false, null, showDeleted);\n    const fieldMap = {};\n    staticFields.forEach((staticField) => {\n      fieldMap[staticField.id] = staticField;\n    });\n    magicLinks.forEach((magicLink) => {\n      const name = `magicLinks.${magicLink.id}`;\n      fieldMap[name] = {\n        label: magicLink.name,\n        resolveBy: AbstractHippoNode.RESOLVE_MAGIC_LINK_BY_MAGIC_LINK_ID,\n        field: name,\n        value: name,\n        multiple: false,\n        type: \"string\",\n        deleted: magicLink.deleted,\n        options: magicLink?.parameters || [],\n      };\n    });\n    hippoFields.forEach((hippoField) => {\n      fieldMap[\"card.\" + hippoField.id] = {\n        id: \"card.\" + hippoField.id,\n        type: hippoField.type,\n        label: hippoField.label,\n        resolveBy:\n          AbstractHippoNode.FIELD_RESOLVE_BY_TO_VALIDATOR[hippoField.resolveBy],\n        multiple: hippoField.multiple,\n      };\n    });\n\n    appVariables.forEach((appVar) => {\n      fieldMap[\"appVariables.\" + appVar.id] = {\n        id: \"appVariables.\" + appVar.id,\n        type: appVar.type,\n        label: appVar.label,\n        resolveBy:\n          AbstractHippoNode.FIELD_RESOLVE_BY_TO_VALIDATOR[appVar.resolveBy],\n        multiple: appVar.multiple,\n      };\n    });\n    customFields.forEach((appVar) => {\n      fieldMap[\"card.cf_\" + appVar.id] = {\n        id: \"card.cf_\" + appVar.id,\n        type: appVar.type,\n        label: appVar.label,\n        resolveBy:\n          AbstractHippoNode.FIELD_RESOLVE_BY_TO_VALIDATOR[appVar.resolveBy],\n        multiple: appVar.multiple,\n      };\n    });\n    let allFieldsMap = {};\n    Object.values(fieldMap).forEach((item) => {\n      allFieldsMap[item?.id] = item;\n      if (item?.resolveBy) {\n        let objectKey = this.getObjectKey(item);\n        allFieldsMap[objectKey] = {\n          ...item,\n          id: objectKey,\n        };\n      }\n    });\n    return allFieldsMap;\n  };\n  getCardFieldsWithContext = (\n    contexts = [\"parentCard\", \"card\"],\n    isValue,\n    filter\n  ) => {\n    const hippoFields = this.getHippoFields(false);\n    const staticFields = this.getStaticFields();\n    const appVariables = this.getAppParameters().map((item) => ({\n      ...item,\n      id: \"appVariables.\" + item?.id,\n    }));\n    let allFieldsList = [...hippoFields, ...staticFields, ...appVariables];\n    if (filter) {\n      allFieldsList = allFieldsList.filter(filter);\n    }\n    let allFields = {};\n    allFieldsList.forEach((value) => {\n      if (\n        value.id.startsWith(\"tc_\") ||\n        value.id.startsWith(\"hf_\") ||\n        value.id.startsWith(\"c_\")\n      ) {\n        contexts.forEach((context) => {\n          let name = context + \".\" + value?.id;\n          allFields[name] = {\n            ...value,\n            field: name,\n          };\n        });\n      } else {\n        allFields[value?.id] = value;\n      }\n    });\n    if (isValue) {\n      return Object.keys(allFields);\n    }\n    return allFields;\n  };\n  getAllHippoAttachmentFields = () => {\n    return this.getCardFieldsWithContext(\n      [\"card\", \"parentCard\"],\n      true,\n      (field) => field?.type === \"attachment\"\n    );\n  };\n\n  getEnvironments = () => {\n    return Object.keys(this.appJson?.app?.environments);\n  };\n\n  getComponents = (isValue) => {\n    if (isValue)\n      return Object.values(this.appJson?.app?.components || {}).map(\n        (i) => i?.type\n      );\n    return Object.keys(this?.data?.components || {});\n  };\n  getCollectionValidateJson = () => {\n    const collections = {\n      type: \"array\",\n      optional: true,\n      items: {\n        type: \"enum\",\n        values: this.getCollections(),\n      },\n    };\n    const includeArchived = {\n      type: \"enum\",\n      optional: true,\n      values: [\"all\", \"archived\", \"notarchived\"],\n    };\n    return {\n      collections,\n      includeArchived,\n    };\n  };\n  createMustacheLabel = (label) => `${\"{{{label:\" + label + \"}}}\"}`;\n  createValidationError(\n    type,\n    field,\n    actual,\n    expected,\n    expectedMeaningful,\n    message\n  ) {\n    return {\n      type,\n      message,\n      field,\n      actual,\n      expectedMeaningful: expectedMeaningful || expected,\n      expected,\n    };\n  }\n}\n","import AbstractHippoNode from \"../AbstractHippoNode\";\nimport getValidator from \"../../Utils/getValidator\";\n\nexport default class CollectionNode extends AbstractHippoNode{\n  constructor(appJson, path) {\n    super(appJson, path);\n    this.initialValidate = false;\n  }\n  process(appJson, path, nodeJson) {\n  }\n  getValidatorFunction() {\n    const errors = [];\n    const json = this.getCollectionValidateJson();\n    json.collections.optional = false;\n    const collectionChecker = getValidator().compile(json)\n    errors.pushArray(collectionChecker(this?.nodeJson||{}))\n    return errors\n  }\n}","import AbstractHippoNode from \"../AbstractHippoNode\";\nimport {conditionsWithOr} from \"../../Utils/conditionWithOr\";\nimport {conditionsWithAnd} from \"../../Utils/conditionsWithAnd\";\n\n\n\nexport default class VisibilityNode extends AbstractHippoNode{\n  constructor(appJson, path) {\n    super(appJson, path);\n  }\n  process(appJson, path, nodeJson) {\n  }\n  getValidatorFunction() {\n    const errors = [];\n    if(this?.nodeJson?.conditions?.length > 1){\n      errors.pushArray(conditionsWithOr(this.appJson, this.entities)(this?.nodeJson))\n    }\n    else if(this?.nodeJson?.conditions?.length){\n      errors.pushArray(conditionsWithAnd(this.appJson, this.entities)(this?.nodeJson))\n    }\n    return errors\n  }\n}","import AbstractHippoNode from \"./AbstractHippoNode\";\nimport ActionNode from \"./ActionNode\";\nimport getValidator from \"../Utils/getValidator\";\nconst schema = {\n  id: {\n    type: 'string'\n  },\n  shared: {\n    type: 'boolean'\n  },\n  title: {\n    type: 'string', optional:true\n  },\n  name: {\n    type: 'string', optional:true\n  },\n  actions: {\n    type: 'object'\n  }\n}\nconst check = getValidator().compile(schema);\nconst nameSchema = {\n  name: 'string|min:1'\n}\nconst nameCheck = getValidator().compile(nameSchema);\nexport default class ActionGroupNode extends AbstractHippoNode{\n  constructor(appJson, path) {\n    super(appJson, path);\n  }\n\n  process(appJson, path, nodeJson) {\n    this.shared = nodeJson.shared;\n    if(nodeJson.actions && Object.keys(nodeJson.actions).length > 0){\n      Object.keys(nodeJson.actions).forEach((action)=>{\n        this.addChildNode(new ActionNode(appJson, `app.actionGroups.${nodeJson.id}.actions.${action}`));\n      })\n    }\n  }\n\n  getValidatorFunction() {\n    const errors = [];\n    const checkResult = check(this.nodeJson);\n    if (Array.isArray(checkResult)) {\n      errors.pushArray(checkResult);\n    }\n    if (this.nodeJson.shared) {\n      const result = nameCheck(this.nodeJson);\n      if (Array.isArray(result)) {\n        errors.pushArray(result);\n      }\n    }\n    return errors;\n  }\n}\n","import AbstractHippoNode from \"./AbstractHippoNode\";\nimport {conditionsWithOr} from \"../Utils/conditionWithOr\";\nimport {conditionsWithAnd} from \"../Utils/conditionsWithAnd\";\nimport getValidator from \"../Utils/getValidator\";\nimport {TransText} from \"../localize/localize\";\nconst tcMayUpdateFields = [\n  \"tc_desc\",\n  \"tc_name\",\n  \"tc_labelHippoIds\",\n  \"tc_idMembers\",\n  \"tc_listHippoId\",\n  \"tc_startDate\",\n  \"tc_dueDate\",\n  \"tc_dueReminder\",\n  \"tc_dueComplete\",\n  \"tc_shortUrl\",\n  \"tc_url\",\n];\nfunction findToCardValidation(props){\n  const {query} = props || {};\n  const queryValidationScheme = this.getCollectionValidateJson()\n  const root = getValidator({useNewCustomCheckerFunction: true}).compile({query: {type: \"object\", props:  queryValidationScheme}})(props)\n  if (root?.length){\n    return root;\n  }\n  if(query?.conditions?.length > 1){//Or Condition\n    return conditionsWithOr(this.appJson, this.entities)(query)\n  }\n  else if(query?.conditions?.conditions?.length){\n    return conditionsWithAnd(this.appJson, this.entities)(query)\n  }\n  return []\n}\nconst checkExternal = getValidator().compile({\n  id: \"string|optional\",\n  type: {\n    type: \"enum\",\n    values: [\n      \"send-conversation-message\",\n      \"update-hipporello-card\",\n      \"update-custom-field\",\n      \"update-trello-card\",\n      \"add-comment\",\n      \"open-form\",\n      \"open-page\",\n      \"open-url\",\n      \"navigate-to-card\",\n      \"find-to-card\",\n      \"update-card-members\",\n      \"update-card-labels\",\n      \"move-card\",\n      \"archive-card\",\n      \"send-card-to-board\",\n      \"conversation-get-board-members\",\n      \"conversation-get-contacts\",\n      \"conversation-get-roles\",\n      \"conversation-reply\",\n      \"conversation-delete-message\",\n      \"conversation-delete-thread\",\n      \"conversation-update-members\",\n      \"conversation-get-card-fields\",\n      \"conversation-new-thread\",\n      \"conversation-reply\",\n      \"UpdateAppVariable\",\n      \"UpdateHippoField\",\n      \"UpdateCustomField\",\n      \"user-management-add-user\",\n      \"user-management-update-user\",\n      \"user-management-check-user\",\n    ],\n  },\n  props: {\n    type: \"object\",\n    optional: true,\n    props: {\n      onSuccess: {\n        type: \"object\",\n        optional: true,\n        props: {\n          id: \"string\",\n          required: \"string\",\n        },\n      },\n      params: {\n        type: \"object\",\n        optional: true,\n        props: {\n          context: {\n            type: \"enum\",\n            values: [\"parent\", \"self\", \"children\"],\n          },\n        },\n      },\n    },\n  },\n});\nconst PRECISE_PATTERN =\n  /^(([^<>()[\\]\\\\.,;:\\s@\"]+(\\.[^<>()[\\]\\\\.,;:\\s@\"]+)*)|(\".+\"))@((\\[[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\])|(([a-zA-Z\\-0-9]+\\.)+[a-zA-Z]{2,}))$/;\nconst schema = getValidator().compile({\n  id: \"string\",\n  order: \"number\",\n  type: {\n    type: \"enum\",\n    values: [\n      \"send-conversation-message\",\n      \"update-hipporello-card\",\n      \"update-trello-card\",\n      \"update-custom-field\",\n      \"add-comment\",\n      \"open-form\",\n      \"open-page\",\n      \"open-url\",\n      \"navigate-to-card\",\n      \"find-to-card\",\n      \"update-card-members\",\n      \"update-card-labels\",\n      \"move-card\",\n      \"archive-card\",\n      \"send-card-to-board\",\n      \"copy-to-clipboard\",\n      \"feedback-message\",\n      \"confirmation-box\"\n    ],\n  },\n  props: {\n    type: \"object\",\n    optional: true,\n    props: {\n      onSuccess: {\n        type: \"object\",\n        optional: true,\n        props: {\n          id: \"string\",\n          required: \"string\",\n        },\n      },\n      params: {\n        type: \"object\",\n        optional: true,\n        props: {\n          context: {\n            type: \"enum\",\n            values: [\"parent\", \"self\", \"children\"],\n          },\n        },\n      },\n    },\n  },\n});\nconst staticListOptions = [\"nextListOnBoard\", \"previousListOnBoard\"];\nconst actionWhenOpenURL = getValidator().compile({\n  target: {\n    type: \"object\",\n    props: {\n      type: {\n        type: \"enum\",\n        values: [\"_self\", \"_blank\"],\n      },\n    },\n  },\n  url: \"string|empty:false\",\n});\nconst actionWhenOpenPageExternal = getValidator().compile({\n  url: \"string|empty:false\",\n});\nconst hippoTypes = {\n  attachment: \"array\",\n  double: \"number\",\n  datetime: \"number\",\n  time: \"number\",\n  date: \"number\",\n};\nconst actionWhenUpdateHippoFieldsContext = getValidator().compile({\n  params: {\n    type: \"object\",\n    props: {\n      context: {\n        type: \"enum\",\n        values: [\"parent\", \"self\", \"children\"],\n      },\n    },\n  },\n  cardUpdateFields: {\n    type: \"object\",\n  },\n});\nconst actionWhenOpenFormModal = getValidator().compile({\n  title: \"string|optional\",\n  size: {\n    optional: true,\n    type: \"enum\",\n    values: [\"small\", \"medium\", \"large\", \"fullscreen\"],\n  },\n});\nconst actionCopyToClipboard = getValidator().compile({\n  dataToBeCopied: {\n    type: \"string\",\n    messages: {\n      required: \"Source can not be empty.\",\n    },\n  },\n});\nconst actionFeedbackMessage = getValidator().compile({\n  title: {\n    type: \"string\",\n    messages: {\n      required: \"Title can not be empty.\",\n    },\n  },\n  type: {\n    type: \"enum\",\n    values: [\"info\", \"error\", \"warning\", \"success\"],\n  },\n  icon: {\n    type: \"enum\",\n    values: [\n      \"check-circle\",\n      \"exclamation-circle\",\n      \"exclamation-triangle\",\n      \"info-circle\",\n    ],\n  },\n  message: {\n    type: \"string\",\n    optional: true,\n  },\n  duration: {\n    type: \"number\",\n    min: 0,\n    max: 20,\n  },\n  position: {\n    type: \"enum\",\n    values: [\n      \"top-left\",\n      \"top-left\",\n      \"top-center\",\n      \"top-right\",\n      \"bottom-left\",\n      \"bottom-center\",\n      \"bottom-right\",\n    ],\n  },\n});\nexport default class ActionNode extends AbstractHippoNode {\n  constructor(appJson, path, external) {\n    super(appJson, path);\n    this.external = external;\n  }\n\n  process(appJson, path, nodeJson) {\n    this.formId = nodeJson.props?.formId;\n  }\n  getValidatorFunction() {\n    const trelloListOptions = this.getTrelloList(true, true, false);\n    const trelloLabels = this.entitiesIds?.trelloLabels;\n    const allListOptions = staticListOptions.concat(trelloListOptions);\n    const allHippoFields = this.getHippoFields(true);\n    const roles = Object.values(this.appJson?.app?.roles || {}).map(\n      (role) => role?.id\n    );\n    const allFieldWithContext = this.getCardFieldsWithContext(\n      [\"card\", \"parentCard\"],\n      true,\n      (field) => field?.type === \"string\"\n    );\n    const actionWhenMoveTo = getValidator({\n      useNewCustomCheckerFunction: true,\n    }).compile({\n      listHippoId: {\n        type: \"string\",\n        label: \"List\",\n        custom: (value, errors) => {\n          const isQuery = /\\{\\{\\{.*}}}/gi.test(String(value));\n          if (isQuery) {\n            //Query Validation\n          } else if (!allListOptions.includes(value)) {\n            errors.push({\n              type: \"enum\",\n              expected: allListOptions,\n              actual: value,\n              message: \"Choose another List\",\n            });\n          }\n        },\n        // values: allListOptions,\n        messages: {\n          required: this.createMustacheLabel(\"list\"),\n        },\n      },\n    });\n    const actionWhenAssignLabel = getValidator().compile({\n      updateLabelActionType: {\n        type: \"enum\",\n        values: [\n          \"remove-all-labels\",\n          \"remove-labels\",\n          \"set-labels\",\n          \"add-labels\",\n        ],\n      },\n      labels: {\n        type: \"array\",\n        optional:\n          this.nodeJson.props?.updateLabelActionType === \"remove-all-labels\",\n        items: {\n          type: \"enum\",\n          values: trelloLabels || [],\n          messages: {\n            enumValue: this.createMustacheLabel(\"label\"),\n            required: this.createMustacheLabel(\"label\"),\n          },\n        },\n      },\n    });\n    const actionWhenAssignMember = getValidator().compile({\n      updateMemberActionType: {\n        type: \"enum\",\n        values: [\n          \"add-members\",\n          \"set-members\",\n          \"remove-members\",\n          \"remove-all-members\",\n        ],\n      },\n      members: {\n        type: \"array\",\n        items: {\n          type: \"object\",\n          props: {\n            type: {\n              type: \"enum\",\n              values: [\"trelloMember\", \"trelloRole\"],\n            },\n            value: {\n              type: \"enum\",\n              values: [\n                ...(this.entities?.members || [])?.map((i) => i?.id),\n                \"all\",\n                \"allTrelloCardMembers\",\n                \"allTrelloBoardMembers\",\n                \"allTrelloBoardAdminMembers\",\n                \"allTrelloNormalMembers\",\n                \"allTrelloObserverMembers\",\n              ],\n              messages: {\n                enumValue: this.createMustacheLabel(\"member\"),\n                required: this.createMustacheLabel(\"member\"),\n              },\n            },\n          },\n        },\n      },\n    });\n    const conversationMembersCheck = (value, errors, schema) => {\n      if (!(schema?.props?.type?.values || []).includes(value?.type)) {\n        errors.push({\n          type: \"enumValue\",\n          actual: value?.type,\n          field: \"type\",\n          expected: schema?.props?.type?.values || [],\n        });\n      }\n      if (value?.type === \"email\") {\n        if (!PRECISE_PATTERN.test(value?.id)) {\n          errors.push({ type: \"email\", actual: value?.id, field: \"id\" });\n        }\n      } else {\n        if (value?.type === \"cardField\") {\n          //Variable Validator\n        } else if (!(schema?.props?.id?.values || []).includes(value?.id)) {\n          errors.push({\n            type: \"enumValue\",\n            actual: value?.id,\n            field: \"id\",\n            expected: schema?.props?.id?.values || [],\n          });\n        }\n      }\n      return value;\n    };\n    const actionWhenSendConvMessage = getValidator({\n      useNewCustomCheckerFunction: true,\n    }).compile({\n      message: \"string\",\n      subject: \"string\",\n      conversationMembers: {\n        type: \"array\",\n        items: {\n          type: \"custom\",\n          check: conversationMembersCheck,\n          props: {\n            type: {\n              type: \"enum\",\n              values: [\n                \"trelloMember\",\n                \"cardField\",\n                \"trelloRoles\",\n                \"submissionOwner\",\n                \"hipporelloMember\",\n                \"hipporelloRole\",\n                \"email\",\n              ],\n            },\n            id: {\n              type: \"enum\",\n              values: [\n                ...(this.entities?.members || [])?.map((i) => i?.id),\n                ...(roles || []),\n                ...(allFieldWithContext || []),\n                \"allTrelloCardMembers\",\n                \"allTrelloBoardMembers\",\n                \"allTrelloBoardAdminMembers\",\n                \"allTrelloNormalMembers\",\n                \"allTrelloObserverMembers\",\n                \"submissionOwner\",\n              ],\n            },\n            isContributor: \"boolean|optional\",\n          },\n        },\n      },\n    });\n    const actionWhenOpenPage = getValidator().compile({\n      viewId: {\n        type: \"enum\",\n        values: this.getPageIds(),\n        messages: {\n          enumValue: this.createMustacheLabel(\"page\"),\n          required: this.createMustacheLabel(\"page\"),\n        },\n      },\n      target: {\n        type: \"object\",\n        props: {\n          type: {\n            type: \"enum\",\n            values: [\"_tModal\", \"_self\", \"_blank\", \"_modal\"],\n          },\n        },\n      },\n      type: {\n        type: \"enum\",\n        values: [\"internal\", \"external\"],\n      },\n    });\n    const updateHippoFieldGenerateScheme = (key) => {\n      const actionWhenUpdateHippoFields = getValidator({useNewCustomCheckerFunction: true}).compile({\n        cardUpdateFields: {\n          type: \"object\",\n          props: {\n            [key]: {\n              type: \"object\",\n              optional: true,\n              props: {\n                type: {\n                  type: \"enum\",\n                  optional: true,\n                  values: [\"replacement\", \"minus\", \"plus\", \"multiply\", \"remove\", \"addItem\", \"removeItem\"],\n                },\n                valueType: {\n                  type: \"enum\",\n                  optional: true,\n                  values: [\"value\", \"variable\"]\n                },\n                value: {\n                  type: \"custom\",\n                  nullable: true,\n                  default: \"[[[nullValue]]]\",\n                  check: (value, errors, schema, path, parentNode) => {\n                    if (\n                      value === \"[[[nullValue]]]\" &&\n                      parentNode?.valueType === \"variable\"\n                    ) {\n                      errors.push({ type: \"required\", field: \"value\" });\n                    }\n                    const hasEmptyItem = Array.isArray(value) ? Object.values(value).length !== value.length : false;\n                    if(hasEmptyItem && parentNode?.valueType === \"value\"){\n                      errors.push({ type: \"required\", field: \"value\", message: TransText.getTranslate(\"itemsNotBeEmpty\") });\n                    }\n                    return value;\n                  },\n                },\n              },\n            },\n          },\n        },\n        params: {\n          type: \"object\",\n          props: {\n            context: {\n              type: \"enum\",\n              values: [\"parent\", \"self\", \"children\"],\n            },\n          },\n        },\n      });\n      return actionWhenUpdateHippoFields;\n    };\n    const actionWhenOpenForm = getValidator().compile({\n      formId: {\n        type: \"enum\",\n        values: this.getFormIds(false, (i) =>\n          [\"form\", \"updateform\"]?.includes(i?.type)\n        ),\n        messages: {\n          enumValue: this.createMustacheLabel(\"form\"),\n          required: this.createMustacheLabel(\"form\"),\n        },\n      },\n      target: {\n        type: \"object\",\n        props: {\n          type: {\n            type: \"enum\",\n            values: [\"_tModal\",\"_modal\", \"_blank\", \"_self\"],\n          },\n        },\n      },\n    });\n    const errors = [];\n    if (this.external) {\n      errors.pushArray(checkExternal(this.nodeJson));\n    } else {\n      errors.pushArray(schema(this.nodeJson));\n    }\n    this.validatorPath = `${this.path}.props`;\n    if (this.nodeJson.type === \"move-card\") {\n      errors.pushArray(actionWhenMoveTo(this.nodeJson.props || {}));\n    }else if (this.nodeJson.type === \"find-to-card\") {\n      errors.pushArray(findToCardValidation.call(this, this.nodeJson.props || {}));\n    }  else if (this.nodeJson.type === \"update-card-labels\") {\n      errors.pushArray(actionWhenAssignLabel(this.nodeJson.props || {}));\n    } else if (this.nodeJson.type === \"update-card-members\") {\n      errors.pushArray(actionWhenAssignMember(this.nodeJson.props || {}));\n    } else if (this.nodeJson.type === \"send-conversation-message\") {\n      errors.pushArray(actionWhenSendConvMessage(this.nodeJson.props || {}));\n    } else if (\n      this.nodeJson.type === \"update-hipporello-card\" ||\n      this.nodeJson.type === \"update-trello-card\"||\n      this.nodeJson.type === \"update-custom-field\"\n    ) {\n      const staticFields = this.getAccessibleFieldTypes(true);\n      const staticFieldsKeys = Object.keys(staticFields||{});\n      const firstField = Object.keys(\n        this.nodeJson.props?.cardUpdateFields || {}\n      )?.[0];\n      const foundFieldKey = staticFieldsKeys.find(i => i.includes(firstField));\n      if (foundFieldKey) {\n        const field = staticFields[foundFieldKey]\n        const label = field?.label ||field?.name;\n        if(!field?.deleted){\n          this.validatorPath = `${this.path}.props.cardUpdateFields.${firstField}`;\n          errors.pushArray(\n            updateHippoFieldGenerateScheme(firstField)(this.nodeJson.props || {})\n          );\n        }else{\n          errors.push({\n            path: this.validatorPath,\n            type: \"invalidVariable\",\n            message: TransText.getTranslate('variableNamedDeletedMessage', fied),\n            args: [label],\n          })\n        }\n      }\n      else {\n        this.validatorPath = `${this.path}.props.cardUpdateFields`;\n        errors.push({\n          path: this.validatorPath,\n          type: \"invalidVariable\",\n          message: TransText.getTranslate('variableUsedCannotFound'),\n          args: [\"\"],\n        })\n      }\n    } else if (this.nodeJson.type === \"open-page\") {\n      errors.pushArray(actionWhenOpenPage(this.nodeJson.props || {}));\n      // Todo: Disabled pages is not error for usage actions, actually warning\n      // if (this.nodeJson.props.type === 'internal' && !this.appJson.app.views[this.nodeJson.props.viewId]?.enabled) {\n      //     const availables = Object.entries(this.appJson.app.views)\n      //         .filter(it => it?.[1].enabled)\n      //         .map(it => it?.[0]);\n      //     errors.push(this.createValidationError('oneOf', 'viewId', this.nodeJson.props.viewId, availables, this.getPageNames()))\n      // }\n      if (this.nodeJson.props.type === \"external\") {\n        errors.pushArray(actionWhenOpenPageExternal(this.nodeJson.props || {}));\n      }\n    } else if (this.nodeJson.type === \"open-url\") {\n      errors.pushArray(actionWhenOpenURL(this.nodeJson.props || {}));\n    } else if (this.nodeJson.type === \"open-form\") {\n      errors.pushArray(actionWhenOpenForm(this.nodeJson.props || {}));\n      // if (!(this.appJson?.app?.integrations?.incoming || {})[this.nodeJson.props.formId]?.enabled) {\n      //   const availables = Object.entries(this.appJson?.app?.integrations?.incoming || {})\n      //     .filter(it => it?.[1]?.enabled)\n      //     .map(it => it?.[0]);\n      //   errors.push(this.createValidationError('oneOf', 'formId', this.nodeJson.props.formId, availables))\n      // }\n      if (this.nodeJson.props?.target?.type === \"_modal\") {\n        this.validatorPath = `${this.path}.props.target`;\n        errors.pushArray(actionWhenOpenFormModal(this.nodeJson.props.target));\n      }\n    } else if (this.nodeJson.type === \"copy-to-clipboard\") {\n      errors.pushArray(actionCopyToClipboard(this.nodeJson.props || {}));\n    } else if (this.nodeJson.type === \"feedback-message\") {\n      errors.pushArray(actionFeedbackMessage(this.nodeJson.props || {}));\n    }\n    return errors;\n  }\n}\n","import AbstractHippoNode from \"./AbstractHippoNode\";\nimport WebViewNode from \"./WebViewNode\";\n\nimport TrelloCardBackViewNode from \"./TrelloCardBackViewNode\";\nimport AutomationNode from \"./Automations/AutomationNode\";\nimport HipporelloFieldNode from \"./HipporelloFieldNode\";\nimport ViewSettingsNode from \"./Settings/ViewSettingsNode\";\nimport AppVariableFieldsNode from \"./Settings/FieldDefinitions/appVariableFieldsNode\";\nimport CardCollectionsNode from \"./CardCollections/CardCollectionsNode\";\nimport RolesNode from \"./Roles/RolesNode\";\nimport FormNode from \"./Forms/FormNode\";\nimport EmailNode from \"./Forms/EmailNode\";\nimport JSONUtils from \"../JSONUtils\";\nimport TrelloBoardViewNode from \"./TrelloBoardViewNode\";\nimport { APP_SLUG_BLACKLIST, LATEST_APP_SCHEMA_VERSION } from \"../constants\";\nimport VariableNode from \"./VariableNode\";\nimport Mustache from \"mustache\";\nimport getValidator from \"../Utils/getValidator\";\nimport MagicLinkNode from \"./MagicLink/MagicLinkNode\";\n\nexport default class AppNode extends AbstractHippoNode {\n  static INSTANCE = null;\n  constructor(appJson, entries) {\n    super(appJson, \"app\");\n    if (entries) this.entities = entries;\n  }\n\n  getValidatorFunction() {\n    const appNodeCheck = getValidator({\n      useNewCustomCheckerFunction: true,\n    }).compile({\n      id: \"string\",\n      schemaVersion: {\n        type: \"number\",\n        equal: LATEST_APP_SCHEMA_VERSION,\n      },\n      name: \"string|empty:false|trim\",\n      slug: {\n        type: \"custom\",\n        check: (value, errors) => {\n          if (APP_SLUG_BLACKLIST.includes(value)) {\n            errors.push({\n              type: \"notOneOf\",\n              label: \"App Slug\",\n              expected: APP_SLUG_BLACKLIST,\n            });\n          }\n          return value;\n        },\n      },\n      description: \"string|optional|empty:false|trim\",\n      type: {\n        type: \"enum\",\n        values: [\"defaultApp\", \"homeApp\"],\n      },\n      boards: \"array|optional\",\n    });\n    const appErrors = appNodeCheck(this.appJson.app);\n    let allErrors = Array.isArray(appErrors) ? appErrors : [];\n    this.variableNodes.forEach((valNode) => {\n      let errors = valNode.getValidatorFunction();\n      if (errors && errors.length > 0) {\n        allErrors.splice(allErrors.length, 0, ...errors);\n      }\n    });\n    return allErrors;\n  }\n  process(appJson, path, nodeJson) {\n    this.addChildNode(new WebViewNode(appJson, \"app.environments.webView\"));\n    this.addChildNode(\n      new TrelloCardBackViewNode(appJson, \"app.environments.trelloCardBack\")\n    );\n    if (appJson?.app?.environments?.trelloBoardView?.enabled) {\n      this.addChildNode(\n        new TrelloBoardViewNode(appJson, \"app.environments.trelloBoardView\")\n      );\n    }\n    this.addChildNode(new CardCollectionsNode(appJson, \"app.cardCollections\"));\n    this.addChildNode(new RolesNode(appJson, \"app.roles\"));\n    this.addChildNode(new ViewSettingsNode(appJson, \"app.viewSettings\"));\n    let appVariables = JSONUtils.query(\n      appJson,\n      \"app.fieldDefinitions.appVariableFields\"\n    );\n    if (appVariables) {\n      this.addChildNode(\n        new AppVariableFieldsNode(\n          appJson,\n          \"app.fieldDefinitions.appVariableFields\"\n        )\n      );\n    }\n    let automationIds = this.getAutomations(true);\n    if (automationIds?.length) {\n      automationIds.forEach((automationId) => {\n        this.addChildNode(\n          new AutomationNode(appJson, \"app.automations.\" + automationId)\n        );\n      });\n    }\n    let hippoFieldIds = this.getHippoFields(true);\n    if (hippoFieldIds?.length) {\n      hippoFieldIds.forEach((hfId) => {\n        this.addChildNode(\n          new HipporelloFieldNode(\n            appJson,\n            \"app.fieldDefinitions.hippoFields.\" + hfId\n          )\n        );\n      });\n    }\n    let forms = this.getFormIds(true);\n    if (forms?.length) {\n      forms.forEach((form) => {\n        if ([\"form\", \"updateform\"].includes(form.type)) {\n          this.addChildNode(\n            new FormNode(appJson, \"app.integrations.incoming.\" + form.id)\n          );\n        } else if (form.type === \"email\") {\n          this.addChildNode(\n            new EmaiAlNode(appJson, \"app.integrations.incoming.\" + form.id)\n          );\n        }\n      });\n    }\n    let magicLinkIds = this.getMagicLinkIds(true);\n    if (magicLinkIds?.length) {\n      magicLinkIds.forEach((mlId) => {\n        this.addChildNode(\n          new MagicLinkNode(appJson, \"app.fieldDefinitions.magicLink.\" + mlId)\n        );\n      });\n    }\n    this.generateVariableNodes(nodeJson);\n  }\n\n  generateVariableNodes(nodeJson) {\n    this.variableNodes = [];\n    this._generateVariableNodes(\"app\", nodeJson, this.variableNodes);\n  }\n  _generateVariableNodes(path, nodeJson, variableNodes) {\n    if (nodeJson?.deleted || nodeJson?.enabled === false) return false;\n    if (Array.isArray(nodeJson)) {\n      nodeJson.forEach((item, index) => {\n        this._generateVariableNodes(path + \".\" + index, item, variableNodes);\n      });\n    } else if (typeof nodeJson === \"string\") {\n      if (nodeJson.indexOf(\"{{\") >= 0) {\n        try {\n          let parsedContent = Mustache.parse(nodeJson || \"\");\n          parsedContent.forEach((item) => {\n            if (item[0] === \"name\" || item[0] === \"&\") {\n              let exp = item[1];\n              const variableNode = new VariableNode(this.appJson, path, exp);\n              variableNode.init(this.actions, this.entities);\n              variableNodes.push(variableNode);\n            }\n          });\n        } catch (err) {}\n      }\n    } else if (nodeJson instanceof Object) {\n      Object.entries(nodeJson).forEach(([key, value]) => {\n        this._generateVariableNodes(path + \".\" + key, value, variableNodes);\n      });\n    }\n  }\n}\n","import AbstractHippoNode from \"../AbstractHippoNode\";\nimport RuleNode from \"./RuleNode\";\nimport getValidator from \"../../Utils/getValidator\";\n\n\nexport default class AutomationNode extends AbstractHippoNode{\n  constructor(appJson, path) {\n    super(appJson, path);\n  }\n\n  process(appJson, path, automation) {\n    const rules = Object.values(automation?.rules||{});\n    if(rules?.length && automation?.enabled){\n      rules.forEach(rule=>{\n        this.addChildNode(new RuleNode(\n          appJson,\n          `app.automations.${automation?.id}.rules.${rule?.id}`\n        ))\n      })\n    }\n  }\n\n  getValidatorFunction() {\n    const allListOptions = this.getTrelloList(true)\n    const trelloListEnum = {\n      type: \"enum\",\n      values: allListOptions,\n      optional: true\n    }\n    const trelloListEnumArray = {\n      type: \"array\",\n      items: {\n        type: \"enum\",\n        values: allListOptions,\n      },\n      optional: true\n    }\n    let triggerSchema = {\n      type: {\n        type: 'enum',\n        values: ['card-created', 'moved', 'commented', 'archived']\n      },\n    }\n    switch (this.nodeJson?.trigger?.type){\n      case \"card-created\": triggerSchema.lists = trelloListEnumArray;break;\n      case \"moved\": triggerSchema.fromList = trelloListEnum;triggerSchema.toList = trelloListEnum;break;\n      case \"commented\": triggerSchema.list = trelloListEnum;break;\n      default: break;\n    }\n    const automationCheck = getValidator().compile({\n      id: 'string|empty:false',\n      name: 'string|empty:false',\n      order: 'number',\n      trigger: {\n        type: 'object',\n        props: {\n          ...triggerSchema\n        }\n      }\n    });\n    const errors = [];\n    errors.pushArray(automationCheck(this.nodeJson));\n    if(!this.nodeJson?.enabled)\n      return []\n    else\n      return errors;\n  }\n}\n","import AbstractHippoNode from \"../AbstractHippoNode\";\nimport EventNode from \"../EventNode\";\nimport {conditionsWithOr} from \"../../Utils/conditionWithOr\";\nimport {conditionsWithAnd} from \"../../Utils/conditionsWithAnd\";\nimport getValidator from \"../../Utils/getValidator\";\n\nexport default class RuleNode extends AbstractHippoNode{\n  constructor(appJson, path) {\n    super(appJson, path);\n  }\n\n  process(appJson, path, nodeJson) {\n    let events = nodeJson?.events;\n    if(events){\n      let eventsPath = path+\".events\";\n      Object.entries(events).forEach((entry=>{\n        this.addChildNode(new EventNode(appJson, eventsPath+\".\"+entry[0]))\n      }))\n    }\n  }\n\n  getValidatorFunction() {\n    let errors = []\n    const ruleCheck = getValidator().compile({\n      id: 'string',\n      order: 'number',\n      enabled: 'boolean|optional',\n      filter: {\n        type: 'object',\n        optional: true,\n        props: this.getCollectionValidateJson()\n      }\n    })\n    errors.pushArray(ruleCheck(this.nodeJson));\n    // if(!this.nodeJson?.filter?.conditions && !this.nodeJson?.filter?.collections){\n    //   errors.push(this.createValidationError('required', 'filter', this.nodeJson?.filter, null, null, 'Collections or Conditions filter must be entered for automation action'))\n    // }\n    if(this.nodeJson?.filter?.conditions?.length > 1){//Or Condition\n      errors.pushArray(conditionsWithOr(this.appJson, this.entities)(this.nodeJson?.filter))\n    }\n    else if(this.nodeJson?.filter?.conditions?.length){\n      errors.pushArray(conditionsWithAnd(this.appJson, this.entities)(this.nodeJson?.filter))\n    }\n    return errors;\n  }\n}\n","import AbstractHippoNode from \"../AbstractHippoNode\";\nimport getValidator from \"../../Utils/getValidator\";\n\nconst cardCollectionSchema = {\n  id: 'string',\n  name: 'string',\n  collections:{\n    type:\"array\",\n    optional:true,\n    items:{\n      type:\"string\"\n    }\n  },\n  conditions:{\n    type:\"array\",\n    optional:true\n  }\n}\nconst cardCollectionCheck = getValidator().compile(cardCollectionSchema);\nexport default class CardCollectionNode extends AbstractHippoNode{\n  constructor(appJson, path) {\n    super(appJson, path);\n  }\n\n  process(appJson, path, nodeJson) {\n  }\n\n  getValidatorFunction() {\n    return cardCollectionCheck;\n  }\n}\n","import AbstractHippoNode from \"../AbstractHippoNode\";\nimport CardCollectionNode from \"../CardCollections/CardCollectionNode\";\n\nexport default class CardCollectionsNode extends AbstractHippoNode{\n  constructor(appJson, path) {\n    super(appJson, path);\n  }\n\n  process(appJson, path, nodeJson) {\n    let cardCollectionIds = this.getCollections()\n    if(cardCollectionIds){\n      cardCollectionIds.forEach(cardCollectionId=>{\n        this.addChildNode(new CardCollectionNode(appJson, \"app.cardCollections.\" + cardCollectionId))\n      })\n    }\n  }\n  getValidatorFunction() {\n    if (typeof this.nodeJson !== 'object') {\n      return [\n          this.createValidationError('object', 'cardCollections', typeof this.nodeJson)\n      ]\n    }\n  }\n\n  isMandatory() {\n    return false;\n  }\n}\n","import AbstractHippoNode from \"./AbstractHippoNode\";\n\nimport EventNode from \"./EventNode\";\nimport ChildrenNode from \"./Views/ChildrenNode\";\nimport VisibilityNode from \"./AccessRights/VisibilityNode\";\nimport getValidator from \"../Utils/getValidator\";\nimport {TransText} from \"../localize/localize\";\nimport {COMPONENT_TYPES} from \"../constants\";\n\nconst componentScheme = {\n  id: \"string|empty:false\",\n  type: {\n    type: \"enum\",\n    values: COMPONENT_TYPES,\n  },\n  viewProps: {\n    type: \"object\",\n    optional: true,\n    props: {\n      name: \"string|optional\",\n      gap: \"number|optional\",\n      align: {\n        type: \"enum\",\n        values: [\"left\", \"right\", \"center\"],\n        optional: true,\n      },\n    },\n  },\n  accessRight: \"object|optional\",\n};\nconst componentCheck = getValidator().compile(componentScheme);\n\nfunction formListCheck() {\n  const sourceTypes = [\n    \"all\",\n    \"selected\",\n    \"allCreatingForms\",\n    \"allUpdatingForms\",\n  ];\n  const isSelectedForms = this.nodeJson?.viewProps?.type === \"selected\";\n  const formsOptions = this.getFormIds();\n  return getValidator().compile({\n    viewType: {\n      type: \"enum\",\n      values: [\"grid\", \"list\"],\n    },\n    type: {\n      type: \"enum\",\n      values: sourceTypes,\n    },\n    showDescription: \"boolean|optional\",\n    selectedForms: {\n      type: \"array\",\n      optional: !isSelectedForms,\n      items: {\n        type: \"enum\",\n        values: formsOptions,\n      },\n    },\n  });\n}\nfunction appListCheck() {\n  const isSelectedApps = this.nodeJson?.viewProps?.type === \"selected\";\n  const appsOptions = this.getApps(true);\n  return getValidator().compile({\n    viewType: {\n      type: \"enum\",\n      values: [\"grid\", \"list\"],\n    },\n    type: {\n      type: \"enum\",\n      values: [\"all\", \"selected\"],\n    },\n    showDescription: \"boolean|optional\",\n    selectedApps: {\n      type: \"array\",\n      optional: !isSelectedApps,\n      label: \"Selected Power-Ups\",\n      items: {\n        type: \"enum\",\n        values: appsOptions,\n      },\n    },\n  });\n}\nfunction getParagraphCheck() {\n  const displayedTextLimit = this.nodeJson?.viewProps?.displayedTextLimit;\n  const checkMin = displayedTextLimit ? 1 : null;\n  return getValidator().compile({\n    text: \"string\",\n    alignment: {\n      type: \"enum\",\n      values: [\"left\", \"right\", \"center\", \"justify\"],\n      optional: true,\n    },\n    displayedTextLimit: {\n      type: \"enum\",\n      values: [true, false],\n      optional: true,\n    },\n    maxCharacter: {\n      optional: !displayedTextLimit,\n      type: \"number\",\n      min: checkMin,\n      label: \"Maximum Character\",\n    },\n  });\n}\nconst headerCheck = getValidator().compile({\n  text: \"string\",\n  heading: {\n    type: \"enum\",\n    values: [\"h1\", \"h2\", \"h3\", \"h4\", \"h5\", \"h6\"],\n  },\n  alignment: {\n    type: \"enum\",\n    values: [\"left\", \"right\", \"center\", \"justify\"],\n    optional: true,\n  },\n});\nconst paragraphCheck = getValidator().compile({\n  text: \"string\",\n  alignment: {\n    type: \"enum\",\n    values: [\"left\", \"right\", \"center\", \"justify\"],\n    optional: true,\n  },\n});\nconst linkCheck = getValidator().compile({\n  text: \"string\",\n  url: \"string|optional\",\n});\nconst trelloCSCheck = getValidator().compile({\n  pageSize: \"number|optional\",\n  query: {\n    type: \"object\",\n    optional: true,\n    props: {\n      collections: {\n        type: \"array\",\n        items: {\n          type: \"string\",\n        },\n        optional: true,\n      },\n      includeArchived: {\n        type: \"enum\",\n        optional: true,\n        values: [\"all\", \"archived\", \"notarchived\"],\n      },\n      type: {\n        type: \"enum\",\n        optional: true,\n        values: [\"basic\"],\n      },\n    },\n  },\n  showExport: \"boolean|optional\",\n  showSearch: \"boolean|optional\",\n});\nconst tableCheck = getValidator().compile({\n  columns: {\n    optional: true,\n    type: \"array\",\n    items: {\n      type: \"object\",\n      props: {\n        header: \"string\",\n        view: {\n          type: \"object\",\n          props: componentScheme,\n        },\n      },\n    },\n  },\n});\nconst dateCheck = getValidator().compile({\n  text: \"string\",\n  format: \"string\",\n});\nconst menuItemCheck = getValidator().compile({\n  text: \"string\",\n});\nconst cardMenuItemCheck = getValidator().compile({\n  text: \"string\",\n  query: {\n    type: \"object\",\n    optional: true,\n    props: {\n      collections: {\n        type: \"array\",\n        optional: true,\n        items: {\n          type: \"string\",\n        },\n      },\n      includeArchived: {\n        type: \"enum\",\n        optional: true,\n        values: [\"all\", \"archived\", \"notarchived\"],\n      },\n      type: {\n        optional: true,\n        type: \"enum\",\n        values: [\"basic\"],\n      },\n    },\n  },\n});\nconst iconCheck = getValidator().compile({\n  name: \"string|empty:false\",\n  family: \"string|optional\",\n  size: \"number|optional\",\n});\nconst convCheck = getValidator().compile({\n  allowDeleteMessage: \"boolean|optional\",\n  allowDeleteThread: \"boolean|optional\",\n  allowGetBoardMembers: \"boolean|optional\",\n  allowGetContacts: \"boolean|optional\",\n  allowGetRoles: \"boolean|optional\",\n  allowMembersUpdate: \"boolean|optional\",\n  allowNewThread: \"boolean|optional\",\n  allowQuickText: \"boolean|optional\",\n  allowReply: \"boolean|optional\",\n  canAddQuickText: \"boolean|optional\",\n  canDeleteQuickText: \"boolean|optional\",\n  canEditQuickText: \"boolean|optional\",\n  canReply: \"boolean|optional\",\n  canUploadAttachment: \"boolean|optional\",\n  canUseQuickText: \"boolean|optional\",\n  showMeta: \"boolean|optional\",\n  showMetaDetail: \"boolean|optional\",\n});\nconst tableColumnCheck = getValidator().compile({\n  field: \"string|optional\",\n  header: \"string|optional\",\n  sortable: \"boolean|optional\",\n});\nconst snippetCheck = getValidator().compile({\n  css: \"string|optional\",\n  html: \"string\",\n  name: \"string|empty:false\",\n});\nfunction hippoFieldsCheck() {\n  const isSelectedFields = this.nodeJson?.viewProps?.dataFields?.source === \"direct\";\n  const isVariableField = this.nodeJson?.viewProps?.dataFields?.source === \"variable\";\n  let fields = this.getHippoFields(true);\n  fields = fields.concat(this.getCustomFields(true))\n  fields = fields.concat(['hippoFields', \"customFields\", \"appVariables\"])\n  return getValidator().compile({\n    downloadCsvFile: \"boolean\",\n    hideEmptyFields: \"boolean\",\n    excerptContent: \"boolean|optional\",\n    allowEdit: \"boolean|optional\",\n    allowCopy: \"boolean|optional\",\n    showHippoFieldIcon: \"boolean\",\n    showSearch: \"boolean\",\n    showUpdateWith: \"boolean\",\n    dataFields: {\n      label: TransText.getTranslate('dataFields'),\n      type: \"object\",\n      props: {\n        source: {\n          type: \"enum\",\n          values: [\"direct\", \"variable\"],\n        },\n        selected:{\n          label: TransText.getTranslate('dataFields'),\n          type: \"array\",\n          optional: !isSelectedFields,\n          items: {\n            type: \"enum\",\n            values: fields,\n          },\n        },\n        variable: {\n          type: \"string\",\n          optional: !isVariableField\n        },\n      }\n    },\n  });\n}\nfunction appVariablesCheck() {\n  const isSelectedFields = this.nodeJson?.viewProps?.source === \"selected\";\n  const isVariableField = this.nodeJson?.viewProps?.source === \"variable\";\n  return getValidator().compile({\n    downloadCsvFile: \"boolean|optional\",\n    hideEmptyFields: \"boolean|optional\",\n    excerptContent: \"boolean|optional\",\n    allowEdit: \"boolean|optional\",\n    selectedFields: {\n      type: \"array\",\n      optional: !isSelectedFields,\n      items: {\n        type: \"enum\",\n        values: this.getAppParameters(true),\n      },\n    },\n    variable: {\n      type: \"string\",\n      optional: !isVariableField\n    },\n    showIcon: \"boolean|optional\",\n    showSearch: \"boolean|optional\",\n    source: {\n      type: \"enum\",\n      values: [\"all\", \"selected\", \"variable\"],\n    },\n  });\n}\nconst labelCheck = getValidator().compile({\n  text: \"string\",\n});\nfunction getAttachmentListCheck() {\n  return getValidator().compile({\n    field: {\n      type: \"string\",\n      //Todo: Variable Check\n    },\n  });\n}\nfunction getImageCheck() {\n  return getValidator().compile({\n    attachmentListId: {\n      type: \"string\",\n      label: \"Source\",\n      optional: this.nodeJson?.viewProps?.sourceType !== \"attachment\",\n      //Todo: Variable Check\n    },\n    src: {\n      type: \"string\",\n      label: \"Source\",\n      optional: this.nodeJson?.viewProps?.sourceType !== \"url\",\n    },\n  });\n}\nfunction trelloActivitiesCheck() {\n  return getValidator().compile({\n    source: \"string\",\n    displayOptions: {\n      type: \"array\",\n      items: {\n        type: \"enum\",\n        values: [\n          \"all\",\n          \"comment\",\n          \"member\",\n          \"move\",\n          \"copy\",\n          \"archiveAndSendBoard\",\n          \"fieldUpdate\",\n          \"attachment\",\n          \"date\"\n        ]\n      }\n    }\n  })\n}\nfunction shareButtonCheck() {\n  return getValidator({useNewCustomCheckerFunction: true}).compile({\n      urlSource: {\n        type: \"enum\",\n        values: [\"current\", \"custom\"],\n        optional: true\n      },\n      customUrl:{\n        type: \"string\",\n        optional: this.nodeJson.viewProps?.urlSource !== \"custom\"\n      },\n      align: {\n        type: \"enum\",\n        values: [\"left\", \"center\", \"right\"]\n      },\n      viewType: {\n        type: \"enum\",\n        values: [\"horizontal\", \"floating\"]\n      },\n      style: {\n        type: \"enum\",\n        values: [\"circle\", \"square\"]\n      },\n      size: {\n        type: \"enum\",\n        values: [\"small\", \"medium\", \"large\"]\n      },\n      color: \"string\",\n      message: {\n        type: \"string\",\n        field: TransText.getTranslate('shareMessage')\n      },\n    services: {\n      type: \"array\",\n      items: {\n        type: \"custom\",\n        props: {\n          id: \"string\",\n          message: \"string|optional\",\n          media: {\n            type: \"custom\",\n            default: \"[[[nullValue]]]\",\n          },\n          content: {\n            type: \"custom\",\n            default: \"[[[nullValue]]]\",\n          }\n        },\n        custom(value, errors, schema, path, parentNode, context){\n          if(value?.id === \"pinterest\" && !value?.media){\n            const index = (Object.values(parentNode?.services)||[]).findIndex(i => i?.id === \"pinterest\")\n            errors.push({ type: \"required\", field: `services[${index}].media`, message: TransText.getTranslate(\"mediaRequiredForNode\", TransText.getTranslate('media'), \"Pinterest\")});\n          }\n          if(value?.id === \"copy\" && value?.content &&  !value?.message){\n            const index = (Object.values(parentNode?.services)||[]).findIndex(i => i?.id === \"copy\")\n            errors.push({ type: \"required\", field: `services[${index}].message`, message: TransText.getTranslate(\"mediaRequiredForNode\", TransText.getTranslate('content'), TransText.getTranslate('copy'))});\n          }\n          return value\n        }\n      }\n    },\n      title: \"string|optional\"\n  })\n\n}\nexport default class ComponentNode extends AbstractHippoNode {\n  constructor(appJson, path) {\n    super(appJson, path);\n  }\n\n  getValidatorFunction() {\n    const errors = [];\n    errors.pushArray(componentCheck(this.nodeJson));\n    this.validatorPath = `${this.path}.viewProps`;\n    switch (this.nodeJson.type) {\n      case \"attachmentList\":\n        errors.pushArray(\n          getAttachmentListCheck.call(this)(this.nodeJson.viewProps || {})\n        );\n        break;\n      case \"image\":\n        errors.pushArray(\n          getImageCheck.call(this)(this.nodeJson.viewProps || {})\n        );\n        break;\n      case \"formList\":\n        errors.pushArray(\n          formListCheck.call(this)(this.nodeJson.viewProps || {})\n        );\n        break;\n      case \"appList\":\n        errors.pushArray(\n          appListCheck.call(this)(this.nodeJson.viewProps || {})\n        );\n        break;\n      case \"header\":\n        errors.pushArray(headerCheck(this.nodeJson.viewProps || {}));\n        break;\n      case \"paragraph\":\n        errors.pushArray(\n          getParagraphCheck.call(this)(this.nodeJson.viewProps || {})\n        );\n        break;\n      case \"hyperLink\":\n        errors.pushArray(linkCheck(this.nodeJson.viewProps || {}));\n        break;\n      case \"TrelloCardSharing\":\n        errors.pushArray(trelloCSCheck(this.nodeJson.viewProps || {}));\n        break;\n      case \"table\":\n        errors.pushArray(tableCheck(this.nodeJson.viewProps || {}));\n        break;\n      case \"date\":\n        errors.pushArray(dateCheck(this.nodeJson.viewProps || {}));\n        break;\n      case \"menuItem\":\n        errors.pushArray(menuItemCheck(this.nodeJson.viewProps || {}));\n        break;\n      case \"cardMenuItem\":\n        errors.pushArray(cardMenuItemCheck(this.nodeJson.viewProps || {}));\n        break;\n      case \"icon\":\n        errors.pushArray(iconCheck(this.nodeJson.viewProps || {}));\n        break;\n      case \"Conversation\":\n        errors.pushArray(convCheck(this.nodeJson.viewProps || {}));\n        break;\n      case \"tableColumn\":\n        errors.pushArray(tableColumnCheck(this.nodeJson.viewProps || {}));\n        break;\n      case \"snippet\":\n        errors.pushArray(snippetCheck(this.nodeJson.viewProps || {}));\n        break;\n      case \"hippoFields\":\n        errors.pushArray(\n          hippoFieldsCheck.call(this)(this?.nodeJson?.viewProps || {})\n        );\n        break;\n      case \"appVariables\":\n        errors.pushArray(\n          appVariablesCheck.call(this)(this.nodeJson.viewProps || {})\n        );\n        break;\n      case \"label\":\n        errors.pushArray(labelCheck(this.nodeJson.viewProps || {}));\n      case \"shareButton\":\n        errors.pushArray(shareButtonCheck.call(this)(this.nodeJson.viewProps||{}))\n        break;\n      case \"trelloActivities\":\n        errors.pushArray(trelloActivitiesCheck.call(this)(this.nodeJson.viewProps||{}))\n        break;\n    }\n    return errors;\n  }\n\n  process(appJson, path, nodeJson) {\n    this.id = nodeJson.id;\n    if (nodeJson?.viewProps?.children) {\n      this.addChildNode(\n        new ChildrenNode(appJson, path + \".viewProps.children\")\n      );\n    }\n    let events = nodeJson?.viewProps?.events;\n    if (events) {\n      Object.entries(events).forEach((entry) => {\n        this.addChildNode(\n          new EventNode(appJson, path + \".viewProps.events.\" + entry[0])\n        );\n      });\n    }\n    if(path.includes(\"es563z\"))\n    if (nodeJson?.accessRight?.dataRule?.conditions) {\n      this.addChildNode(\n        new VisibilityNode(appJson, `${path}.accessRight.dataRule`)\n      );\n    }\n  }\n}\n","import AbstractHippoNode from \"./AbstractHippoNode\";\nimport ActionGroupNode from \"./ActionGroupNode\";\nimport ActionNode from \"./ActionNode\";\nimport getValidator from \"../Utils/getValidator\";\n\nconst eventCheck = getValidator().compile({\n  id: 'string'\n})\nexport default class EventNode extends AbstractHippoNode{\n  constructor(appJson, path) {\n    super(appJson, path);\n  }\n\n  process(appJson, path, nodeJson) {\n    if(nodeJson.actionGroupId){\n      this.addChildNode(new ActionGroupNode(appJson, \"app.actionGroups.\"+nodeJson.actionGroupId));\n    }\n    else{\n      if(typeof nodeJson.action === 'string'){\n        this.addChildNode(new ActionGroupNode(appJson, \"app.actionGroups.\"+nodeJson.action));\n      } else {\n        this.addChildNode(new ActionNode(appJson, `${this.path}.action`, true));\n      }\n    }\n  }\n  getValidatorFunction() {\n    return eventCheck;\n  }\n}\n","import AbstractHippoNode from \"../AbstractHippoNode\";\nimport FormInputNode from \"./FormInputNode\";\nimport {TransText} from \"../../localize/localize\";\n\nexport default class EmailNode extends AbstractHippoNode{\n  constructor(appJson, path) {\n    super(appJson, path);\n  }\n  process(appJson, path, nodeJson) {\n    if(nodeJson?.enabled){\n      nodeJson?.body?.rows.forEach((row, rowIndex) =>{\n        if(row?.columns?.length){\n          row?.columns.forEach((column, colIndex) =>{\n            this.addChildNode(new FormInputNode(appJson, `${this.path}.body.rows.${rowIndex}.columns.${colIndex}.element`, column?.element?.id, nodeJson))\n          })\n        }\n      })\n    }\n  }\n\n  getValidatorFunction() {\n    const emailForms = this.getFormIds(true, e => e?.type === \"email\" && e?.id !== this?.nodeJson?.id)\n    const allEmails = emailForms.map(e => e?.email)\n    let errors = [];\n    if(!this.nodeJson?.enabled)\n      return [];\n    else{\n      if((allEmails||[]).includes(this?.nodeJson?.email)){\n        errors.push({type: \"unique\", message: TransText.getTranslate('mustBeUniqNode', TransText.getTranslate('email'))})\n      }\n      return errors\n    }\n  }\n}\n","import AbstractHippoNode from \"../AbstractHippoNode\";\nimport ActionGroupNode from \"../ActionGroupNode\";\nimport { FORM_INPUT_NAMES } from \"../../Utils/formInputNames\";\nimport FormInputVisibilityNode from \"./FormInputVisibilityNode\";\nimport uniq from \"lodash/uniq\";\nimport getValidator from \"../../Utils/getValidator\";\nimport { TransText } from \"../../localize/localize\";\nimport {\n  checkAttachmentTypeIsValid,\n  getValidAttachmentFileTypes,\n} from \"../../Utils/checkAttachmentType\";\n\nconst formInputSchema = {\n  input: \"string\",\n  id: \"string|empty:false\",\n  props: {\n    type: \"object\",\n    props: {\n      value: \"string|optional\",\n      label: \"string|optional\",\n      name: \"string\",\n      settings: \"any|optional\",\n    },\n  },\n};\nfunction fieldSelectorCheck(validationRulesScheme) {\n  const isSelectedFields =\n    this?.nodeJson?.props?.elementData?.include?.dataFields?.source ===\n    \"direct\";\n  const isVariableField =\n    this?.nodeJson?.props?.elementData?.include?.dataFields?.source ===\n    \"variable\";\n  let fields = [];\n  fields = this.getHippoFields(true);\n  fields = fields.concat(this.getCustomFields(true));\n  fields = fields.concat(this.getAppParameters(true));\n  fields = fields.concat([\"hippoFields\", \"customFields\", \"appVariables\"]);\n  return getValidator().compile({\n    label: \"string|optional\",\n    name: \"string\",\n    schema: \"object\",\n    settings: \"object\",\n    validationRules: validationRulesScheme,\n    elementData: {\n      type: \"object\",\n      props: {\n        include: {\n          type: \"object\",\n          props: {\n            dataFields: {\n              type: \"object\",\n              label: TransText.getTranslate(\"dataFields\"),\n              props: {\n                source: {\n                  type: \"enum\",\n                  values: [\"direct\", \"variable\"],\n                },\n                variable: {\n                  type: \"string\",\n                  optional: !isVariableField,\n                  label: \"Variable\",\n                },\n                selected: {\n                  type: \"array\",\n                  optional: !isSelectedFields,\n                  label: TransText.getTranslate(\"dataFields\"),\n                  minItems: isSelectedFields ? 1 : 0,\n                  items: {\n                    type: \"enum\",\n                    values: fields,\n                  },\n                  messages: {\n                    required: TransText.getTranslate(\n                      \"xSelectorNoAnySelectedOption\",\n                      TransText.getTranslate(\"field\"),\n                      \"Field Selector\"\n                    ),\n                  },\n                },\n              },\n            },\n          },\n        },\n        fields: \"array\",\n      },\n    },\n  });\n}\nconst formInputCheck = getValidator().compile(formInputSchema);\nexport default class FormInputNode extends AbstractHippoNode {\n  constructor(appJson, path, id, formJson) {\n    super(appJson, path);\n    this.id = id;\n    this.formJson = formJson;\n  }\n\n  process(appJson, path, nodeJson) {\n    if (\n      nodeJson?.input === \"Button\" &&\n      nodeJson?.props?.[\"optional-actionGroupId\"]\n    ) {\n      const actionGroupId = nodeJson?.props?.[\"optional-actionGroupId\"];\n      this.addChildNode(\n        new ActionGroupNode(appJson, \"app.actionGroups.\" + actionGroupId)\n      );\n    }\n    if (nodeJson.props?.visibilityRules?.rules?.length) {\n      this.addChildNode(\n        new FormInputVisibilityNode(\n          appJson,\n          `${this.path}.props.visibilityRules`\n        )\n      );\n    }\n  }\n\n  getValidatorFunction() {\n    let hasParent =\n      this?.parentNode?.nodeJson?.type === \"updateform\" ||\n      this?.parentNode?.nodeJson?.usesParent;\n    const formMapping = this.parentNode.nodeJson.body.fieldMapping || {};\n    for (const formMappingKey in formMapping) {\n      if (\n        formMapping[formMappingKey]?.[\"cardField\"]?.targetField ===\n        \"c_parentCardId\"\n      ) {\n        hasParent = true;\n      }\n    }\n    const trelloListIds = this.getTrelloList(true, hasParent);\n    let isNameOptional = false;\n    let isListOptional = false;\n    const fieldMapping = this?.parentNode?.nodeJson?.body?.fieldMapping;\n    Object.values(fieldMapping || {}).forEach((fieldMap) => {\n      if (\n        fieldMap?.trelloCardField &&\n        fieldMap.trelloCardField?.targetField === \"name\"\n      ) {\n        isNameOptional = true;\n      }\n      if (\n        fieldMap?.trelloCardField &&\n        fieldMap.trelloCardField?.targetField === \"list\"\n      ) {\n        isListOptional = true;\n      }\n    });\n    const isLengthIf = [\"lengthLimit\", \"attachmentLimit\"].some(\n      (i) => this.nodeJson?.props?.validationRules?.[i] === true\n    );\n    const validationRulesScheme = {\n      type: \"object\",\n      optional: true,\n      props: {\n        required: {\n          type: \"boolean\",\n          optional: true,\n        },\n        minLength: {\n          type: \"number\",\n          optional: !isLengthIf,\n          nullable: true,\n          min: 0,\n          max: isLengthIf\n            ? this.nodeJson?.props?.validationRules?.maxLength\n            : 999999,\n          label: TransText.getTranslate(\"minimum\"),\n        },\n        maxLength: {\n          type: \"number\",\n          optional: true,\n          nullable: true,\n          min: isLengthIf\n            ? this.nodeJson?.props?.validationRules?.minLength\n            : 0,\n          label: TransText.getTranslate(\"maximum\"),\n        },\n        fileSizeLimit: {\n          type: \"boolean\",\n          optional: true,\n          nullable: true,\n          label: TransText.getTranslate(\"fileSizeLimit\"),\n        },\n        sizeLimit: {\n          type: \"number\",\n          optional:\n            this.nodeJson?.props?.validationRules?.fileSizeLimit !== true,\n          label: TransText.getTranslate(\"maxSize\"),\n          min: 1,\n        },\n        lengthLimit: {\n          type: \"boolean\",\n          optional: true,\n          nullable: true,\n        },\n        attachmentLimit: {\n          type: \"boolean\",\n          optional: true,\n          nullable: true,\n          label: TransText.getTranslate(\"attachmentSizeLimit\"),\n        },\n        minItems: {\n          type: \"number\",\n          optional: true,\n          nullable: true,\n          min: 1,\n          max: this.nodeJson?.props?.validationRules?.maxItems,\n          label: TransText.getTranslate(\"minimum\"),\n        },\n        maxItems: {\n          type: \"number\",\n          optional: true,\n          nullable: true,\n          min: this.nodeJson?.props?.validationRules?.minItems,\n          label: TransText.getTranslate(\"maximum\"),\n        },\n        attachmentTypes: {\n          type: \"custom\",\n          optional: this.nodeJson?.input !== \"Attachment\",\n          nullable: this.nodeJson?.input !== \"Attachment\",\n          min: 1,\n          label: TransText.getTranslate(\"attachmentType\"),\n          check: (value, errors) => {\n            console.log({ value, errors });\n            const isValid = checkAttachmentTypeIsValid(value);\n            const validTypes = getValidAttachmentFileTypes();\n            if (!isValid) {\n              errors.push({\n                type: \"enumValue\",\n                actual: value,\n                expected: validTypes,\n              });\n            }\n            return value;\n          },\n        },\n      },\n    };\n    const ButtonSchema = {\n      \"mandatory-action\": {\n        type: \"object\",\n        optional: this?.parentNode?.nodeJson?.type === \"updateform\",\n        nullable: this?.parentNode?.nodeJson?.type === \"updateform\",\n        props: {\n          type: {\n            type: \"enum\",\n            values: [\"create-card\", \"update-card\"],\n          },\n          variables: {\n            type: \"object\",\n            props: {\n              cardCollection: {\n                type: \"string\",\n                optional: true,\n                nullable: true,\n              },\n              name: {\n                type: \"string\",\n                empty: false,\n                optional: isNameOptional,\n                messages: {\n                  required: TransText.getTranslate(\n                    \"valueIsRequiredByNode\",\n                    TransText.getTranslate(\"cardName\")\n                  ),\n                },\n              },\n              listHippoId: {\n                type: \"enum\",\n                nullable: true,\n                optional: isListOptional,\n                values: trelloListIds,\n              },\n              description: \"string|optional\",\n            },\n          },\n        },\n      },\n    };\n    const TrelloChecklistScheme = {\n      label: \"string\",\n      name: \"string\",\n      schema: \"object\",\n      settings: \"object\",\n      validationRules: validationRulesScheme,\n      elementData: {\n        type: \"object\",\n        props: {\n          include: {\n            type: \"object\",\n            props: {\n              variable: {\n                type: \"string\",\n                label: TransText.getTranslate(\"variable\"),\n              },\n            },\n          },\n        },\n      },\n    };\n    const TrelloLabelScheme = {\n      label: \"string\",\n      name: \"string\",\n      schema: \"object\",\n      settings: \"object\",\n      validationRules: validationRulesScheme,\n      elementData: {\n        type: \"object\",\n        props: {\n          include: {\n            type: \"object\",\n            props: {\n              type: {\n                type: \"enum\",\n                values: [\"selected\", \"all\", \"variable\"],\n              },\n              variable: {\n                type: \"string\",\n                optional:\n                  this.nodeJson?.props?.elementData?.include?.type !==\n                  \"variable\",\n                label: \"Variable\",\n              },\n              selected: {\n                type: \"array\",\n                nullable:\n                  this.nodeJson?.props?.elementData?.include?.type !==\n                  \"selected\",\n                optional:\n                  this.nodeJson?.props?.elementData?.include?.type !==\n                  \"selected\",\n                minItems: 1,\n                messages: {\n                  required: TransText.getTranslate(\n                    \"xSelectorNoAnySelectedOption\",\n                    TransText.getTranslate(\"label\"),\n                    \"Trello Label Selector\"\n                  ),\n                },\n              },\n            },\n          },\n        },\n      },\n    };\n    const TrelloListScheme = {\n      label: \"string\",\n      name: \"string\",\n      schema: \"object\",\n      settings: \"object\",\n      validationRules: validationRulesScheme,\n      elementData: {\n        type: \"object\",\n        props: {\n          include: {\n            type: \"object\",\n            props: {\n              type: {\n                type: \"enum\",\n                values: [\"selected\", \"all\", \"variable\"],\n              },\n              variable: {\n                type: \"string\",\n                optional:\n                  this.nodeJson?.props?.elementData?.include?.type !==\n                  \"variable\",\n                label: \"Variable\",\n              },\n              selected: {\n                type: \"array\",\n                nullable:\n                  this.nodeJson?.props?.elementData?.include?.type !==\n                  \"selected\",\n                optional:\n                  this.nodeJson?.props?.elementData?.include?.type !==\n                  \"selected\",\n                minItems: 1,\n                messages: {\n                  required: TransText.getTranslate(\n                    \"xSelectorNoAnySelectedOption\",\n                    TransText.getTranslate(\"list\"),\n                    \"Trello List Selector\"\n                  ),\n                },\n                items: {\n                  type: \"enum\",\n                  values: trelloListIds,\n                },\n              },\n            },\n          },\n        },\n      },\n    };\n\n    const TrelloUserSelectorSchema = {\n      label: \"string\",\n      name: \"string\",\n      schema: \"object\",\n      settings: \"object\",\n      validationRules: validationRulesScheme,\n      allowAddUser: \"boolean|optional\",\n      elementData: {\n        type: \"object\",\n        props: {\n          userGroups: {\n            type: \"array\",\n            minItems: 1,\n            items: {\n              type: \"object\",\n              props: {\n                type: {\n                  type: \"enum\",\n                  values: [\"hipporelloRole\", \"consoleRoles\", \"trelloRoles\"],\n                },\n                id: \"string\",\n              },\n              custom: (value, errors) => {\n                const enumValues = this.getRoles(true);\n                if (value?.type === \"hipporelloRole\") {\n                  if (!enumValues.includes(value?.id)) {\n                    errors.push({\n                      type: \"enumValue\",\n                      expected: this.getRoles()?.map((i) => i?.name),\n                    });\n                  }\n                }\n                return value;\n              },\n            },\n            messages: {\n              required: TransText.getTranslate(\"formAtLeastGroup\"),\n              minItems: TransText.getTranslate(\"formAtLeastGroup\"),\n            },\n          },\n          creatingGroups: {\n            optional: !this.nodeJson?.props?.allowAddUser,\n            type: \"array\",\n            minItems: 1,\n            items: {\n              type: \"enum\",\n\n              values: this.getRoles(true),\n            },\n            messages: {\n              required: TransText.getTranslate(\n                \"atLeastRoleMustSelectedUserErrorMessage\"\n              ),\n              minItems: TransText.getTranslate(\n                \"atLeastRoleMustSelectedUserErrorMessage\"\n              ),\n            },\n          },\n        },\n      },\n    };\n    const AttachmentSelectorSchema = {\n      label: \"string\",\n      name: \"string\",\n      schema: \"object\",\n      settings: \"object\",\n      elementData: {\n        type: \"object\",\n        props: {\n          source: {\n            type: \"string\",\n            messages: {\n              required: TransText.getTranslate(\"validate.required\", {\n                field: TransText.getTranslate(\"attachmentSource\"),\n              }),\n            },\n          },\n        },\n      },\n    };\n    const AttachmentSchema = {\n      label: \"string\",\n      name: \"string\",\n      schema: \"object\",\n      validationRules: validationRulesScheme,\n    };\n    const BooleanSchema = {\n      label: \"string\",\n      description: \"string|optional\",\n      name: \"string\",\n      schema: \"object\",\n      validationRules: validationRulesScheme,\n      settings: {\n        type: \"object\",\n        props: {\n          inputType: \"string\",\n          noText: {\n            type: \"string\",\n            optional: this.nodeJson?.props?.settings?.inputType !== \"selectBox\",\n            messages: {\n              required: TransText.getTranslate(\"validate.required\", {\n                field: TransText.getTranslate(\"no\"),\n              }),\n            },\n          },\n          yesText: {\n            type: \"string\",\n            optional: this.nodeJson?.props?.settings?.inputType !== \"selectBox\",\n            messages: {\n              required: TransText.getTranslate(\"validate.required\", {\n                field: TransText.getTranslate(\"yes\"),\n              }),\n            },\n          },\n          placeholder: \"string|optional\",\n          descriptionSwitch: \"boolean\",\n          defaultValue: \"boolean|optional\",\n        },\n      },\n    };\n    const RadioBoxSchema = {\n      label: \"string|optional\",\n      description: \"string|optional\",\n      name: \"string\",\n      schema: \"object\",\n      validationRules: \"object\",\n      settings: \"object\",\n      data: {\n        type: \"array\",\n        items: {\n          type: \"object\",\n          props: {\n            value: {\n              label: TransText.getTranslate(\"option\"),\n              type: \"string\",\n              optional: false,\n              minLength: 1,\n            },\n          },\n        },\n      },\n    };\n    const errors = [];\n    let propsErrors = [];\n    errors.pushArray(formInputCheck(this.nodeJson));\n    if (this.nodeJson?.input === FORM_INPUT_NAMES.BUTTON) {\n      const checker = getValidator().compile(ButtonSchema);\n      propsErrors.pushArray(checker(this.nodeJson?.props));\n    }\n    if (\n      this.nodeJson?.input === FORM_INPUT_NAMES.RADIO_BUTTON ||\n      this.nodeJson?.input === FORM_INPUT_NAMES.MULTISELECTBOX ||\n      this.nodeJson?.input === FORM_INPUT_NAMES.CHECKBOX ||\n      this.nodeJson?.input === FORM_INPUT_NAMES.SELECT_BOX\n    ) {\n      const checker = getValidator().compile(RadioBoxSchema);\n      propsErrors.pushArray(checker(this.nodeJson.props));\n    }\n    if (this.nodeJson?.input === FORM_INPUT_NAMES.TRELLO_LABEL_SELECTOR) {\n      const checker = getValidator().compile(TrelloLabelScheme);\n      propsErrors.pushArray(checker(this.nodeJson.props));\n    }\n    if (this.nodeJson?.input === FORM_INPUT_NAMES.TRELLO_LIST_SELECTOR) {\n      const checker = getValidator().compile(TrelloListScheme);\n      propsErrors.pushArray(checker(this.nodeJson.props));\n    }\n    if (this.nodeJson?.input === FORM_INPUT_NAMES.TRELLO_CHECKLIST_SELECTOR) {\n      const checker = getValidator().compile(TrelloChecklistScheme);\n      propsErrors.pushArray(checker(this.nodeJson.props));\n    }\n    if (this.nodeJson?.input === FORM_INPUT_NAMES.FIELD_SELECTOR) {\n      propsErrors.pushArray(\n        fieldSelectorCheck.call(\n          this,\n          validationRulesScheme\n        )(this?.nodeJson?.props || {})\n      );\n    }\n    if (this.nodeJson?.input === FORM_INPUT_NAMES.USER_SELECTOR) {\n      const checker = getValidator({\n        useNewCustomCheckerFunction: true,\n      }).compile(TrelloUserSelectorSchema);\n      propsErrors.pushArray(checker(this.nodeJson.props));\n    }\n    if (this.nodeJson?.input === FORM_INPUT_NAMES.ATTACHMENT_SELECTOR) {\n      const checker = getValidator().compile(AttachmentSelectorSchema);\n      propsErrors.pushArray(checker(this.nodeJson.props));\n    }\n    if (this.nodeJson?.input === FORM_INPUT_NAMES.ATTACHMENT) {\n      const checker = getValidator({\n        useNewCustomCheckerFunction: true,\n      }).compile(AttachmentSchema);\n      propsErrors.pushArray(checker(this.nodeJson.props));\n    }\n    if (this.nodeJson?.input === FORM_INPUT_NAMES.BOOLEAN) {\n      const checker = getValidator().compile(BooleanSchema);\n      propsErrors.pushArray(checker(this.nodeJson.props));\n    }\n    if (\n      [\n        FORM_INPUT_NAMES.RADIO_BUTTON,\n        FORM_INPUT_NAMES.SELECT_BOX,\n        FORM_INPUT_NAMES.MULTISELECTBOX,\n        FORM_INPUT_NAMES.CHECKBOX,\n      ].includes(this.nodeJson?.input)\n    ) {\n      const data = this?.nodeJson?.props?.data?.map((it) => it.value) || [];\n      if (data.length !== uniq(data).length) {\n        errors.push({\n          type: \"uniqueValue\",\n          label: \"Option values\",\n          actual: JSON.stringify(data),\n          field: \"props.data\",\n        });\n      }\n    }\n    propsErrors = propsErrors.map((error) => ({\n      ...error,\n      field: `props.${error?.field}`,\n    }));\n    errors.pushArray(propsErrors);\n    return errors;\n  }\n}\n","import AbstractHippoNode from \"../AbstractHippoNode\";\nimport {formConditionsWithAnd} from \"../../Utils/formConditionWithAnd\";\nimport VisibilityRuleNode from \"./VisibilityRuleNode\";\n\nexport default class FormInputVisibilityNode extends AbstractHippoNode{\n process(appJson, path, nodeJson) {\n   if (nodeJson?.rules?.length) {\n     nodeJson.rules.map((i, index) => {\n       this.addChildNode(new VisibilityRuleNode(appJson, `${this.path}.rules.${index}`))\n     })\n   }\n }\n\n  getValidatorFunction() {\n    const errors = [];\n    errors.pushArray(formConditionsWithAnd(this?.nodeJson))\n    return errors\n  }\n}","import AbstractHippoNode from \"../AbstractHippoNode\";\nimport PageNode from \"../Views/PageNode\";\nimport FormInputNode from \"./FormInputNode\";\nimport VisibilityNode from \"../AccessRights/VisibilityNode\";\nimport CollectionNode from \"../AccessRights/CollectionNode\";\nimport getValidator from \"../../Utils/getValidator\";\nimport {TransText} from \"../../localize/localize\";\nexport default class FormNode extends AbstractHippoNode {\n  constructor(appJson, path) {\n    super(appJson, path);\n  }\n  process(appJson, path, nodeJson) {\n    if (nodeJson?.enabled) {\n      let successViewObj = nodeJson.body?.successViews || {};\n      let successView = Object.values(successViewObj || {});\n      if (\n        (successView && successView?.[0]?.props?.type === \"view\") ||\n        successView?.[0]?.type === \"view\"\n      ) {\n        const pageId = successView?.[0]?.props?.view?.id;\n        this.addChildNode(new PageNode(appJson, \"app.views.\" + pageId));\n      }\n      if (nodeJson?.accessRight?.dataRule?.conditions) {\n        this.addChildNode(\n          new VisibilityNode(appJson, `${path}.accessRight.dataRule`)\n        );\n      }\n      if (nodeJson?.type === \"update\" || nodeJson?.usesParent) {\n        this.addChildNode(\n          new CollectionNode(appJson, `${path}.accessRight.dataRule`)\n        );\n      }\n      nodeJson?.body?.rows.forEach((row, rowIndex) => {\n        if (row?.columns?.length) {\n          row?.columns.forEach((column, colIndex) => {\n            this.addChildNode(\n              new FormInputNode(\n                appJson,\n                `${this.path}.body.rows.${rowIndex}.columns.${colIndex}.element`,\n                column?.element?.id,\n                nodeJson\n              )\n            );\n            // if(column?.element?.input === \"Button\"){\n            //   this.addChildNode(new FormButtonNode(appJson, `${this.path}.body.rows.${rowIndex}.columns.${colIndex}.element`, nodeJson?.type))\n            // }\n            // else{\n            //\n            // }\n          });\n        }\n      });\n    }\n  }\n\n  getValidatorFunction() {\n    const hippoFieldIds = this.getHippoFields(true);\n    const cardCollectionsIds = this.getCollections();\n    const incomings = this.getFormIds(\n      true,\n      (item) => item?.id !== this?.nodeJson?.id\n    );\n    const formSlugs = incomings?.map((item) => item?.slug);\n    function uniqueCheck(value, errors, schema, path, parentNode) {\n      if (formSlugs.includes(value)) {\n        errors.push({ type: \"unique\", message: TransText.getTranslate('mustBeUniqNode', TransText.getTranslate('formSlug')) });\n      }\n      return value;\n    }\n    const buttonsEl = this.childNodes?.find(\n      (a) => a.nodeJson?.input === \"Button\"\n    )?.nodeJson;\n    const elementIds = this.childNodes?.reduce((a, i) => {\n      if (\n        !i.nodeJson?.props?.schema?.type ||\n        i.nodeJson?.props?.name === \"Captcha\"\n      )\n        return a;\n      a[i?.id] = {\n        type: \"object\",\n        label: i?.nodeJson?.props?.label,\n        props: {\n          hippoField: {\n            type: \"object\",\n            optional: true,\n            props: {\n              targetField: {\n                type: \"enum\",\n                values: hippoFieldIds,\n              },\n              operation: {\n                type: \"enum\",\n                values: [\"set\"],\n              },\n            },\n          },\n          trelloCardField: {\n            type: \"object\",\n            optional: true,\n            props: {\n              targetField: {\n                type: \"enum\",\n                values: [\"label\", \"name\", \"description\", \"startDate\", \"dueDate\", \"list\", \"dueComplete\"],\n              },\n              operation: {\n                type: \"enum\",\n                values: [\"set\", \"keepexcluded\"],\n              },\n            },\n          },\n          trelloCardCustomField: {\n            type: \"object\",\n            optional: true,\n          },\n        },\n      };\n      return a;\n    }, {});\n    let objectValidation = null;\n    function validURL(str) {\n      const regex =\n        /((https?):\\/\\/)?(www.)?[a-z0-9]+(\\.[a-z]{2,}){1,3}(#?\\/?[a-zA-Z0-9#]+)*\\/?(\\?[a-zA-Z0-9-_]+=[a-zA-Z0-9-%]+&?)?$/;\n      let m = regex.exec(str);\n      return m !== null;\n    }\n    function urlCheck(value, errors) {\n      if (validURL(value)) {\n        return value;\n      } else {\n        errors.push({\n          type: \"not valid\",\n          message: TransText.getTranslate(\"validate.url\", {field: TransText.getTranslate('externalUrl')}),\n        });\n        return \"\";\n      }\n    }\n    if (this.nodeJson?.body?.successViews?.[buttonsEl?.id]?.type === \"page\") {\n      objectValidation = {\n        page: {\n          type: \"object\",\n          props: {\n            url: {\n              type: \"custom\",\n              check: urlCheck,\n            },\n            target: {\n              type: \"enum\",\n              optional: true,\n              values: [\"_self\", \"_blank\"],\n            },\n          },\n        },\n      };\n    } else {\n      objectValidation = {\n        view: {\n          type: \"object\",\n          props: {\n            id: \"string\",\n            target: {\n              type: \"object\",\n              props: {\n                type: \"string\",\n              },\n            },\n          },\n        },\n      };\n    }\n    const formCheck = getValidator({\n      useNewCustomCheckerFunction: true,\n    }).compile({\n      id: \"string|empty:false\",\n      anonymous: \"boolean|optional\",\n      enabled: \"boolean|optional\",\n      formatVersion: \"number\",\n      icon: \"string|empty:false\",\n      name: \"string|empty:false\",\n      type: {\n        type: \"enum\",\n        values: [\"form\", \"updateform\"],\n      },\n      aliases: \"array|optional\",\n      usesParent: \"boolean|optional\",\n      slug: {\n        type: \"custom\",\n        check: uniqueCheck,\n      },\n      boardId: \"string|optional|empty:false\",\n      showInTrello: \"boolean|optional\",\n      body: {\n        type: \"object\",\n        props: {\n          formAutoIncrementId: \"number\",\n          readOnly: \"boolean|optional\",\n          rows: {\n            type: \"array\",\n            min: 2,\n            messages: {\n              arrayMin: TransText.getTranslate('formAtLeastElement'),\n            },\n            items: {\n              type: \"object\",\n              props: {\n                id: \"string\",\n                columns: {\n                  type: \"array\",\n                  items: {\n                    type: \"object\",\n                    props: {\n                      id: \"string\",\n                      element: {\n                        type: \"object\",\n                        props: {\n                          id: \"string\",\n                        },\n                      },\n                    },\n                  },\n                },\n              },\n            },\n          },\n          successViews: {\n            type: \"object\",\n            props: {\n              [buttonsEl?.id]: {\n                type: \"object\",\n                props: {\n                  id: \"string|optional\",\n                  type: {\n                    type: \"enum\",\n                    values: [\"page\", \"view\"],\n                  },\n                  props: {\n                    type: \"object\",\n                    props: objectValidation,\n                  },\n                },\n              },\n            },\n          },\n          fieldMapping: Object?.keys(elementIds)?.length\n            ? {\n                type: \"object\",\n                props: elementIds,\n              }\n            : {\n                type: \"object\",\n                optional: true,\n              },\n        },\n      },\n      submitter: {\n        type: \"object\",\n        optional: true,\n        props: {\n          type: \"string\",\n        },\n      },\n    });\n    const errors = [];\n    const submitterCheck = getValidator().compile({\n      submitter: {\n        type: \"object\",\n        props: {\n          type: \"string\",\n          field: \"string\",\n        },\n      },\n    });\n    if (\n      this.nodeJson?.submitter?.type === \"specifiedEmail\" &&\n      !this?.nodeJson?.submitter?.field\n    ) {\n      errors.pushArray(submitterCheck(this.nodeJson));\n    }\n    if (this.nodeJson?.enabled) {\n      if (!this.nodeJson.body.fieldMapping) {\n        this.nodeJson.body.fieldMapping = {};\n      }\n      errors.pushArray(formCheck(this.nodeJson));\n    }\n\n    return errors;\n  }\n}\n","import AbstractHippoNode from \"../AbstractHippoNode\";\nimport {formConditionRule} from \"../../Utils/formConditionWithAnd\";\n\nexport default class VisibilityRuleNode extends AbstractHippoNode {\n  constructor(appJson, path) {\n    super(appJson, path);\n  }\n\n  process(appJson, path, nodeJson) {\n    super.process(appJson, path, nodeJson);\n  }\n\n  getValidatorFunction() {\n    const errors = [];\n    errors.pushArray(formConditionRule(this?.nodeJson))\n    if (this.nodeJson.valueType === 'select' && Array.isArray(this.nodeJson.value)) {\n      const elements = this.getFormElements();\n      const selectedElement = elements?.find(it => it.id === this.nodeJson.field);\n      const isAfterLoadData = !!selectedElement?.props?.elementData\n      if(!isAfterLoadData){\n        const data = selectedElement?.props?.data?.map(item => {\n          return item.value;\n        })\n        this.nodeJson?.value?.forEach(value => {\n          if (!data?.includes(value)) {\n            errors.push(this.createValidationError('oneOf', 'value', this.nodeJson.value, data, data));\n          }\n        });\n      }\n    }\n    return errors;\n  }\n\n  getFormElements(){\n    const formJson = this.parentNode?.parentNode?.parentNode?.nodeJson;\n    return (formJson?.body?.rows||[])?.reduce((acc, cur) => {\n      return [...acc, ...cur?.columns?.map(column => {\n        return column.element;\n      })]\n    }, [])\n  }\n}\n","import AbstractHippoNode from \"./AbstractHippoNode\";\nimport {RESOLVE_TYPES, VARIABLE_TYPES} from \"../constants\";\nimport getValidator from \"../Utils/getValidator\";\n\nconst hippoFieldCheck = getValidator().compile({\n  id: 'string|empty:false',\n  label: 'string|empty:false',\n  multiple: 'boolean',\n  resolveBy: {\n    type: \"enum\",\n    optional: true,\n    values: [\n      RESOLVE_TYPES.RESOLVE_LIST_BY_HIPPO_ID,\n      RESOLVE_TYPES.RESOLVE_LABEL_BY_HIPPO_ID,\n      RESOLVE_TYPES.RESOLVE_MEMBER_BY_TRELLO_ID,\n      RESOLVE_TYPES.RESOLVE_USER_BY_USER_ID,\n      RESOLVE_TYPES.RESOLVE_BOARD_BY_TRELLO_BOARD_ID,\n      RESOLVE_TYPES.RESOLVE_CARD_BY_CARD_ID,\n      RESOLVE_TYPES.RESOLVE_FIELD_DEFINITION_BY_ID,\n      RESOLVE_TYPES.RESOLVE_CHECKLIST_BY_HIPPO_ID,\n    ]\n  },\n  type: {\n    type: 'enum',\n    values: VARIABLE_TYPES\n  }\n})\nexport default class HipporelloFieldNode extends AbstractHippoNode{\n  constructor(appJson, path) {\n    super(appJson, path);\n  }\n\n  process(appJson, path, nodeJson) {\n\n  }\n\n  getValidatorFunction() {\n    return hippoFieldCheck;\n  }\n}\n","import AbstractHippoNode from \"../AbstractHippoNode\";\nimport { TransText } from \"../../localize/localize\";\n\nexport default class MagicLinkExecuterNode extends AbstractHippoNode {\n  constructor(appJson, path, magicLinkExecuterObject) {\n    super(appJson, path);\n    this.magicLinkExecuterObject = magicLinkExecuterObject;\n  }\n\n  getValidatorFunction({ label }) {\n    const { id } = this.magicLinkExecuterObject || {};\n    if (id && !this.appJson?.app?.fieldDefinitions?.magicLink?.[id]) {\n      return [\n        {\n          path: this.path,\n          type: \"invalidMagicLinkDefinition\",\n          actual: id,\n          message: TransText.getTranslate(\n            \"magicLinkDefinitionDeletedWithLabel\",\n            label\n          ),\n        },\n      ];\n    }\n    return null;\n  }\n}\n","import AbstractHippoNode from \"../AbstractHippoNode\";\nimport getValidator from \"../../Utils/getValidator\";\nimport { TransText } from \"../../localize/localize\";\n\nexport default class MagicLinkNode extends AbstractHippoNode {\n  constructor(appJson, path) {\n    super(appJson, path);\n  }\n\n  getValidatorFunction() {\n    const magicLinkCheck = getValidator({\n      useNewCustomCheckerFunction: true,\n    }).compile({\n      id: \"string|empty:false\",\n      name: \"string|empty:false|trim\",\n      requirePrompt: \"boolean|optional\",\n      promptLabel: {\n        type: \"custom\",\n        check: (value, errors, schema, path, parentNode) => {\n          if (parentNode?.requirePrompt === true) {\n            if (!value) {\n              errors.push({ type: \"required\", field: \"promptLabel\" });\n            } else if (value?.length > 100) {\n              errors.push({\n                type: \"stringLength\",\n                field: \"promptLabel\",\n                message: TransText.getTranslate(\"magicLinkModalPromptMax\"),\n              });\n            }\n          }\n          return value;\n        },\n      },\n      expireEnabled: \"boolean|optional\",\n      expires: {\n        type: \"custom\",\n        nullable: true,\n        check: (value, errors, schema, path, parentNode) => {\n          if (parentNode.expireEnabled === true) {\n            if (!value) {\n              errors.push({ type: \"required\", field: \"expires\" });\n            } else if (value < 1) {\n              errors.push({\n                type: \"numberMin\",\n                field: \"expires\",\n                message: TransText.getTranslate(\"magicLinkModalExpiresMin\", 1),\n              });\n            } else if (value > 100) {\n              errors.push({\n                type: \"numberMax\",\n                field: \"expires\",\n                message: TransText.getTranslate(\n                  \"magicLinkModalExpiresMax\",\n                  100\n                ),\n              });\n            }\n          }\n          return value;\n        },\n      },\n      parameters: {\n        type: \"array\",\n        optional: true,\n        items: {\n          type: \"object\",\n          props: {\n            id: \"string|empty:false\",\n            name: \"string|empty:false|trim\",\n            fieldType: \"string|empty:false\",\n            paramType: {\n              type: \"enum\",\n              values: [\"onlySpecified\", \"valueOnCreate\"],\n            },\n            value: {\n              type: \"custom\",\n              check: (value, errors, schema, path, parent) => {\n                if (\n                  parent.paramType === \"onlySpecified\" &&\n                  value === \"[[[nullValue]]]\"\n                ) {\n                  errors.push({\n                    type: \"required\",\n                    field: path,\n                    message:\n                      \"Value is required when paramType is onlySpecified\",\n                  });\n                }\n\n                if (value && value !== \"[[[nullValue]]]\") {\n                  if (\n                    !value.valueType ||\n                    ![\"value\", \"variable\"].includes(value.valueType)\n                  ) {\n                    errors.push({\n                      type: \"enumValue\",\n                      field: `${path}.valueType`,\n                      expected: [\"value\", \"variable\"],\n                    });\n                  }\n\n                  if (\n                    value.value &&\n                    Array.isArray(value.value) &&\n                    value.valueType === \"value\" &&\n                    Object.values(value.value).length !== value.value.length\n                  ) {\n                    errors.push({\n                      type: \"required\",\n                      field: `${path}.value`,\n                      message: TransText.getTranslate(\"itemsNotBeEmpty\"),\n                    });\n                  }\n                }\n\n                return value;\n              },\n            },\n          },\n        },\n      },\n    });\n    const errors = magicLinkCheck({\n      promptLabel: \"\",\n      requirePrompt: false,\n      expireEnabled: false,\n      expires: null,\n      ...this.nodeJson,\n      parameters: this.nodeJson?.parameters\n        ? this.nodeJson?.parameters.map((it) => ({\n            ...it,\n            value: \"[[[nullValue]]]\",\n          }))\n        : null,\n    });\n    return Array.isArray(errors) ? errors : [];\n  }\n}\n","import AbstractHippoNode from \"../AbstractHippoNode\";\nimport getValidator from \"../../Utils/getValidator\";\n\nconst roleSchema = {\n  id: 'string',\n  name: 'string'\n}\nconst roleCheck = getValidator().compile(roleSchema);\nexport default class RoleNode extends AbstractHippoNode{\n  constructor(appJson, path) {\n    super(appJson, path);\n  }\n\n  process(appJson, path, nodeJson) {\n  }\n\n  getValidatorFunction() {\n    return roleCheck;\n  }\n}\n","import AbstractHippoNode from \"../AbstractHippoNode\";\n\nimport RoleNode from \"../Roles/RoleNode\";\nimport JSONUtils from \"../../JSONUtils\";\n\nexport default class RolesNode extends AbstractHippoNode{\n  constructor(appJson, path) {\n    super(appJson, path);\n  }\n\n  process(appJson, path, nodeJson) {\n    let roles = JSONUtils.query(appJson, \"app.roles\");\n    if(roles){\n      roles = Object.values(roles)\n      roles.forEach(role=>{\n        this.addChildNode(new RoleNode(appJson, \"app.roles.\"+role.id))\n      })\n    }\n  }\n\n  getValidatorFunction() {\n    if (typeof this.nodeJson !== 'object') {\n      return [\n          this.createValidationError('object', null ,typeof this.nodeJson)\n      ]\n    }\n  }\n\n  isMandatory() {\n    return false;\n  }\n}\n","import AbstractHippoNode from \"../../AbstractHippoNode\";\nimport AppVariableNode from \"./appVariableNode\";\n\nexport default class AppVariableFieldsNode extends AbstractHippoNode{\n  constructor(appJson, path) {\n    super(appJson, path);\n  }\n\n  process(appJson, path, nodeJson) {\n    const appVariableIds = this.getAppParameters(true)\n    if(appVariableIds){\n      appVariableIds.forEach(appVariableId=>{\n        this.addChildNode(new AppVariableNode(appJson, \"app.fieldDefinitions.appVariableFields.\"+appVariableId))\n      })\n    }\n  }\n  getValidatorFunction() {\n    if (typeof this.nodeJson !== 'object') {\n      return [\n          this.createValidationError('object', null, typeof this.nodeJson)\n      ]\n    }\n  }\n}\n","import AbstractHippoNode from \"../../AbstractHippoNode\";\nimport {RESOLVE_TYPES, VARIABLE_TYPES} from \"../../../constants\";\nimport getValidator from \"../../../Utils/getValidator\";\nconst appVariableSchema = {\n  id: 'string',\n  label: 'string',\n  multiple: 'boolean',\n  resolveBy: {\n    type: \"enum\",\n    optional: true,\n    values: [\n      RESOLVE_TYPES.RESOLVE_LIST_BY_HIPPO_ID,\n      RESOLVE_TYPES.RESOLVE_LABEL_BY_HIPPO_ID,\n      RESOLVE_TYPES.RESOLVE_MEMBER_BY_TRELLO_ID,\n      RESOLVE_TYPES.RESOLVE_USER_BY_USER_ID,\n      RESOLVE_TYPES.RESOLVE_BOARD_BY_TRELLO_BOARD_ID,\n      RESOLVE_TYPES.RESOLVE_CARD_BY_CARD_ID,\n      RESOLVE_TYPES.RESOLVE_FIELD_DEFINITION_BY_ID,\n      RESOLVE_TYPES.RESOLVE_CHECKLIST_BY_HIPPO_ID,\n    ]\n  },\n  type : {\n    type: 'enum',\n    values: VARIABLE_TYPES\n  }\n}\nconst appVariableCheck = getValidator().compile(appVariableSchema)\nexport default class AppVariableNode extends AbstractHippoNode{\n  constructor(appJson, path) {\n    super(appJson, path);\n  }\n\n  process(appJson, path, nodeJson) {\n  }\n\n  getValidatorFunction() {\n    return appVariableCheck;\n  }\n}\n","import AbstractHippoNode from \"../AbstractHippoNode\";\nimport getValidator from \"../../Utils/getValidator\";\n\nconst viewSettingsSchema = {\n  appViewSettings: {\n    type: \"object\",\n    props: {\n      icon: {\n        type: \"object\",\n        props: {\n          name: \"string|optional\",\n          url: \"string|optional\",\n          background: \"string\",\n          iconSet: {\n            type: \"enum\",\n            values: [\"fontAwesome\"],\n          },\n          type: {\n            type: \"enum\",\n            values: [\"image\", \"icon\"],\n          },\n        },\n      },\n    },\n  },\n  portalViewSettingOverrides: {\n    type: \"object\",\n    optional: true,\n    nullable: true,\n    props: {\n      type: {\n        type: \"enum\",\n        values: [\"custom\"],\n      },\n      css: {\n        type: \"object\",\n        optional: true,\n        props: {\n          simple: {\n            type: \"object\",\n            props: {\n              \"body-text-color\": \"string|optional\",\n              \"font-family\": \"string|optional\",\n              \"primary-color\": \"string|optional\",\n            },\n          },\n        },\n      },\n      images: {\n        type: \"object\",\n        optional: true,\n        props: {\n          banner: \"string|optional\",\n          logo: \"string|optional\",\n          socialShareImage: \"string|optional\",\n        },\n      },\n    },\n  },\n};\nconst viewSettingsCheck = getValidator().compile(viewSettingsSchema);\nconst viewSettingsNameSchema = {\n  name: \"string\",\n};\nconst viewSettingsUrlSchema = {\n  url: {\n    type: \"string\",\n    messages: {\n      required: \"The 'Image' is required.\",\n    },\n  },\n};\nconst viewSettingsUrlCheck = getValidator().compile(viewSettingsUrlSchema);\nconst viewSettingsNameCheck = getValidator().compile(viewSettingsNameSchema);\nexport default class ViewSettingsNode extends AbstractHippoNode {\n  constructor(appJson, path) {\n    super(appJson, path);\n  }\n\n  process(appJson, path, nodeJson) {}\n\n  getValidatorFunction() {\n    let errors = [];\n    const viewSettingsCheckResult = viewSettingsCheck(this.nodeJson);\n    if (Array.isArray(viewSettingsCheckResult)) {\n      errors.pushArray(viewSettingsCheckResult);\n    }\n    if (this.nodeJson.appViewSettings.icon.type === \"image\") {\n      const result = viewSettingsUrlCheck(this.nodeJson.appViewSettings.icon);\n      if (Array.isArray(result)) {\n        this.validatorPath = `${this.path}.appViewSettings.icon`;\n        errors.pushArray(result);\n      }\n    } else if (this.nodeJson.appViewSettings.icon.type === \"icon\") {\n      const result = viewSettingsNameCheck(this.nodeJson.appViewSettings.icon);\n      if (Array.isArray(result)) {\n        this.validatorPath = `${this.path}.appViewSettings.icon`;\n        errors.pushArray(result);\n      }\n    }\n    return errors;\n  }\n}\n","import ViewNode from \"./Views/ViewNode\";\nimport getValidator from \"../Utils/getValidator\";\n\nconst webViewScheme = {\n  enabled: 'boolean',\n  id : \"string\",\n  type : \"string\"\n}\nconst trelloBoardViewCheck = getValidator().compile(webViewScheme)\nexport default class TrelloBoardViewNode extends ViewNode{\n  constructor(appJson, path) {\n    super(appJson, path);\n  }\n\n  getValidatorFunction = () => {\n      let errors = [];\n      const checkResult = trelloBoardViewCheck(this.nodeJson);\n      if (Array.isArray(checkResult)) {\n        errors.pushArray(checkResult);\n      }\n      // if (!this.appJson?.app?.views[this.nodeJson.appHeader]) {\n      //   errors.push(this.createValidationError('required', 'appHeader', this.nodeJson.appHeader, 'Error Message'));\n      // }\n      const viewsOfViewNode = this.getViewIds(false, view => view?.viewProps?.environments?.includes(this.nodeJson?.type))\n\t    if (!viewsOfViewNode?.length){\n\t\t    errors.push(this.createValidationError('required', 'views', this.nodeJson.views, null, null, \"You must create at least one page for the Board View.\"));\n\t    }\n      if (!this.appJson?.app?.views[this.nodeJson.home]) {\n          errors.push(this.createValidationError('required', 'home', this.nodeJson.home, null, null, \"One of the Board View pages should be the home page.\"));\n      }\n      return () => errors;\n  }\n}\n","import ViewNode from \"./Views/ViewNode\";\nimport getValidator from \"../Utils/getValidator\";\n\nconst trelloCardBackScheme = {\n  enabled: 'boolean',\n  id : \"string\",\n  type : \"string\"\n}\nconst trelloCardBackCheck = getValidator().compile(trelloCardBackScheme)\nexport default class TrelloCardBackViewNode extends ViewNode{\n  constructor(appJson, path) {\n    super(appJson, path);\n  }\n  getValidatorFunction() {\n    let errors = [];\n    const checkResult = trelloCardBackCheck(this.nodeJson);\n    if (Array.isArray(checkResult)) {\n      errors.pushArray(checkResult);\n    }\n    if (this.nodeJson.appHeader && !this.appJson?.app?.views[this.nodeJson.appHeader]) {\n      errors.push(this.createValidationError('oneOf', 'appHeader', this.nodeJson.appHeader, 'Error Message'));\n    }\n    return () => errors;\n  }\n}\n","import AbstractHippoNode from \"./AbstractHippoNode\";\nimport jsonata from \"jsonata\";\nimport { TransText } from \"../localize/localize\";\nimport MagicLinkExecuterNode from \"./MagicLink/MagicLinkExecuterNode\";\n\nexport default class VariableNode extends AbstractHippoNode {\n  static firstLevel = {\n    system: true,\n    portal: true,\n    magicLinks: true,\n    user: true,\n    board: true,\n    card: true,\n    parentCard: true,\n    appVariables: true,\n  };\n  static ALL_JSONATA_EXPRESSIONS = {};\n  static createJsonataExpression(text) {\n    let exp = this.ALL_JSONATA_EXPRESSIONS[text];\n    if (exp == null) {\n      exp = jsonata(text);\n      exp.registerFunction(\"createLinkEnc\", () => {}, \"<ssssssa:s>\");\n      exp.registerFunction(\"createLink\", () => {}, \"<ssssssa:s>\");\n      exp.registerFunction(\"toString\", () => {}, \"<s-a:s>\");\n      exp.registerFunction(\"length\", () => {}, \"<a-:n>\");\n      this.ALL_JSONATA_EXPRESSIONS[text] = exp;\n    }\n    return exp;\n  }\n  constructor(appJson, path, expression, entries) {\n    super(appJson, path);\n    this.expression = expression;\n    this.entries = expression;\n  }\n  static escapeLinkVariable = (text) => {\n    let processedText = text;\n    try {\n      processedText = JSON.stringify(text);\n    } catch (e) {\n      processedText = String(processedText);\n    }\n    processedText = new Buffer.from(processedText).toString(\"base64\");\n    return processedText;\n  };\n  static unescapeLinkVariable = (text) => {\n    let parsedText = new Buffer.from(String(text), \"base64\").toString(\"utf-8\");\n    try {\n      parsedText = JSON.parse(parsedText);\n    } catch (e) {\n      parsedText = String(parsedText);\n    }\n    return parsedText;\n  };\n  process(appJson, path, nodeJson) {}\n\n  findFieldByPath() {\n    let staticFields = this.getAccessibleFieldTypes(false);\n    let searchPath = this.expression.replace(\"[]\", []);\n    searchPath = searchPath.replace(\"Object.\", \".\");\n    const splitPath = searchPath.split(\".\").filter(Boolean);\n    let activeContext = null;\n    let foundId = splitPath?.[0] || \"\";\n    splitPath.forEach((fieldPart) => {\n      if (activeContext != null) {\n        foundId = activeContext.resolveBy\n          ? activeContext.resolveBy + \".\" + fieldPart\n          : activeContext.id + \".\" + fieldPart;\n      }\n      const fieldConfig = staticFields?.[foundId];\n      if (fieldConfig) {\n        if (activeContext == null || fieldConfig?.resolveBy != null) {\n          activeContext = fieldConfig;\n        }\n      }\n    });\n    this.activeContext = activeContext;\n    return activeContext;\n  }\n  getRightValueEntityName() {\n    let staticFields = this.getAccessibleFieldTypes(false);\n    return this.activeContext?.label;\n  }\n  getRightValues() {\n    const field = this.findFieldByPath();\n    if (field.resolveBy === VariableNode.RESOLVE_LABEL_BY_HIPPO_ID) {\n      return this.getTrelloLabels(true);\n    }\n    if (field.resolveBy === VariableNode.RESOLVE_LIST_BY_HIPPO_ID) {\n      return this.getTrelloList(true);\n    }\n    if (field.resolveBy === VariableNode.RESOLVE_MEMBER_BY_TRELLO_ID) {\n      return this.getTrelloMembers(true);\n    }\n    if (field.resolveBy === VariableNode.RESOLVE_FIELD_DEFINITION_BY_ID) {\n      return this.getFieldDefinitions(true);\n    }\n    if (field.resolveBy === VariableNode.RESOLVE_MAGIC_LINK_BY_MAGIC_LINK_ID) {\n      return this.getMagicLinkIds(true);\n    }\n    return null;\n  }\n  getValidatorFunction() {\n    let exp = VariableNode.createJsonataExpression(this.expression);\n    let varErrors = [];\n    let withDeletedStaticFields = this.getAccessibleFieldTypes(true);\n    let staticFields = this.getAccessibleFieldTypes(false);\n    let me = this;\n    let activeContext = null;\n\n    const createLinkEncRegex = /createLinkEnc\\((.*?)\\)/;\n    if (this.expression.includes(\"createLinkEnc\")) {\n      const match = this.expression.match(createLinkEncRegex);\n      if (match) {\n        const params = match[1]\n          .split(\",\")\n          .map((p) => VariableNode.unescapeLinkVariable(p.trim()));\n        const label = params?.[1] || \"\";\n        const magicLinkExecuterObject = params?.[8];\n        if (magicLinkExecuterObject) {\n          const magicLinkExecuterNode = new MagicLinkExecuterNode(\n            this.appJson,\n            this.validatorPath,\n            magicLinkExecuterObject\n          );\n          const magicLinkExecuterErrors =\n            magicLinkExecuterNode.getValidatorFunction({ label });\n          if (magicLinkExecuterErrors?.length) {\n            const errors = magicLinkExecuterErrors.map((error) => ({\n              ...error,\n              args: [label, this.expression],\n            }));\n            varErrors.push(...errors);\n          }\n        }\n      }\n    }\n\n    let proxy = new Proxy(\n      {},\n      {\n        get: function (...args) {\n          const [target, propertyName] = args;\n          const ignoredPropertyNames = [\"createLinkEnc\", \"createLink\", \"form.\"];\n          const hasIgnoredPath = ignoredPropertyNames.some((i) =>\n            me.expression.includes(i)\n          );\n          if (\n            varErrors.length === 0 &&\n            propertyName !== \"sequence\" &&\n            !hasIgnoredPath\n          ) {\n            let fieldId = propertyName;\n            if (activeContext != null) {\n              fieldId = activeContext.resolveBy\n                ? activeContext.resolveBy + \".\" + fieldId\n                : activeContext.id + \".\" + fieldId;\n            }\n            let fieldConfig = staticFields?.[fieldId];\n            const deletedFieldConfig = withDeletedStaticFields?.[fieldId];\n            const label = deletedFieldConfig?.label || \"\";\n            if (!fieldConfig) {\n              if (deletedFieldConfig) {\n                varErrors.push({\n                  path: me.validatorPath,\n                  type: \"invalidVariable\",\n                  message: TransText.getTranslate(\n                    \"variableNamedDeletedMessage\",\n                    label\n                  ),\n                  args: [label, me.expression],\n                });\n              } else {\n                varErrors.push({\n                  path: me.validatorPath,\n                  type: \"invalidVariable\",\n                  message: TransText.getTranslate(\n                    \"variableUsedCannotFound\",\n                    fieldId\n                  ),\n                  args: [label, me.expression],\n                });\n              }\n            } else {\n              if (activeContext == null || fieldConfig.resolveBy != null) {\n                activeContext = fieldConfig;\n              }\n            }\n          }\n          return proxy;\n        },\n      }\n    );\n    try {\n      exp.evaluate(proxy);\n    } catch (err) {\n      // console.log({me, err})\n    }\n    if (varErrors?.length) {\n      // console.log(varErrors);\n    }\n    return varErrors;\n  }\n}\n","import AbstractHippoNode from \"../AbstractHippoNode\";\nimport ComponentNode from \"../ComponentNode\";\nimport getValidator from \"../../Utils/getValidator\";\nconst childSchema = {\n  id: 'string',\n  view: {\n    type: 'object',\n    optional: true,\n    props: {\n      'id': 'string',\n      'children': 'array|optional'\n    }\n  }\n}\nconst childCheck = getValidator().compile(childSchema);\nexport default class ChildNode extends AbstractHippoNode{\n  rootNode;\n  index;\n  constructor(appJson, path, rootNode, index) {\n    super(appJson, path);\n    this.index = index;\n    this.rootNode = rootNode;\n  }\n\n  process(appJson, path, nodeJson) {\n    let componentId = nodeJson.id;\n    this.rootNode.childNodeRegistry[componentId] = this;\n    let componentPath = \"app.components.\"+componentId;\n    this.addChildNode(new ComponentNode(appJson, componentPath))\n    if(nodeJson?.children) {\n      nodeJson.children.forEach((childNode, index)=>{\n        this.addChildNode(new ChildNode(appJson, path+\".children[\"+index+\"]\", this.rootNode, index))\n      })\n    }\n    else if(nodeJson?.view) {\n      this.addChildNode(new ChildNode(appJson, path + \".view\", this.rootNode, 0))\n    }\n    else if(nodeJson?.columns) {\n      nodeJson.columns.forEach((childNode, index)=>{\n        this.addChildNode(new ChildNode(appJson, path+\".columns[\"+index+\"]\", this.rootNode, index))\n      })\n    }\n  }\n  getValidatorFunction() {\n    let errors = [];\n    const childCheckResult = childCheck(this.nodeJson);\n    if (Array.isArray(childCheckResult)) {\n      errors.pushArray(childCheckResult);\n    }\n    const childNodeId = this?.nodeJson?.id;\n    if (!this.appJson?.app?.components?.[childNodeId]) {\n      errors.push(this.createValidationError('oneOf', 'id', this.nodeJson.id));\n    }\n    return errors;\n  }\n}\n","import AbstractHippoNode from \"../AbstractHippoNode\";\nimport ChildNode from \"../Views/ChildNode\";\n\nexport default class ChildrenNode extends AbstractHippoNode{\n  childNodeRegistry = {};\n  constructor(appJson, path) {\n    super(appJson, path);\n  }\n\n  process(appJson, path, nodeJson) {\n    nodeJson.forEach((childNode, index)=>{\n      this.addChildNode(new ChildNode(appJson, path+\"[\"+index+\"]\", this, index))\n    })\n  }\n  getValidatorFunction() {\n    if (!Array.isArray(this.nodeJson)) {\n      return [\n          this.createValidationError('array', null, typeof this.nodeJson, 'array')\n      ]\n    }\n    return null;\n  }\n}\n","import AbstractHippoNode from \"../AbstractHippoNode\";\nimport ChildrenNode from \"../Views/ChildrenNode\";\nimport getValidator from \"../../Utils/getValidator\";\nconst headerScheme = {\n  id: 'string',\n  viewProps: {\n    type: 'object',\n    props: {\n        login: 'boolean|optional',\n        menu: 'boolean|optional',\n        logo: 'boolean|optional',\n    }\n  }\n}\nconst headerCheck = getValidator().compile(headerScheme);\nexport default class HeaderNode extends AbstractHippoNode{\n  constructor(appJson, path) {\n    super(appJson, path);\n  }\n\n  process(appJson, path, nodeJson) {\n    if(nodeJson?.viewProps?.children?.length){\n      this.addChildNode(new ChildrenNode(appJson, path+\".viewProps.children\"))\n    }\n  }\n\n  getValidatorFunction() {\n    return headerCheck;\n  }\n}\n","import AbstractHippoNode from \"../AbstractHippoNode\";\nimport ChildrenNode from \"../Views/ChildrenNode\";\nimport VisibilityNode from \"../AccessRights/VisibilityNode\";\nimport CollectionNode from \"../AccessRights/CollectionNode\";\nimport {PAGE_SLUG_BLACKLIST} from \"../../constants\";\nimport getValidator from \"../../Utils/getValidator\";\nimport {TransText} from \"../../localize/localize\";\n\n\nexport default class PageNode extends AbstractHippoNode{\n  constructor(appJson, path) {\n    super(appJson, path);\n  }\n\n  getValidatorFunction() {\n    const isFormThankYouPage = !this.nodeJson?.viewProps?.environments?.length\n    const views = this.getViewIds(false, item => item?.id !== this?.nodeJson?.id);\n    const slugs = views.map(item => item?.viewProps?.slug)\n    const pageCheck = getValidator().compile({\n      enabled: 'boolean',\n      id: 'string',\n      viewProps: {\n        type: 'object',\n        props: {\n          name: 'string',\n          align: {\n            type: 'enum',\n            values: ['left', 'center', 'right'],\n            optional: true\n          },\n          cardAware: 'boolean|optional',\n          children: 'array|optional',\n          title: isFormThankYouPage ? \"string|optional\": \"string\"\n        }\n      }\n    });\n    const pageSlugCheck = getValidator({useNewCustomCheckerFunction: true}).compile({\n      viewProps: {\n        type: 'object',\n        props: {\n          slug: {\n            type: \"custom\",\n            check:  (value, errors, schema) => {\n              if(PAGE_SLUG_BLACKLIST.includes(value)){\n                errors.push({type: \"notOneOf\", label: TransText.getTranslate('pageSlug'), expected: PAGE_SLUG_BLACKLIST})\n              }\n              else if(slugs.includes(value)){\n                errors.push({type: \"unique\", message: TransText.getTranslate(\"mustBeUniqNode\", TransText.getTranslate('pageSlug'))})\n              }\n              return value;\n            }\n          }\n        }\n      }\n    });\n      let errors = [];\n      const pageCheckResult = pageCheck(this.nodeJson);\n      if (Array.isArray(pageCheckResult)) {\n        errors.pushArray(pageCheckResult);\n      }\n      if (this.nodeJson?.viewProps?.environments?.some(env => [\"webView\", \"trelloBoardView\"].includes(env))) {\n        const slugCheckResult = pageSlugCheck(this.nodeJson);\n        errors.pushArray(slugCheckResult);\n      }\n      if(this.nodeJson?.enabled)\n        return () => errors;\n      return () => []\n  }\n\n  process(appJson, path, nodeJson) {\n    this.env = nodeJson.viewProps?.environments?.[0] || \"webView\";\n    if(nodeJson?.accessRight?.dataRule?.conditions){\n      this.addChildNode(new VisibilityNode(appJson, `${path}.accessRight.dataRule`))\n    }\n    if(nodeJson?.viewProps?.cardAware && nodeJson?.viewProps?.environments?.length){\n      this.addChildNode(new CollectionNode(appJson, `${path}.accessRight.dataRule`))\n    }\n    if(nodeJson?.viewProps?.children?.length){\n      this.addChildNode(new ChildrenNode(appJson, path+\".viewProps.children\"))\n    }\n  }\n}\n","import AbstractHippoNode from \"../AbstractHippoNode\";\nimport ChildrenNode from \"../Views/ChildrenNode\";\nimport getValidator from \"../../Utils/getValidator\";\nconst sidebarScheme = {\n  id: 'string',\n  viewProps: {\n    type: 'object',\n    props: {\n        login: 'boolean|optional',\n        menu: 'boolean|optional',\n        logo: 'boolean|optional',\n    }\n  }\n}\nconst sidebarCheck = getValidator().compile(sidebarScheme);\nexport default class SidebarNode extends AbstractHippoNode{\n  constructor(appJson, path) {\n    super(appJson, path);\n  }\n\n  process(appJson, path, nodeJson) {\n    if(nodeJson?.viewProps?.children?.length){\n      this.addChildNode(new ChildrenNode(appJson, path+\".viewProps.children\"))\n    }\n  }\n\n  getValidatorFunction() {\n    return sidebarCheck;\n  }\n}\n","import AbstractHippoNode from \"../AbstractHippoNode\";\n\nimport PageNode from \"../Views/PageNode\";\nimport HeaderNode from \"../Views/HeaderNode\";\nimport SidebarNode from \"./SidebarNode\";\n\nexport default class ViewNode extends AbstractHippoNode{\n  constructor(appJson, path) {\n    super(appJson, path);\n  }\n\n  process(appJson, path, nodeJson) {\n    let envType = nodeJson.type\n    let appHeaderId = nodeJson.appHeader;\n    let sidebarId = nodeJson.sidebar;\n    let views = this.getViewIds(false)\n    if(views?.length){\n      views.forEach(view=>{\n        if(view?.enabled && !view?.deleted){\n          if(view.type === \"page\"){\n            if(view.viewProps.environments != null && view.viewProps.environments.indexOf(envType) >= 0){\n              this.addChildNode(new PageNode(appJson, \"app.views.\"+view.id))\n            }\n          }\n        }else if(view.id === appHeaderId){\n          this.addChildNode(new HeaderNode(appJson, \"app.views.\"+view.id))\n        }else if(view.id === sidebarId){\n          this.addChildNode(new SidebarNode(appJson, \"app.views.\"+view.id))\n        }\n      })\n    }\n  }\n}\n","import ViewNode from \"./Views/ViewNode\";\nimport getValidator from \"../Utils/getValidator\";\nimport {TransText} from \"../localize/localize\";\n\nconst webViewScheme = {\n  enabled: 'boolean',\n  id : \"string\",\n  type : \"string\"\n}\nconst webViewCheck = getValidator().compile(webViewScheme)\nexport default class WebViewNode extends ViewNode{\n  constructor(appJson, path) {\n    super(appJson, path);\n  }\n\n  getValidatorFunction = () => {\n      let errors = [];\n      const checkResult = webViewCheck(this.nodeJson);\n      if (Array.isArray(checkResult)) {\n        errors.pushArray(checkResult);\n      }\n      if (!this.appJson?.app?.views[this.nodeJson.appHeader]) {\n        errors.push(this.createValidationError('oneOf', 'appHeader', this.nodeJson.appHeader, TransText.getTranslate(\"errorMessage\")));\n      }\n      if (!this.appJson?.app?.views[this.nodeJson.home]) {\n          errors.push(this.createValidationError('oneOf', 'home', this.nodeJson.home, TransText.getTranslate(\"errorMessage\")));\n      }\n      return () => errors;\n  }\n}\n","'use strict';var g=g||{};g.scope={};g.arrayIteratorImpl=function(f){var h=0;return function(){return h<f.length?{done:!1,value:f[h++]}:{done:!0}}};g.arrayIterator=function(f){return{next:g.arrayIteratorImpl(f)}};g.ASSUME_ES5=!1;g.ASSUME_NO_NATIVE_MAP=!1;g.ASSUME_NO_NATIVE_SET=!1;g.SIMPLE_FROUND_POLYFILL=!1;g.ISOLATE_POLYFILLS=!1;g.FORCE_POLYFILL_PROMISE=!1;g.FORCE_POLYFILL_PROMISE_WHEN_NO_UNHANDLED_REJECTION=!1;\ng.defineProperty=g.ASSUME_ES5||\"function\"==typeof Object.defineProperties?Object.defineProperty:function(f,h,l){if(f==Array.prototype||f==Object.prototype)return f;f[h]=l.value;return f};g.getGlobal=function(f){f=[\"object\"==typeof globalThis&&globalThis,f,\"object\"==typeof window&&window,\"object\"==typeof self&&self,\"object\"==typeof global&&global];for(var h=0;h<f.length;++h){var l=f[h];if(l&&l.Math==Math)return l}throw Error(\"Cannot find global object\");};g.global=g.getGlobal(this);\ng.IS_SYMBOL_NATIVE=\"function\"===typeof Symbol&&\"symbol\"===typeof Symbol(\"x\");g.TRUST_ES6_POLYFILLS=!g.ISOLATE_POLYFILLS||g.IS_SYMBOL_NATIVE;g.polyfills={};g.propertyToPolyfillSymbol={};g.POLYFILL_PREFIX=\"$jscp$\";g.polyfill=function(f,h,l,m){h&&(g.ISOLATE_POLYFILLS?g.polyfillIsolated(f,h,l,m):g.polyfillUnisolated(f,h,l,m))};\ng.polyfillUnisolated=function(f,h){var l=g.global;f=f.split(\".\");for(var m=0;m<f.length-1;m++){var t=f[m];if(!(t in l))return;l=l[t]}f=f[f.length-1];m=l[f];h=h(m);h!=m&&null!=h&&g.defineProperty(l,f,{configurable:!0,writable:!0,value:h})};\ng.polyfillIsolated=function(f,h,l){var m=f.split(\".\");f=1===m.length;var t=m[0];t=!f&&t in g.polyfills?g.polyfills:g.global;for(var w=0;w<m.length-1;w++){var x=m[w];if(!(x in t))return;t=t[x]}m=m[m.length-1];l=g.IS_SYMBOL_NATIVE&&\"es6\"===l?t[m]:null;h=h(l);null!=h&&(f?g.defineProperty(g.polyfills,m,{configurable:!0,writable:!0,value:h}):h!==l&&(void 0===g.propertyToPolyfillSymbol[m]&&(f=1E9*Math.random()>>>0,g.propertyToPolyfillSymbol[m]=g.IS_SYMBOL_NATIVE?g.global.Symbol(m):g.POLYFILL_PREFIX+f+\"$\"+\nm),g.defineProperty(t,g.propertyToPolyfillSymbol[m],{configurable:!0,writable:!0,value:h})))};g.initSymbol=function(){};\ng.polyfill(\"Symbol\",function(f){function h(w){if(this instanceof h)throw new TypeError(\"Symbol is not a constructor\");return new l(m+(w||\"\")+\"_\"+t++,w)}function l(w,x){this.$jscomp$symbol$id_=w;g.defineProperty(this,\"description\",{configurable:!0,writable:!0,value:x})}if(f)return f;l.prototype.toString=function(){return this.$jscomp$symbol$id_};var m=\"jscomp_symbol_\"+(1E9*Math.random()>>>0)+\"_\",t=0;return h},\"es6\",\"es3\");\ng.polyfill(\"Symbol.iterator\",function(f){if(f)return f;f=Symbol(\"Symbol.iterator\");for(var h=\"Array Int8Array Uint8Array Uint8ClampedArray Int16Array Uint16Array Int32Array Uint32Array Float32Array Float64Array\".split(\" \"),l=0;l<h.length;l++){var m=g.global[h[l]];\"function\"===typeof m&&\"function\"!=typeof m.prototype[f]&&g.defineProperty(m.prototype,f,{configurable:!0,writable:!0,value:function(){return g.iteratorPrototype(g.arrayIteratorImpl(this))}})}return f},\"es6\",\"es3\");\ng.iteratorPrototype=function(f){f={next:f};f[Symbol.iterator]=function(){return this};return f};g.iteratorFromArray=function(f,h){f instanceof String&&(f+=\"\");var l=0,m=!1,t={next:function(){if(!m&&l<f.length){var w=l++;return{value:h(w,f[w]),done:!1}}m=!0;return{done:!0,value:void 0}}};t[Symbol.iterator]=function(){return t};return t};g.polyfill(\"Array.prototype.keys\",function(f){return f?f:function(){return g.iteratorFromArray(this,function(h){return h})}},\"es6\",\"es3\");\ng.polyfill(\"Array.prototype.values\",function(f){return f?f:function(){return g.iteratorFromArray(this,function(h,l){return l})}},\"es8\",\"es3\");g.checkStringArgs=function(f,h,l){if(null==f)throw new TypeError(\"The 'this' value for String.prototype.\"+l+\" must not be null or undefined\");if(h instanceof RegExp)throw new TypeError(\"First argument to String.prototype.\"+l+\" must not be a regular expression\");return f+\"\"};\ng.polyfill(\"String.prototype.startsWith\",function(f){return f?f:function(h,l){var m=g.checkStringArgs(this,h,\"startsWith\");h+=\"\";var t=m.length,w=h.length;l=Math.max(0,Math.min(l|0,m.length));for(var x=0;x<w&&l<t;)if(m[l++]!=h[x++])return!1;return x>=w}},\"es6\",\"es3\");g.owns=function(f,h){return Object.prototype.hasOwnProperty.call(f,h)};\ng.assign=g.TRUST_ES6_POLYFILLS&&\"function\"==typeof Object.assign?Object.assign:function(f,h){for(var l=1;l<arguments.length;l++){var m=arguments[l];if(m)for(var t in m)g.owns(m,t)&&(f[t]=m[t])}return f};g.polyfill(\"Object.assign\",function(f){return f||g.assign},\"es6\",\"es3\");g.checkEs6ConformanceViaProxy=function(){try{var f={},h=Object.create(new g.global.Proxy(f,{get:function(l,m,t){return l==f&&\"q\"==m&&t==h}}));return!0===h.q}catch(l){return!1}};g.USE_PROXY_FOR_ES6_CONFORMANCE_CHECKS=!1;\ng.ES6_CONFORMANCE=g.USE_PROXY_FOR_ES6_CONFORMANCE_CHECKS&&g.checkEs6ConformanceViaProxy();g.makeIterator=function(f){var h=\"undefined\"!=typeof Symbol&&Symbol.iterator&&f[Symbol.iterator];return h?h.call(f):g.arrayIterator(f)};\ng.polyfill(\"WeakMap\",function(f){function h(k){this.id_=(n+=Math.random()+1).toString();if(k){k=g.makeIterator(k);for(var p;!(p=k.next()).done;)p=p.value,this.set(p[0],p[1])}}function l(){if(!f||!Object.seal)return!1;try{var k=Object.seal({}),p=Object.seal({}),u=new f([[k,2],[p,3]]);if(2!=u.get(k)||3!=u.get(p))return!1;u.delete(k);u.set(p,4);return!u.has(k)&&4==u.get(p)}catch(C){return!1}}function m(){}function t(k){var p=typeof k;return\"object\"===p&&null!==k||\"function\"===p}function w(k){if(!g.owns(k,\ny)){var p=new m;g.defineProperty(k,y,{value:p})}}function x(k){if(!g.ISOLATE_POLYFILLS){var p=Object[k];p&&(Object[k]=function(u){if(u instanceof m)return u;Object.isExtensible(u)&&w(u);return p(u)})}}if(g.USE_PROXY_FOR_ES6_CONFORMANCE_CHECKS){if(f&&g.ES6_CONFORMANCE)return f}else if(l())return f;var y=\"$jscomp_hidden_\"+Math.random();x(\"freeze\");x(\"preventExtensions\");x(\"seal\");var n=0;h.prototype.set=function(k,p){if(!t(k))throw Error(\"Invalid WeakMap key\");w(k);if(!g.owns(k,y))throw Error(\"WeakMap key fail: \"+\nk);k[y][this.id_]=p;return this};h.prototype.get=function(k){return t(k)&&g.owns(k,y)?k[y][this.id_]:void 0};h.prototype.has=function(k){return t(k)&&g.owns(k,y)&&g.owns(k[y],this.id_)};h.prototype.delete=function(k){return t(k)&&g.owns(k,y)&&g.owns(k[y],this.id_)?delete k[y][this.id_]:!1};return h},\"es6\",\"es3\");g.MapEntry=function(){};\ng.polyfill(\"Map\",function(f){function h(){var n={};return n.previous=n.next=n.head=n}function l(n,k){var p=n.head_;return g.iteratorPrototype(function(){if(p){for(;p.head!=n.head_;)p=p.previous;for(;p.next!=p.head;)return p=p.next,{done:!1,value:k(p)};p=null}return{done:!0,value:void 0}})}function m(n,k){var p=k&&typeof k;\"object\"==p||\"function\"==p?x.has(k)?p=x.get(k):(p=\"\"+ ++y,x.set(k,p)):p=\"p_\"+k;var u=n.data_[p];if(u&&g.owns(n.data_,p))for(n=0;n<u.length;n++){var C=u[n];if(k!==k&&C.key!==C.key||\nk===C.key)return{id:p,list:u,index:n,entry:C}}return{id:p,list:u,index:-1,entry:void 0}}function t(n){this.data_={};this.head_=h();this.size=0;if(n){n=g.makeIterator(n);for(var k;!(k=n.next()).done;)k=k.value,this.set(k[0],k[1])}}function w(){if(g.ASSUME_NO_NATIVE_MAP||!f||\"function\"!=typeof f||!f.prototype.entries||\"function\"!=typeof Object.seal)return!1;try{var n=Object.seal({x:4}),k=new f(g.makeIterator([[n,\"s\"]]));if(\"s\"!=k.get(n)||1!=k.size||k.get({x:4})||k.set({x:4},\"t\")!=k||2!=k.size)return!1;\nvar p=k.entries(),u=p.next();if(u.done||u.value[0]!=n||\"s\"!=u.value[1])return!1;u=p.next();return u.done||4!=u.value[0].x||\"t\"!=u.value[1]||!p.next().done?!1:!0}catch(C){return!1}}if(g.USE_PROXY_FOR_ES6_CONFORMANCE_CHECKS){if(f&&g.ES6_CONFORMANCE)return f}else if(w())return f;var x=new WeakMap;t.prototype.set=function(n,k){n=0===n?0:n;var p=m(this,n);p.list||(p.list=this.data_[p.id]=[]);p.entry?p.entry.value=k:(p.entry={next:this.head_,previous:this.head_.previous,head:this.head_,key:n,value:k},p.list.push(p.entry),\nthis.head_.previous.next=p.entry,this.head_.previous=p.entry,this.size++);return this};t.prototype.delete=function(n){n=m(this,n);return n.entry&&n.list?(n.list.splice(n.index,1),n.list.length||delete this.data_[n.id],n.entry.previous.next=n.entry.next,n.entry.next.previous=n.entry.previous,n.entry.head=null,this.size--,!0):!1};t.prototype.clear=function(){this.data_={};this.head_=this.head_.previous=h();this.size=0};t.prototype.has=function(n){return!!m(this,n).entry};t.prototype.get=function(n){return(n=\nm(this,n).entry)&&n.value};t.prototype.entries=function(){return l(this,function(n){return[n.key,n.value]})};t.prototype.keys=function(){return l(this,function(n){return n.key})};t.prototype.values=function(){return l(this,function(n){return n.value})};t.prototype.forEach=function(n,k){for(var p=this.entries(),u;!(u=p.next()).done;)u=u.value,n.call(k,u[1],u[0],this)};t.prototype[Symbol.iterator]=t.prototype.entries;var y=0;return t},\"es6\",\"es3\");\ng.polyfill(\"String.prototype.endsWith\",function(f){return f?f:function(h,l){var m=g.checkStringArgs(this,h,\"endsWith\");h+=\"\";void 0===l&&(l=m.length);l=Math.max(0,Math.min(l|0,m.length));for(var t=h.length;0<t&&0<l;)if(m[--l]!=h[--t])return!1;return 0>=t}},\"es6\",\"es3\");g.polyfill(\"Number.isNaN\",function(f){return f?f:function(h){return\"number\"===typeof h&&isNaN(h)}},\"es6\",\"es3\");\ng.polyfill(\"Object.entries\",function(f){return f?f:function(h){var l=[],m;for(m in h)g.owns(h,m)&&l.push([m,h[m]]);return l}},\"es8\",\"es3\");var F=this;\nfunction G(){function f(a){this.opts={};this.defaults={};this.messages=Object.assign({},q);this.rules={any:R,array:S,boolean:T,class:U,custom:V,currency:W,date:X,email:Y,enum:Z,equal:aa,forbidden:ba,function:ca,multi:C,number:u,object:p,objectID:k,record:n,string:y,tuple:x,url:w,uuid:t,mac:m,luhn:l};this.aliases={};this.cache=new Map;if(a){B(this.opts,a);a.defaults&&B(this.defaults,a.defaults);if(a.messages)for(var b in a.messages)this.addMessage(b,a.messages[b]);if(a.aliases)for(var c in a.aliases)this.alias(c,\na.aliases[c]);if(a.customRules)for(var d in a.customRules)this.add(d,a.customRules[d]);if(a.plugins){a=a.plugins;if(!Array.isArray(a))throw Error(\"Plugins type must be array\");a.forEach(this.plugin.bind(this))}this.opts.debug&&(a=function(e){return e},\"undefined\"===typeof window&&(a=h),this._formatter=a)}}function h(a){H||(H=M(),N={parser:\"babel\",useTabs:!1,printWidth:120,trailingComma:\"none\",tabWidth:4,singleQuote:!1,semi:!0,bracketSpacing:!0},I=M(),O={language:\"js\",theme:I.fromJson({keyword:[\"white\",\n\"bold\"],built_in:\"magenta\",literal:\"cyan\",number:\"magenta\",regexp:\"red\",string:[\"yellow\",\"bold\"],symbol:\"plain\",class:\"blue\",attr:\"plain\",function:[\"white\",\"bold\"],title:\"plain\",params:\"green\",comment:\"grey\"})});a=H.format(a,N);return I.highlight(a,O)}function l(a){a.schema;a=a.messages;return{source:'\\n\\t\\t\\tif (typeof value !== \"string\") {\\n\\t\\t\\t\\t'+this.makeError({type:\"string\",actual:\"value\",messages:a})+'\\n\\t\\t\\t\\treturn value;\\n\\t\\t\\t}\\n\\n\\t\\t\\tif (typeof value !== \"string\")\\n\\t\\t\\t\\tvalue = String(value);\\n\\n\\t\\t\\tval = value.replace(/\\\\D+/g, \"\");\\n\\n\\t\\t\\tvar array = [0, 2, 4, 6, 8, 1, 3, 5, 7, 9];\\n\\t\\t\\tvar len = val ? val.length : 0,\\n\\t\\t\\t\\tbit = 1,\\n\\t\\t\\t\\tsum = 0;\\n\\t\\t\\twhile (len--) {\\n\\t\\t\\t\\tsum += !(bit ^= 1) ? parseInt(val[len], 10) : array[val[len]];\\n\\t\\t\\t}\\n\\n\\t\\t\\tif (!(sum % 10 === 0 && sum > 0)) {\\n\\t\\t\\t\\t'+\nthis.makeError({type:\"luhn\",actual:\"value\",messages:a})+\"\\n\\t\\t\\t}\\n\\n\\t\\t\\treturn value;\\n\\t\\t\"}}function m(a){a.schema;a=a.messages;return{source:'\\n\\t\\t\\tif (typeof value !== \"string\") {\\n\\t\\t\\t\\t'+this.makeError({type:\"string\",actual:\"value\",messages:a})+\"\\n\\t\\t\\t\\treturn value;\\n\\t\\t\\t}\\n\\n\\t\\t\\tvar v = value.toLowerCase();\\n\\t\\t\\tif (!\"+da.toString()+\".test(v)) {\\n\\t\\t\\t\\t\"+this.makeError({type:\"mac\",actual:\"value\",messages:a})+\"\\n\\t\\t\\t}\\n\\t\\t\\t\\n\\t\\t\\treturn value;\\n\\t\\t\"}}function t(a){var b=\na.schema;a=a.messages;var c=[];c.push('\\n\\t\\tif (typeof value !== \"string\") {\\n\\t\\t\\t'+this.makeError({type:\"string\",actual:\"value\",messages:a})+\"\\n\\t\\t\\treturn value;\\n\\t\\t}\\n\\n\\t\\tvar val = value.toLowerCase();\\n\\t\\tif (!\"+ea.toString()+\".test(val)) {\\n\\t\\t\\t\"+this.makeError({type:\"uuid\",actual:\"value\",messages:a})+\"\\n\\t\\t\\treturn value;\\n\\t\\t}\\n\\n\\t\\tconst version = val.charAt(14) | 0;\\n\\t\");7>parseInt(b.version)&&c.push(\"\\n\\t\\t\\tif (\"+b.version+\" !== version) {\\n\\t\\t\\t\\t\"+this.makeError({type:\"uuidVersion\",\nexpected:b.version,actual:\"version\",messages:a})+\"\\n\\t\\t\\t\\treturn value;\\n\\t\\t\\t}\\n\\t\\t\");c.push('\\n\\t\\tswitch (version) {\\n\\t\\tcase 0:\\n\\t\\tcase 1:\\n\\t\\tcase 2:\\n\\t\\tcase 6:\\n\\t\\t\\tbreak;\\n\\t\\tcase 3:\\n\\t\\tcase 4:\\n\\t\\tcase 5:\\n\\t\\t\\tif ([\"8\", \"9\", \"a\", \"b\"].indexOf(val.charAt(19)) === -1) {\\n\\t\\t\\t\\t'+this.makeError({type:\"uuid\",actual:\"value\",messages:a})+\"\\n\\t\\t\\t}\\n\\t\\t}\\n\\n\\t\\treturn value;\\n\\t\");return{source:c.join(\"\\n\")}}function w(a){var b=a.schema;a=a.messages;var c=[];c.push('\\n\\t\\tif (typeof value !== \"string\") {\\n\\t\\t\\t'+\nthis.makeError({type:\"string\",actual:\"value\",messages:a})+\"\\n\\t\\t\\treturn value;\\n\\t\\t}\\n\\t\");b.empty?c.push(\"\\n\\t\\t\\tif (value.length === 0) return value;\\n\\t\\t\"):c.push(\"\\n\\t\\t\\tif (value.length === 0) {\\n\\t\\t\\t\\t\"+this.makeError({type:\"urlEmpty\",actual:\"value\",messages:a})+\"\\n\\t\\t\\t\\treturn value;\\n\\t\\t\\t}\\n\\t\\t\");c.push(\"\\n\\t\\tif (!\"+fa.toString()+\".test(value)) {\\n\\t\\t\\t\"+this.makeError({type:\"url\",actual:\"value\",messages:a})+\"\\n\\t\\t}\\n\\n\\t\\treturn value;\\n\\t\");return{source:c.join(\"\\n\")}}function x(a,\nb,c){var d=a.schema,e=a.messages;a=[];if(null!=d.items){if(!Array.isArray(d.items))throw Error(\"Invalid '\"+d.type+\"' schema. The 'items' field must be an array.\");if(0===d.items.length)throw Error(\"Invalid '\"+d.type+\"' schema. The 'items' field must not be an empty array.\");}a.push(\"\\n\\t\\tif (!Array.isArray(value)) {\\n\\t\\t\\t\"+this.makeError({type:\"tuple\",actual:\"value\",messages:e})+\"\\n\\t\\t\\treturn value;\\n\\t\\t}\\n\\n\\t\\tvar len = value.length;\\n\\t\");!1===d.empty&&a.push(\"\\n\\t\\t\\tif (len === 0) {\\n\\t\\t\\t\\t\"+\nthis.makeError({type:\"tupleEmpty\",actual:\"value\",messages:e})+\"\\n\\t\\t\\t\\treturn value;\\n\\t\\t\\t}\\n\\t\\t\");if(null!=d.items){a.push(\"\\n\\t\\t\\tif (\"+d.empty+\" !== false && len === 0) {\\n\\t\\t\\t\\treturn value;\\n\\t\\t\\t}\\n\\n\\t\\t\\tif (len !== \"+d.items.length+\") {\\n\\t\\t\\t\\t\"+this.makeError({type:\"tupleLength\",expected:d.items.length,actual:\"len\",messages:e})+\"\\n\\t\\t\\t\\treturn value;\\n\\t\\t\\t}\\n\\t\\t\");a.push(\"\\n\\t\\t\\tvar arr = value;\\n\\t\\t\\tvar parentField = field;\\n\\t\\t\");for(e=0;e<d.items.length;e++){a.push(\"\\n\\t\\t\\tvalue = arr[\"+\ne+\"];\\n\\t\\t\");var r=b+\"[\"+e+\"]\",v=this.getRuleFromSchema(d.items[e]);a.push(this.compileRule(v,c,r,\"\\n\\t\\t\\tarr[\"+e+\"] = \"+(c.async?\"await \":\"\")+\"context.fn[%%INDEX%%](arr[\"+e+'], (parentField ? parentField : \"\") + \"[\" + '+e+' + \"]\", parent, errors, context);\\n\\t\\t',\"arr[\"+e+\"]\"))}a.push(\"\\n\\t\\treturn arr;\\n\\t\")}else a.push(\"\\n\\t\\treturn value;\\n\\t\");return{source:a.join(\"\\n\")}}function y(a){var b=a.schema;a=a.messages;var c=[],d=!1;!0===b.convert&&(d=!0,c.push('\\n\\t\\t\\tif (typeof value !== \"string\") {\\n\\t\\t\\t\\tvalue = String(value);\\n\\t\\t\\t}\\n\\t\\t'));\nc.push('\\n\\t\\tif (typeof value !== \"string\") {\\n\\t\\t\\t'+this.makeError({type:\"string\",actual:\"value\",messages:a})+\"\\n\\t\\t\\treturn value;\\n\\t\\t}\\n\\n\\t\\tvar origValue = value;\\n\\t\");b.trim&&(d=!0,c.push(\"\\n\\t\\t\\tvalue = value.trim();\\n\\t\\t\"));b.trimLeft&&(d=!0,c.push(\"\\n\\t\\t\\tvalue = value.trimLeft();\\n\\t\\t\"));b.trimRight&&(d=!0,c.push(\"\\n\\t\\t\\tvalue = value.trimRight();\\n\\t\\t\"));b.padStart&&(d=!0,c.push(\"\\n\\t\\t\\tvalue = value.padStart(\"+b.padStart+\", \"+JSON.stringify(null!=b.padChar?b.padChar:\" \")+\n\");\\n\\t\\t\"));b.padEnd&&(d=!0,c.push(\"\\n\\t\\t\\tvalue = value.padEnd(\"+b.padEnd+\", \"+JSON.stringify(null!=b.padChar?b.padChar:\" \")+\");\\n\\t\\t\"));b.lowercase&&(d=!0,c.push(\"\\n\\t\\t\\tvalue = value.toLowerCase();\\n\\t\\t\"));b.uppercase&&(d=!0,c.push(\"\\n\\t\\t\\tvalue = value.toUpperCase();\\n\\t\\t\"));b.localeLowercase&&(d=!0,c.push(\"\\n\\t\\t\\tvalue = value.toLocaleLowerCase();\\n\\t\\t\"));b.localeUppercase&&(d=!0,c.push(\"\\n\\t\\t\\tvalue = value.toLocaleUpperCase();\\n\\t\\t\"));c.push(\"\\n\\t\\t\\tvar len = value.length;\\n\\t\");\n!1===b.empty?c.push(\"\\n\\t\\t\\tif (len === 0) {\\n\\t\\t\\t\\t\"+this.makeError({type:\"stringEmpty\",actual:\"value\",messages:a})+\"\\n\\t\\t\\t}\\n\\t\\t\"):!0===b.empty&&c.push(\"\\n\\t\\t\\tif (len === 0) {\\n\\t\\t\\t\\treturn value;\\n\\t\\t\\t}\\n\\t\\t\");null!=b.min&&c.push(\"\\n\\t\\t\\tif (len < \"+b.min+\") {\\n\\t\\t\\t\\t\"+this.makeError({type:\"stringMin\",expected:b.min,actual:\"len\",messages:a})+\"\\n\\t\\t\\t}\\n\\t\\t\");null!=b.max&&c.push(\"\\n\\t\\t\\tif (len > \"+b.max+\") {\\n\\t\\t\\t\\t\"+this.makeError({type:\"stringMax\",expected:b.max,actual:\"len\",\nmessages:a})+\"\\n\\t\\t\\t}\\n\\t\\t\");null!=b.length&&c.push(\"\\n\\t\\t\\tif (len !== \"+b.length+\") {\\n\\t\\t\\t\\t\"+this.makeError({type:\"stringLength\",expected:b.length,actual:\"len\",messages:a})+\"\\n\\t\\t\\t}\\n\\t\\t\");if(null!=b.pattern){var e=b.pattern;\"string\"==typeof b.pattern&&(e=new RegExp(b.pattern,b.patternFlags));c.push(\"\\n\\t\\t\\tif (!\"+e.toString()+\".test(value)) {\\n\\t\\t\\t\\t\"+this.makeError({type:\"stringPattern\",expected:'\"'+e.toString().replace(/\"/g,\"\\\\$&\")+'\"',actual:\"origValue\",messages:a})+\"\\n\\t\\t\\t}\\n\\t\\t\")}null!=\nb.contains&&c.push('\\n\\t\\t\\tif (value.indexOf(\"'+b.contains+'\") === -1) {\\n\\t\\t\\t\\t'+this.makeError({type:\"stringContains\",expected:'\"'+b.contains+'\"',actual:\"origValue\",messages:a})+\"\\n\\t\\t\\t}\\n\\t\\t\");null!=b.enum&&(e=JSON.stringify(b.enum),c.push(\"\\n\\t\\t\\tif (\"+e+\".indexOf(value) === -1) {\\n\\t\\t\\t\\t\"+this.makeError({type:\"stringEnum\",expected:'\"'+b.enum.join(\", \")+'\"',actual:\"origValue\",messages:a})+\"\\n\\t\\t\\t}\\n\\t\\t\"));!0===b.numeric&&c.push(\"\\n\\t\\t\\tif (!\"+ha.toString()+\".test(value) ) {\\n\\t\\t\\t\\t\"+\nthis.makeError({type:\"stringNumeric\",actual:\"origValue\",messages:a})+\"\\n\\t\\t\\t}\\n\\t\\t\");!0===b.alpha&&c.push(\"\\n\\t\\t\\tif(!\"+ia.toString()+\".test(value)) {\\n\\t\\t\\t\\t\"+this.makeError({type:\"stringAlpha\",actual:\"origValue\",messages:a})+\"\\n\\t\\t\\t}\\n\\t\\t\");!0===b.alphanum&&c.push(\"\\n\\t\\t\\tif(!\"+ja.toString()+\".test(value)) {\\n\\t\\t\\t\\t\"+this.makeError({type:\"stringAlphanum\",actual:\"origValue\",messages:a})+\"\\n\\t\\t\\t}\\n\\t\\t\");!0===b.alphadash&&c.push(\"\\n\\t\\t\\tif(!\"+ka.toString()+\".test(value)) {\\n\\t\\t\\t\\t\"+\nthis.makeError({type:\"stringAlphadash\",actual:\"origValue\",messages:a})+\"\\n\\t\\t\\t}\\n\\t\\t\");!0===b.hex&&c.push(\"\\n\\t\\t\\tif(value.length % 2 !== 0 || !\"+la.toString()+\".test(value)) {\\n\\t\\t\\t\\t\"+this.makeError({type:\"stringHex\",actual:\"origValue\",messages:a})+\"\\n\\t\\t\\t}\\n\\t\\t\");!0===b.singleLine&&c.push('\\n\\t\\t\\tif(value.includes(\"\\\\n\")) {\\n\\t\\t\\t\\t'+this.makeError({type:\"stringSingleLine\",messages:a})+\"\\n\\t\\t\\t}\\n\\t\\t\");!0===b.base64&&c.push(\"\\n\\t\\t\\tif(!\"+ma.toString()+\".test(value)) {\\n\\t\\t\\t\\t\"+\nthis.makeError({type:\"stringBase64\",actual:\"origValue\",messages:a})+\"\\n\\t\\t\\t}\\n\\t\\t\");c.push(\"\\n\\t\\treturn value;\\n\\t\");return{sanitized:d,source:c.join(\"\\n\")}}function n(a,b,c){var d=a.schema,e=[];e.push('\\n\\t\\tif (typeof value !== \"object\" || value === null || Array.isArray(value)) {\\n\\t\\t\\t'+this.makeError({type:\"record\",actual:\"value\",messages:a.messages})+\"\\n\\t\\t\\treturn value;\\n\\t\\t}\\n\\t\");a=d.key||\"string\";d=d.value||\"any\";e.push(\"\\n\\t\\tconst record = value;\\n\\t\\tlet sanitizedKey, sanitizedValue;\\n\\t\\tconst result = {};\\n\\t\\tfor (let key in value) {\\n\\t\");\ne.push(\"sanitizedKey = value = key;\");a=this.getRuleFromSchema(a);for(var r in a.messages)r.startsWith(\"string\")&&(a.messages[r]=a.messages[r].replace(\" field \",\" key \"));e.push(this.compileRule(a,c,null,\"\\n\\t\\tsanitizedKey = \"+(c.async?\"await \":\"\")+'context.fn[%%INDEX%%](key, field ? field + \".\" + key : key, record, errors, context);\\n\\t',\"sanitizedKey\"));e.push(\"sanitizedValue = value = record[key];\");r=this.getRuleFromSchema(d);e.push(this.compileRule(r,c,b+\"[key]\",\"\\n\\t\\tsanitizedValue = \"+(c.async?\n\"await \":\"\")+'context.fn[%%INDEX%%](value, field ? field + \".\" + key : key, record, errors, context);\\n\\t',\"sanitizedValue\"));e.push(\"result[sanitizedKey] = sanitizedValue;\");e.push(\"\\n\\t\\t}\\n\\t\");e.push(\"return result;\");return{source:e.join(\"\\n\")}}function k(a,b,c){b=a.schema;var d=a.messages;a=a.index;var e=[];c.customs[a]?c.customs[a].schema=b:c.customs[a]={schema:b};e.push(\"\\n\\t\\tconst ObjectID = context.customs[\"+a+\"].schema.ObjectID;\\n\\t\\tif (!ObjectID.isValid(value)) {\\n\\t\\t\\t\"+this.makeError({type:\"objectID\",\nactual:\"value\",messages:d})+\"\\n\\t\\t\\treturn;\\n\\t\\t}\\n\\t\");!0===b.convert?e.push(\"return new ObjectID(value)\"):\"hexString\"===b.convert?e.push(\"return value.toString()\"):e.push(\"return value\");return{source:e.join(\"\\n\")}}function p(a,b,c){var d=a.schema;a=a.messages;var e=[];e.push('\\n\\t\\tif (typeof value !== \"object\" || value === null || Array.isArray(value)) {\\n\\t\\t\\t'+this.makeError({type:\"object\",actual:\"value\",messages:a})+\"\\n\\t\\t\\treturn value;\\n\\t\\t}\\n\\t\");var r=d.properties||d.props;if(r){e.push(\"var parentObj = value;\");\ne.push(\"var parentField = field;\");for(var v=Object.keys(r),A=0;A<v.length;A++){var z=v[A],D=J(z),P=na.test(D)?\".\"+D:\"['\"+D+\"']\",K=\"parentObj\"+P,Q=(b?b+\".\":\"\")+z,E=r[z].label;E=E?\"'\"+J(E)+\"'\":void 0;e.push(\"\\n// Field: \"+J(Q));e.push('field = parentField ? parentField + \"'+P+'\" : \"'+D+'\";');e.push(\"value = \"+K+\";\");e.push(\"label = \"+E);z=this.getRuleFromSchema(r[z]);e.push(this.compileRule(z,c,Q,\"\\n\\t\\t\\t\\t\"+K+\" = \"+(c.async?\"await \":\"\")+\"context.fn[%%INDEX%%](value, field, parentObj, errors, context, label);\\n\\t\\t\\t\",\nK));!0===this.opts.haltOnFirstError&&e.push(\"if (errors.length) return parentObj;\")}d.strict&&(b=Object.keys(r),e.push(\"\\n\\t\\t\\t\\tfield = parentField;\\n\\t\\t\\t\\tvar invalidProps = [];\\n\\t\\t\\t\\tvar props = Object.keys(parentObj);\\n\\n\\t\\t\\t\\tfor (let i = 0; i < props.length; i++) {\\n\\t\\t\\t\\t\\tif (\"+JSON.stringify(b)+\".indexOf(props[i]) === -1) {\\n\\t\\t\\t\\t\\t\\tinvalidProps.push(props[i]);\\n\\t\\t\\t\\t\\t}\\n\\t\\t\\t\\t}\\n\\t\\t\\t\\tif (invalidProps.length) {\\n\\t\\t\\t\"),\"remove\"===d.strict?(e.push(\"\\n\\t\\t\\t\\t\\tif (errors.length === 0) {\\n\\t\\t\\t\\t\"),\ne.push(\"\\n\\t\\t\\t\\t\\t\\tinvalidProps.forEach(function(field) {\\n\\t\\t\\t\\t\\t\\t\\tdelete parentObj[field];\\n\\t\\t\\t\\t\\t\\t});\\n\\t\\t\\t\\t\"),e.push(\"\\n\\t\\t\\t\\t\\t}\\n\\t\\t\\t\\t\")):e.push(\"\\n\\t\\t\\t\\t\\t\"+this.makeError({type:\"objectStrict\",expected:'\"'+b.join(\", \")+'\"',actual:\"invalidProps.join(', ')\",messages:a})+\"\\n\\t\\t\\t\\t\"),e.push(\"\\n\\t\\t\\t\\t}\\n\\t\\t\\t\"))}if(null!=d.minProps||null!=d.maxProps)d.strict?e.push(\"\\n\\t\\t\\t\\tprops = Object.keys(\"+(r?\"parentObj\":\"value\")+\");\\n\\t\\t\\t\"):e.push(\"\\n\\t\\t\\t\\tvar props = Object.keys(\"+\n(r?\"parentObj\":\"value\")+\");\\n\\t\\t\\t\\t\"+(r?\"field = parentField;\":\"\")+\"\\n\\t\\t\\t\");null!=d.minProps&&e.push(\"\\n\\t\\t\\tif (props.length < \"+d.minProps+\") {\\n\\t\\t\\t\\t\"+this.makeError({type:\"objectMinProps\",expected:d.minProps,actual:\"props.length\",messages:a})+\"\\n\\t\\t\\t}\\n\\t\\t\");null!=d.maxProps&&e.push(\"\\n\\t\\t\\tif (props.length > \"+d.maxProps+\") {\\n\\t\\t\\t\\t\"+this.makeError({type:\"objectMaxProps\",expected:d.maxProps,actual:\"props.length\",messages:a})+\"\\n\\t\\t\\t}\\n\\t\\t\");r?e.push(\"\\n\\t\\t\\treturn parentObj;\\n\\t\\t\"):\ne.push(\"\\n\\t\\t\\treturn value;\\n\\t\\t\");return{source:e.join(\"\\n\")}}function u(a){var b=a.schema;a=a.messages;var c=[];c.push(\"\\n\\t\\tvar origValue = value;\\n\\t\");var d=!1;!0===b.convert&&(d=!0,c.push('\\n\\t\\t\\tif (typeof value !== \"number\") {\\n\\t\\t\\t\\tvalue = Number(value);\\n\\t\\t\\t}\\n\\t\\t'));c.push('\\n\\t\\tif (typeof value !== \"number\" || isNaN(value) || !isFinite(value)) {\\n\\t\\t\\t'+this.makeError({type:\"number\",actual:\"origValue\",messages:a})+\"\\n\\t\\t\\treturn value;\\n\\t\\t}\\n\\t\");null!=b.min&&c.push(\"\\n\\t\\t\\tif (value < \"+\nb.min+\") {\\n\\t\\t\\t\\t\"+this.makeError({type:\"numberMin\",expected:b.min,actual:\"origValue\",messages:a})+\"\\n\\t\\t\\t}\\n\\t\\t\");null!=b.max&&c.push(\"\\n\\t\\t\\tif (value > \"+b.max+\") {\\n\\t\\t\\t\\t\"+this.makeError({type:\"numberMax\",expected:b.max,actual:\"origValue\",messages:a})+\"\\n\\t\\t\\t}\\n\\t\\t\");null!=b.equal&&c.push(\"\\n\\t\\t\\tif (value !== \"+b.equal+\") {\\n\\t\\t\\t\\t\"+this.makeError({type:\"numberEqual\",expected:b.equal,actual:\"origValue\",messages:a})+\"\\n\\t\\t\\t}\\n\\t\\t\");null!=b.notEqual&&c.push(\"\\n\\t\\t\\tif (value === \"+\nb.notEqual+\") {\\n\\t\\t\\t\\t\"+this.makeError({type:\"numberNotEqual\",expected:b.notEqual,actual:\"origValue\",messages:a})+\"\\n\\t\\t\\t}\\n\\t\\t\");!0===b.integer&&c.push(\"\\n\\t\\t\\tif (value % 1 !== 0) {\\n\\t\\t\\t\\t\"+this.makeError({type:\"numberInteger\",actual:\"origValue\",messages:a})+\"\\n\\t\\t\\t}\\n\\t\\t\");!0===b.positive&&c.push(\"\\n\\t\\t\\tif (value <= 0) {\\n\\t\\t\\t\\t\"+this.makeError({type:\"numberPositive\",actual:\"origValue\",messages:a})+\"\\n\\t\\t\\t}\\n\\t\\t\");!0===b.negative&&c.push(\"\\n\\t\\t\\tif (value >= 0) {\\n\\t\\t\\t\\t\"+\nthis.makeError({type:\"numberNegative\",actual:\"origValue\",messages:a})+\"\\n\\t\\t\\t}\\n\\t\\t\");c.push(\"\\n\\t\\treturn value;\\n\\t\");return{sanitized:d,source:c.join(\"\\n\")}}function C(a,b,c){var d=a.schema;a.messages;a=[];a.push(\"\\n\\t\\tvar hasValid = false;\\n\\t\\tvar newVal = value;\\n\\t\\tvar checkErrors = [];\\n\\t\\tvar errorsSize = errors.length;\\n\\t\");for(var e=0;e<d.rules.length;e++){a.push(\"\\n\\t\\t\\tif (!hasValid) {\\n\\t\\t\\t\\tvar _errors = [];\\n\\t\\t\");var r=this.getRuleFromSchema(d.rules[e]);a.push(this.compileRule(r,\nc,b,\"var tmpVal = \"+(c.async?\"await \":\"\")+\"context.fn[%%INDEX%%](value, field, parent, _errors, context);\",\"tmpVal\"));a.push(\"\\n\\t\\t\\t\\tif (errors.length == errorsSize && _errors.length == 0) {\\n\\t\\t\\t\\t\\thasValid = true;\\n\\t\\t\\t\\t\\tnewVal = tmpVal;\\n\\t\\t\\t\\t} else {\\n\\t\\t\\t\\t\\tArray.prototype.push.apply(checkErrors, [].concat(_errors, errors.splice(errorsSize)));\\n\\t\\t\\t\\t}\\n\\t\\t\\t}\\n\\t\\t\")}a.push(\"\\n\\t\\tif (!hasValid) {\\n\\t\\t\\tArray.prototype.push.apply(errors, checkErrors);\\n\\t\\t}\\n\\n\\t\\treturn newVal;\\n\\t\");\nreturn{source:a.join(\"\\n\")}}function ca(a){a.schema;return{source:'\\n\\t\\t\\tif (typeof value !== \"function\")\\n\\t\\t\\t\\t'+this.makeError({type:\"function\",actual:\"value\",messages:a.messages})+\"\\n\\n\\t\\t\\treturn value;\\n\\t\\t\"}}function ba(a){var b=a.schema;a=a.messages;var c=[];c.push(\"\\n\\t\\tif (value !== null && value !== undefined) {\\n\\t\");b.remove?c.push(\"\\n\\t\\t\\treturn undefined;\\n\\t\\t\"):c.push(\"\\n\\t\\t\\t\"+this.makeError({type:\"forbidden\",actual:\"value\",messages:a})+\"\\n\\t\\t\");c.push(\"\\n\\t\\t}\\n\\n\\t\\treturn value;\\n\\t\");\nreturn{source:c.join(\"\\n\")}}function aa(a){var b=a.schema;a=a.messages;var c=[];b.field?(b.strict?c.push('\\n\\t\\t\\t\\tif (value !== parent[\"'+b.field+'\"])\\n\\t\\t\\t'):c.push('\\n\\t\\t\\t\\tif (value != parent[\"'+b.field+'\"])\\n\\t\\t\\t'),c.push(\"\\n\\t\\t\\t\\t\"+this.makeError({type:\"equalField\",actual:\"value\",expected:JSON.stringify(b.field),messages:a})+\"\\n\\t\\t\")):(b.strict?c.push(\"\\n\\t\\t\\t\\tif (value !== \"+JSON.stringify(b.value)+\")\\n\\t\\t\\t\"):c.push(\"\\n\\t\\t\\t\\tif (value != \"+JSON.stringify(b.value)+\")\\n\\t\\t\\t\"),\nc.push(\"\\n\\t\\t\\t\\t\"+this.makeError({type:\"equalValue\",actual:\"value\",expected:JSON.stringify(b.value),messages:a})+\"\\n\\t\\t\"));c.push(\"\\n\\t\\treturn value;\\n\\t\");return{source:c.join(\"\\n\")}}function Z(a){var b=a.schema;a=a.messages;return{source:\"\\n\\t\\t\\tif (\"+JSON.stringify(b.values||[])+\".indexOf(value) === -1)\\n\\t\\t\\t\\t\"+this.makeError({type:\"enumValue\",expected:'\"'+b.values.join(\", \")+'\"',actual:\"value\",messages:a})+\"\\n\\t\\t\\t\\n\\t\\t\\treturn value;\\n\\t\\t\"}}function Y(a){var b=a.schema;a=a.messages;\nvar c=[],d=\"precise\"==b.mode?oa:pa,e=!1;c.push('\\n\\t\\tif (typeof value !== \"string\") {\\n\\t\\t\\t'+this.makeError({type:\"string\",actual:\"value\",messages:a})+\"\\n\\t\\t\\treturn value;\\n\\t\\t}\\n\\t\");b.empty?c.push(\"\\n\\t\\t\\tif (value.length === 0) return value;\\n\\t\\t\"):c.push(\"\\n\\t\\t\\tif (value.length === 0) {\\n\\t\\t\\t\\t\"+this.makeError({type:\"emailEmpty\",actual:\"value\",messages:a})+\"\\n\\t\\t\\t\\treturn value;\\n\\t\\t\\t}\\n\\t\\t\");b.normalize&&(e=!0,c.push(\"\\n\\t\\t\\tvalue = value.trim().toLowerCase();\\n\\t\\t\"));null!=\nb.min&&c.push(\"\\n\\t\\t\\tif (value.length < \"+b.min+\") {\\n\\t\\t\\t\\t\"+this.makeError({type:\"emailMin\",expected:b.min,actual:\"value.length\",messages:a})+\"\\n\\t\\t\\t}\\n\\t\\t\");null!=b.max&&c.push(\"\\n\\t\\t\\tif (value.length > \"+b.max+\") {\\n\\t\\t\\t\\t\"+this.makeError({type:\"emailMax\",expected:b.max,actual:\"value.length\",messages:a})+\"\\n\\t\\t\\t}\\n\\t\\t\");c.push(\"\\n\\t\\tif (!\"+d.toString()+\".test(value)) {\\n\\t\\t\\t\"+this.makeError({type:\"email\",actual:\"value\",messages:a})+\"\\n\\t\\t}\\n\\n\\t\\treturn value;\\n\\t\");return{sanitized:e,\nsource:c.join(\"\\n\")}}function X(a){var b=a.schema;a=a.messages;var c=[],d=!1;c.push(\"\\n\\t\\tvar origValue = value;\\n\\t\");!0===b.convert&&(d=!0,c.push(\"\\n\\t\\t\\tif (!(value instanceof Date)) {\\n\\t\\t\\t\\tvalue = new Date(value.length && !isNaN(+value) ? +value : value);\\n\\t\\t\\t}\\n\\t\\t\"));c.push(\"\\n\\t\\tif (!(value instanceof Date) || isNaN(value.getTime()))\\n\\t\\t\\t\"+this.makeError({type:\"date\",actual:\"origValue\",messages:a})+\"\\n\\n\\t\\treturn value;\\n\\t\");return{sanitized:d,source:c.join(\"\\n\")}}function W(a){var b=\na.schema;a=a.messages;var c=b.currencySymbol||null,d=b.thousandSeparator||\",\",e=b.decimalSeparator||\".\",r=b.customRegex;b=!b.symbolOptional;b=\"(?=.*\\\\d)^(-?~1|~1-?)(([0-9]\\\\d{0,2}(~2\\\\d{3})*)|0)?(\\\\~3\\\\d{1,2})?$\".replace(/~1/g,c?\"\\\\\"+c+(b?\"\":\"?\"):\"\").replace(\"~2\",d).replace(\"~3\",e);c=[];c.push(\"\\n\\t\\tif (!value.match(\"+(r||new RegExp(b))+\")) {\\n\\t\\t\\t\"+this.makeError({type:\"currency\",actual:\"value\",messages:a})+\"\\n\\t\\t\\treturn value;\\n\\t\\t}\\n\\n\\t\\treturn value;\\n\\t\");return{source:c.join(\"\\n\")}}function V(a,\nb,c){var d=[];d.push(\"\\n\\t\\t\"+this.makeCustomValidator({fnName:\"check\",path:b,schema:a.schema,messages:a.messages,context:c,ruleIndex:a.index})+\"\\n\\t\\treturn value;\\n\\t\");return{source:d.join(\"\\n\")}}function U(a,b,c){b=a.schema;var d=a.messages;a=a.index;var e=[],r=b.instanceOf.name?b.instanceOf.name:\"<UnknowClass>\";c.customs[a]?c.customs[a].schema=b:c.customs[a]={schema:b};e.push(\"\\n\\t\\tif (!(value instanceof context.customs[\"+a+\"].schema.instanceOf))\\n\\t\\t\\t\"+this.makeError({type:\"classInstanceOf\",\nactual:\"value\",expected:\"'\"+r+\"'\",messages:d})+\"\\n\\t\");e.push(\"\\n\\t\\treturn value;\\n\\t\");return{source:e.join(\"\\n\")}}function T(a){var b=a.schema;a=a.messages;var c=[],d=!1;c.push(\"\\n\\t\\tvar origValue = value;\\n\\t\");!0===b.convert&&(d=!0,c.push('\\n\\t\\t\\tif (typeof value !== \"boolean\") {\\n\\t\\t\\t\\tif (\\n\\t\\t\\t\\tvalue === 1\\n\\t\\t\\t\\t|| value === \"true\"\\n\\t\\t\\t\\t|| value === \"1\"\\n\\t\\t\\t\\t|| value === \"on\"\\n\\t\\t\\t\\t) {\\n\\t\\t\\t\\t\\tvalue = true;\\n\\t\\t\\t\\t} else if (\\n\\t\\t\\t\\tvalue === 0\\n\\t\\t\\t\\t|| value === \"false\"\\n\\t\\t\\t\\t|| value === \"0\"\\n\\t\\t\\t\\t|| value === \"off\"\\n\\t\\t\\t\\t) {\\n\\t\\t\\t\\t\\tvalue = false;\\n\\t\\t\\t\\t}\\n\\t\\t\\t}\\n\\t\\t'));\nc.push('\\n\\t\\tif (typeof value !== \"boolean\") {\\n\\t\\t\\t'+this.makeError({type:\"boolean\",actual:\"origValue\",messages:a})+\"\\n\\t\\t}\\n\\t\\t\\n\\t\\treturn value;\\n\\t\");return{sanitized:d,source:c.join(\"\\n\")}}function S(a,b,c){var d=a.schema,e=a.messages;a=[];a.push(\"\\n\\t\\tif (!Array.isArray(value)) {\\n\\t\\t\\t\"+this.makeError({type:\"array\",actual:\"value\",messages:e})+\"\\n\\t\\t\\treturn value;\\n\\t\\t}\\n\\n\\t\\tvar len = value.length;\\n\\t\");!1===d.empty&&a.push(\"\\n\\t\\t\\tif (len === 0) {\\n\\t\\t\\t\\t\"+this.makeError({type:\"arrayEmpty\",\nactual:\"value\",messages:e})+\"\\n\\t\\t\\t}\\n\\t\\t\");null!=d.min&&a.push(\"\\n\\t\\t\\tif (len < \"+d.min+\") {\\n\\t\\t\\t\\t\"+this.makeError({type:\"arrayMin\",expected:d.min,actual:\"len\",messages:e})+\"\\n\\t\\t\\t}\\n\\t\\t\");null!=d.max&&a.push(\"\\n\\t\\t\\tif (len > \"+d.max+\") {\\n\\t\\t\\t\\t\"+this.makeError({type:\"arrayMax\",expected:d.max,actual:\"len\",messages:e})+\"\\n\\t\\t\\t}\\n\\t\\t\");null!=d.length&&a.push(\"\\n\\t\\t\\tif (len !== \"+d.length+\") {\\n\\t\\t\\t\\t\"+this.makeError({type:\"arrayLength\",expected:d.length,actual:\"len\",messages:e})+\n\"\\n\\t\\t\\t}\\n\\t\\t\");null!=d.contains&&a.push(\"\\n\\t\\t\\tif (value.indexOf(\"+JSON.stringify(d.contains)+\") === -1) {\\n\\t\\t\\t\\t\"+this.makeError({type:\"arrayContains\",expected:JSON.stringify(d.contains),actual:\"value\",messages:e})+\"\\n\\t\\t\\t}\\n\\t\\t\");!0===d.unique&&a.push(\"\\n\\t\\t\\tif(len > (new Set(value)).size) {\\n\\t\\t\\t\\t\"+this.makeError({type:\"arrayUnique\",expected:\"Array.from(new Set(value.filter((item, index) => value.indexOf(item) !== index)))\",actual:\"value\",messages:e})+\"\\n\\t\\t\\t}\\n\\t\\t\");if(null!=\nd.enum){var r=JSON.stringify(d.enum);a.push(\"\\n\\t\\t\\tfor (var i = 0; i < value.length; i++) {\\n\\t\\t\\t\\tif (\"+r+\".indexOf(value[i]) === -1) {\\n\\t\\t\\t\\t\\t\"+this.makeError({type:\"arrayEnum\",expected:'\"'+d.enum.join(\", \")+'\"',actual:\"value[i]\",messages:e})+\"\\n\\t\\t\\t\\t}\\n\\t\\t\\t}\\n\\t\\t\")}null!=d.items?(a.push(\"\\n\\t\\t\\tvar arr = value;\\n\\t\\t\\tvar parentField = field;\\n\\t\\t\\tfor (var i = 0; i < arr.length; i++) {\\n\\t\\t\\t\\tvalue = arr[i];\\n\\t\\t\"),b+=\"[]\",d=this.getRuleFromSchema(d.items),a.push(this.compileRule(d,\nc,b,\"arr[i] = \"+(c.async?\"await \":\"\")+'context.fn[%%INDEX%%](arr[i], (parentField ? parentField : \"\") + \"[\" + i + \"]\", parent, errors, context)',\"arr[i]\")),a.push(\"\\n\\t\\t\\t}\\n\\t\\t\"),a.push(\"\\n\\t\\treturn arr;\\n\\t\")):a.push(\"\\n\\t\\treturn value;\\n\\t\");return{source:a.join(\"\\n\")}}function R(){var a=[];a.push(\"\\n\\t\\treturn value;\\n\\t\");return{source:a.join(\"\\n\")}}function qa(a,b,c){return a.replace(b,void 0===c||null===c?\"\":\"function\"===typeof c.toString?c:typeof c)}function B(a,b,c){void 0===c&&(c={});\nfor(var d in b){var e=b[d];e=\"object\"!==typeof e||Array.isArray(e)||null==e?!1:0<Object.keys(e).length;if(e)a[d]=a[d]||{},B(a[d],b[d],c);else if(!0!==c.skipIfExist||void 0===a[d])a[d]=b[d]}return a}function J(a){return a.replace(ra,function(b){switch(b){case '\"':case \"'\":case \"\\\\\":return\"\\\\\"+b;case \"\\n\":return\"\\\\n\";case \"\\r\":return\"\\\\r\";case \"\\u2028\":return\"\\\\u2028\";case \"\\u2029\":return\"\\\\u2029\"}})}function M(){throw Error(\"Dynamic requires are not currently supported by rollup-plugin-commonjs\");\n}var q={required:\"The '{field}' field is required.\",string:\"The '{field}' field must be a string.\",stringEmpty:\"The '{field}' field must not be empty.\",stringMin:\"The '{field}' field length must be greater than or equal to {expected} characters long.\",stringMax:\"The '{field}' field length must be less than or equal to {expected} characters long.\",stringLength:\"The '{field}' field length must be {expected} characters long.\",stringPattern:\"The '{field}' field fails to match the required pattern.\",stringContains:\"The '{field}' field must contain the '{expected}' text.\",\nstringEnum:\"The '{field}' field does not match any of the allowed values.\",stringNumeric:\"The '{field}' field must be a numeric string.\",stringAlpha:\"The '{field}' field must be an alphabetic string.\",stringAlphanum:\"The '{field}' field must be an alphanumeric string.\",stringAlphadash:\"The '{field}' field must be an alphadash string.\",stringHex:\"The '{field}' field must be a hex string.\",stringSingleLine:\"The '{field}' field must be a single line string.\",stringBase64:\"The '{field}' field must be a base64 string.\",\nnumber:\"The '{field}' field must be a number.\",numberMin:\"The '{field}' field must be greater than or equal to {expected}.\",numberMax:\"The '{field}' field must be less than or equal to {expected}.\",numberEqual:\"The '{field}' field must be equal to {expected}.\",numberNotEqual:\"The '{field}' field can't be equal to {expected}.\",numberInteger:\"The '{field}' field must be an integer.\",numberPositive:\"The '{field}' field must be a positive number.\",numberNegative:\"The '{field}' field must be a negative number.\",\narray:\"The '{field}' field must be an array.\",arrayEmpty:\"The '{field}' field must not be an empty array.\",arrayMin:\"The '{field}' field must contain at least {expected} items.\",arrayMax:\"The '{field}' field must contain less than or equal to {expected} items.\",arrayLength:\"The '{field}' field must contain {expected} items.\",arrayContains:\"The '{field}' field must contain the '{expected}' item.\",arrayUnique:\"The '{actual}' value in '{field}' field does not unique the '{expected}' values.\",arrayEnum:\"The '{actual}' value in '{field}' field does not match any of the '{expected}' values.\",\ntuple:\"The '{field}' field must be an array.\",tupleEmpty:\"The '{field}' field must not be an empty array.\",tupleLength:\"The '{field}' field must contain {expected} items.\",boolean:\"The '{field}' field must be a boolean.\",currency:\"The '{field}' must be a valid currency format\",date:\"The '{field}' field must be a Date.\",dateMin:\"The '{field}' field must be greater than or equal to {expected}.\",dateMax:\"The '{field}' field must be less than or equal to {expected}.\",enumValue:\"The '{field}' field value '{expected}' does not match any of the allowed values.\",\nequalValue:\"The '{field}' field value must be equal to '{expected}'.\",equalField:\"The '{field}' field value must be equal to '{expected}' field value.\",forbidden:\"The '{field}' field is forbidden.\",function:\"The '{field}' field must be a function.\",email:\"The '{field}' field must be a valid e-mail.\",emailEmpty:\"The '{field}' field must not be empty.\",emailMin:\"The '{field}' field length must be greater than or equal to {expected} characters long.\",emailMax:\"The '{field}' field length must be less than or equal to {expected} characters long.\",\nluhn:\"The '{field}' field must be a valid checksum luhn.\",mac:\"The '{field}' field must be a valid MAC address.\",object:\"The '{field}' must be an Object.\",objectStrict:\"The object '{field}' contains forbidden keys: '{actual}'.\",objectMinProps:\"The object '{field}' must contain at least {expected} properties.\",objectMaxProps:\"The object '{field}' must contain {expected} properties at most.\",url:\"The '{field}' field must be a valid URL.\",urlEmpty:\"The '{field}' field must not be empty.\",uuid:\"The '{field}' field must be a valid UUID.\",\nuuidVersion:\"The '{field}' field must be a valid UUID version provided.\",classInstanceOf:\"The '{field}' field must be an instance of the '{expected}' class.\",objectID:\"The '{field}' field must be an valid ObjectID\",record:\"The '{field}' must be an Object.\"};q.required;q.string;q.stringEmpty;q.stringMin;q.stringMax;q.stringLength;q.stringPattern;q.stringContains;q.stringEnum;q.stringNumeric;q.stringAlpha;q.stringAlphanum;q.stringAlphadash;q.stringHex;q.stringSingleLine;q.stringBase64;q.number;q.numberMin;\nq.numberMax;q.numberEqual;q.numberNotEqual;q.numberInteger;q.numberPositive;q.numberNegative;q.array;q.arrayEmpty;q.arrayMin;q.arrayMax;q.arrayLength;q.arrayContains;q.arrayUnique;q.arrayEnum;q.tuple;q.tupleEmpty;q.tupleLength;q.currency;q.date;q.dateMin;q.dateMax;q.enumValue;q.equalValue;q.equalField;q.forbidden;q.email;q.emailEmpty;q.emailMin;q.emailMax;q.luhn;q.mac;q.object;q.objectStrict;q.objectMinProps;q.objectMaxProps;q.url;q.urlEmpty;q.uuid;q.uuidVersion;q.classInstanceOf;q.objectID;q.record;\nvar oa=/^(([^<>()[\\]\\\\.,;:\\s@\"]+(\\.[^<>()[\\]\\\\.,;:\\s@\"]+)*)|(\".+\"))@((\\[[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\])|(([a-zA-Z\\-0-9]+\\.)+[a-zA-Z]{2,}))$/,pa=/^\\S+@\\S+\\.\\S+$/,na=/^[_$a-zA-Z][_$a-zA-Z0-9]*$/,ra=/[\"'\\\\\\n\\r\\u2028\\u2029]/g,ha=/^-?[0-9]\\d*(\\.\\d+)?$/,ia=/^[a-zA-Z]+$/,ja=/^[a-zA-Z0-9]+$/,ka=/^[a-zA-Z0-9_-]+$/,la=/^[0-9a-fA-F]+$/,ma=/^(?:[A-Za-z0-9+\\\\/]{4})*(?:[A-Za-z0-9+\\\\/]{2}==|[A-Za-z0-9+/]{3}=)?$/,fa=/^https?:\\/\\/\\S+/,ea=/^([0-9a-f]{8}-[0-9a-f]{4}-[1-6][0-9a-f]{3}-[0-9a-f]{4}-[0-9a-f]{12}|[0]{8}-[0]{4}-[0]{4}-[0]{4}-[0]{12})$/i,\nda=/^((([a-f0-9][a-f0-9]+[-]){5}|([a-f0-9][a-f0-9]+[:]){5})([a-f0-9][a-f0-9])$)|(^([a-f0-9][a-f0-9][a-f0-9][a-f0-9]+[.]){2}([a-f0-9][a-f0-9][a-f0-9][a-f0-9]))$/i,H,N,I,O;try{var L=(new Function(\"return Object.getPrototypeOf(async function(){}).constructor\"))()}catch(a){}f.prototype.validate=function(a,b){return this.compile(b)(a)};f.prototype.wrapRequiredCheckSourceCode=function(a,b,c,d){var e=[],r=!0===a.schema.optional||\"forbidden\"===a.schema.type,v=!0===a.schema.optional||!0===a.schema.nullable||\n\"forbidden\"===a.schema.type;null!=a.schema.default?(r=!1,!0!==a.schema.nullable&&(v=!1),\"function\"===typeof a.schema.default?(c.customs[a.index]||(c.customs[a.index]={}),c.customs[a.index].defaultFn=a.schema.default,a=\"context.customs[\"+a.index+\"].defaultFn.call(this, context.rules[\"+a.index+\"].schema, field, parent, context)\"):a=JSON.stringify(a.schema.default),d=\"\\n\\t\\t\\t\\tvalue = \"+a+\";\\n\\t\\t\\t\\t\"+d+\" = value;\\n\\t\\t\\t\"):d=this.makeError({type:\"required\",actual:\"value\",messages:a.messages});e.push(\"\\n\\t\\t\\tif (value === undefined) { \"+\n((r?\"\\n// allow undefined\\n\":d)+\" }\\n\\t\\t\\telse if (value === null) { \")+((v?\"\\n// allow null\\n\":d)+\" }\\n\\t\\t\\t\")+(b?\"else { \"+b+\" }\":\"\")+\"\\n\\t\\t\");return e.join(\"\\n\")};f.prototype.compile=function(a){function b(v,A){d.data=v;A&&A.meta&&(d.meta=A.meta);return r.call(c,v,d)}if(null===a||\"object\"!==typeof a)throw Error(\"Invalid schema.\");var c=this,d={index:0,async:!0===a.$$async,rules:[],fn:[],customs:{},utils:{replace:qa}};this.cache.clear();delete a.$$async;if(d.async&&!L)throw Error(\"Asynchronous mode is not supported.\");\nif(!0!==a.$$root)if(Array.isArray(a))a=this.getRuleFromSchema(a).schema;else{var e=Object.assign({},a);a={type:\"object\",strict:e.$$strict,properties:e};delete e.$$strict}e=[\"var errors = [];\",\"var field;\",\"var parent = null;\",\"var label = \"+(a.label?'\"'+a.label+'\"':\"null\")+\";\"];a=this.getRuleFromSchema(a);e.push(this.compileRule(a,d,null,(d.async?\"await \":\"\")+\"context.fn[%%INDEX%%](value, field, null, errors, context, label);\",\"value\"));e.push(\"if (errors.length) {\");e.push(\"\\n\\t\\t\\treturn errors.map(err => {\\n\\t\\t\\t\\tif (err.message) {\\n\\t\\t\\t\\t\\terr.message = context.utils.replace(err.message, /\\\\{field\\\\}/g, err.label || err.field);\\n\\t\\t\\t\\t\\terr.message = context.utils.replace(err.message, /\\\\{expected\\\\}/g, err.expected);\\n\\t\\t\\t\\t\\terr.message = context.utils.replace(err.message, /\\\\{actual\\\\}/g, err.actual);\\n\\t\\t\\t\\t}\\n\\t\\t\\t\\tif(!err.label) delete err.label\\n\\t\\t\\t\\treturn err;\\n\\t\\t\\t});\\n\\t\\t\");\ne.push(\"}\");e.push(\"return true;\");a=e.join(\"\\n\");var r=new (d.async?L:Function)(\"value\",\"context\",a);this.opts.debug&&console.log(this._formatter(\"// Main check function\\n\"+r.toString()));this.cache.clear();b.async=d.async;return b};f.prototype.compileRule=function(a,b,c,d,e){var r=[],v=this.cache.get(a.schema);v?(a=v,a.cycle=!0,a.cycleStack=[],r.push(this.wrapRequiredCheckSourceCode(a,\"\\n\\t\\t\\t\\tvar rule = context.rules[\"+a.index+\"];\\n\\t\\t\\t\\tif (rule.cycleStack.indexOf(value) === -1) {\\n\\t\\t\\t\\t\\trule.cycleStack.push(value);\\n\\t\\t\\t\\t\\t\"+\nd.replace(/%%INDEX%%/g,a.index)+\"\\n\\t\\t\\t\\t\\trule.cycleStack.pop(value);\\n\\t\\t\\t\\t}\\n\\t\\t\\t\",b,e))):(this.cache.set(a.schema,a),a.index=b.index,b.rules[b.index]=a,v=null!=c?c:\"$$root\",b.index++,c=a.ruleFunction.call(this,a,c,b),c.source=c.source.replace(/%%INDEX%%/g,a.index),c=new (b.async?L:Function)(\"value\",\"field\",\"parent\",\"errors\",\"context\",\"label\",c.source),b.fn[a.index]=c.bind(this),r.push(this.wrapRequiredCheckSourceCode(a,d.replace(/%%INDEX%%/g,a.index),b,e)),r.push(this.makeCustomValidator({vName:e,\npath:v,schema:a.schema,context:b,messages:a.messages,ruleIndex:a.index})),this.opts.debug&&console.log(this._formatter(\"// Context.fn[\"+a.index+\"]\\n\"+c.toString())));return r.join(\"\\n\")};f.prototype.getRuleFromSchema=function(a){a=this.resolveType(a);var b=this.aliases[a.type];b&&(delete a.type,a=B(a,b,{skipIfExist:!0}));b=this.rules[a.type];if(!b)throw Error(\"Invalid '\"+a.type+\"' type in validator schema.\");return{messages:Object.assign({},this.messages,a.messages),schema:B(a,this.defaults[a.type],\n{skipIfExist:!0}),ruleFunction:b}};f.prototype.parseShortHand=function(a){a=a.split(\"|\").map(function(d){return d.trim()});var b=a[0];var c=b.endsWith(\"[]\")?this.getRuleFromSchema({type:\"array\",items:b.slice(0,-2)}).schema:{type:a[0]};a.slice(1).map(function(d){var e=d.indexOf(\":\");if(-1!==e){var r=d.substr(0,e).trim();d=d.substr(e+1).trim();\"true\"===d||\"false\"===d?d=\"true\"===d:Number.isNaN(Number(d))||(d=Number(d));c[r]=d}else d.startsWith(\"no-\")?c[d.slice(3)]=!1:c[d]=!0});return c};f.prototype.makeError=\nfunction(a){var b=a.type,c=a.field,d=a.expected,e=a.actual,r={type:'\"'+b+'\"',message:'\"'+a.messages[b]+'\"'};r.field=c?'\"'+c+'\"':\"field\";null!=d&&(r.expected=d);null!=e&&(r.actual=e);r.label=\"label\";return\"errors.push({ \"+Object.keys(r).map(function(v){return v+\": \"+r[v]}).join(\", \")+\" });\"};f.prototype.makeCustomValidator=function(a){var b=a.vName;void 0===b&&(b=\"value\");var c=a.fnName;void 0===c&&(c=\"custom\");var d=a.ruleIndex,e=a.path,r=a.schema,v=a.context,A=a.messages;a=\"rule\"+d;var z=\"fnCustomErrors\"+\nd;if(\"function\"==typeof r[c]){v.customs[d]?(v.customs[d].messages=A,v.customs[d].schema=r):v.customs[d]={messages:A,schema:r};if(this.opts.useNewCustomCheckerFunction)return\"\\n               \\t\\tconst \"+a+\" = context.customs[\"+d+\"];\\n\\t\\t\\t\\t\\tconst \"+z+\" = [];\\n\\t\\t\\t\\t\\t\"+b+\" = \"+(v.async?\"await \":\"\")+a+\".schema.\"+c+\".call(this, \"+b+\", \"+z+\" , \"+a+'.schema, \"'+e+'\", parent, context);\\n\\t\\t\\t\\t\\tif (Array.isArray('+z+\" )) {\\n                  \\t\\t\"+z+\" .forEach(err => errors.push(Object.assign({ message: \"+\na+\".messages[err.type], field }, err)));\\n\\t\\t\\t\\t\\t}\\n\\t\\t\\t\\t\";r=\"res_\"+a;return\"\\n\\t\\t\\t\\tconst \"+a+\" = context.customs[\"+d+\"];\\n\\t\\t\\t\\tconst \"+r+\" = \"+(v.async?\"await \":\"\")+a+\".schema.\"+c+\".call(this, \"+b+\", \"+a+'.schema, \"'+e+'\", parent, context);\\n\\t\\t\\t\\tif (Array.isArray('+r+\")) {\\n\\t\\t\\t\\t\\t\"+r+\".forEach(err => errors.push(Object.assign({ message: \"+a+\".messages[err.type], field }, err)));\\n\\t\\t\\t\\t}\\n\\t\\t\"}return\"\"};f.prototype.add=function(a,b){this.rules[a]=b};f.prototype.addMessage=\nfunction(a,b){this.messages[a]=b};f.prototype.alias=function(a,b){if(this.rules[a])throw Error(\"Alias name must not be a rule name\");this.aliases[a]=b};f.prototype.plugin=function(a){if(\"function\"!==typeof a)throw Error(\"Plugin fn type must be function\");return a(this)};f.prototype.resolveType=function(a){var b=this;if(\"string\"===typeof a)a=this.parseShortHand(a);else if(Array.isArray(a)){if(0===a.length)throw Error(\"Invalid schema.\");a={type:\"multi\",rules:a};a.rules.map(function(r){return b.getRuleFromSchema(r)}).every(function(r){return!0===\nr.schema.optional})&&(a.optional=!0);a.rules.map(function(r){return b.getRuleFromSchema(r)}).every(function(r){return!0===r.schema.nullable})&&(a.nullable=!0)}if(a.$$type){var c=this.getRuleFromSchema(a.$$type).schema;delete a.$$type;var d=Object.assign({},a),e;for(e in a)delete a[e];B(a,c,{skipIfExist:!0});a.props=d}return a};f.prototype.normalize=function(a){var b=this,c=this.resolveType(a);this.aliases[c.type]&&(c=B(c,this.normalize(this.aliases[c.type]),{skipIfExists:!0}));c=B(c,this.defaults[c.type],\n{skipIfExist:!0});if(\"multi\"===c.type)return c.rules=c.rules.map(function(d){return b.normalize(d)}),c.optional=c.rules.every(function(d){return!0===d.optional}),c;if(\"array\"===c.type)return c.items=this.normalize(c.items),c;\"object\"===c.type&&c.props&&Object.entries(c.props).forEach(function(d){return c.props[d[0]]=b.normalize(d[1])});\"object\"===typeof a&&(a.type?(a=this.normalize(a.type),B(c,a,{skipIfExists:!0})):Object.entries(a).forEach(function(d){return c[d[0]]=b.normalize(d[1])}));return c};\nreturn f}\"object\"===typeof exports&&\"undefined\"!==typeof module?module.exports=G():\"function\"===typeof define&&define.amd?define(G):(F=\"undefined\"!==typeof globalThis?globalThis:F||self,F.FastestValidator=G())\n","(function(f){if(typeof exports===\"object\"&&typeof module!==\"undefined\"){module.exports=f()}else if(typeof define===\"function\"&&define.amd){define([],f)}else{var g;if(typeof window!==\"undefined\"){g=window}else if(typeof global!==\"undefined\"){g=global}else if(typeof self!==\"undefined\"){g=self}else{g=this}g.jsonata = f()}})(function(){var define,module,exports;return (function(){function r(e,n,t){function o(i,f){if(!n[i]){if(!e[i]){var c=\"function\"==typeof require&&require;if(!f&&c)return c(i,!0);if(u)return u(i,!0);var a=new Error(\"Cannot find module '\"+i+\"'\");throw a.code=\"MODULE_NOT_FOUND\",a}var p=n[i]={exports:{}};e[i][0].call(p.exports,function(r){var n=e[i][1][r];return o(n||r)},p,p.exports,r,e,n,t)}return n[i].exports}for(var u=\"function\"==typeof require&&require,i=0;i<t.length;i++)o(t[i]);return o}return r})()({1:[function(require,module,exports){\n/**\n * © Copyright IBM Corp. 2018 All Rights Reserved\n *   Project name: JSONata\n *   This project is licensed under the MIT License, see LICENSE\n */\n\nconst utils = require('./utils');\n\n/**\n * DateTime formatting and parsing functions\n * Implements the xpath-functions format-date-time specification\n * @type {{formatInteger, formatDateTime, parseInteger, parseDateTime}}\n */\nconst dateTime = (function () {\n    'use strict';\n\n    const stringToArray = utils.stringToArray;\n\n    const few = ['Zero', 'One', 'Two', 'Three', 'Four', 'Five', 'Six', 'Seven', 'Eight', 'Nine', 'Ten',\n        'Eleven', 'Twelve', 'Thirteen', 'Fourteen', 'Fifteen', 'Sixteen', 'Seventeen', 'Eighteen', 'Nineteen'];\n    const ordinals = ['Zeroth', 'First', 'Second', 'Third', 'Fourth', 'Fifth', 'Sixth', 'Seventh', 'Eighth', 'Ninth', 'Tenth',\n        'Eleventh', 'Twelfth', 'Thirteenth', 'Fourteenth', 'Fifteenth', 'Sixteenth', 'Seventeenth', 'Eighteenth', 'Nineteenth'];\n    const decades = ['Twenty', 'Thirty', 'Forty', 'Fifty', 'Sixty', 'Seventy', 'Eighty', 'Ninety', 'Hundred'];\n    const magnitudes = ['Thousand', 'Million', 'Billion', 'Trillion'];\n\n    /**\n     * converts a number into english words\n     * @param {string} value - the value to format\n     * @param {boolean} ordinal - ordinal or cardinal form\n     * @returns {string} - representation in words\n     */\n    function numberToWords(value, ordinal) {\n        var lookup = function (num, prev, ord) {\n            var words = '';\n            if (num <= 19) {\n                words = (prev ? ' and ' : '') + (ord ? ordinals[num] : few[num]);\n            } else if (num < 100) {\n                const tens = Math.floor(num / 10);\n                const remainder = num % 10;\n                words = (prev ? ' and ' : '') + decades[tens - 2];\n                if (remainder > 0) {\n                    words += '-' + lookup(remainder, false, ord);\n                } else if (ord) {\n                    words = words.substring(0, words.length - 1) + 'ieth';\n                }\n            } else if (num < 1000) {\n                const hundreds = Math.floor(num / 100);\n                const remainder = num % 100;\n                words = (prev ? ', ' : '') + few[hundreds] + ' Hundred';\n                if (remainder > 0) {\n                    words += lookup(remainder, true, ord);\n                } else if (ord) {\n                    words += 'th';\n                }\n            } else {\n                var mag = Math.floor(Math.log10(num) / 3);\n                if (mag > magnitudes.length) {\n                    mag = magnitudes.length; // the largest word\n                }\n                const factor = Math.pow(10, mag * 3);\n                const mant = Math.floor(num / factor);\n                const remainder = num - mant * factor;\n                words = (prev ? ', ' : '') + lookup(mant, false, false) + ' ' + magnitudes[mag - 1];\n                if (remainder > 0) {\n                    words += lookup(remainder, true, ord);\n                } else if (ord) {\n                    words += 'th';\n                }\n            }\n            return words;\n        };\n\n        var words = lookup(value, false, ordinal);\n        return words;\n    }\n\n    const wordValues = {};\n    few.forEach(function (word, index) {\n        wordValues[word.toLowerCase()] = index;\n    });\n    ordinals.forEach(function (word, index) {\n        wordValues[word.toLowerCase()] = index;\n    });\n    decades.forEach(function (word, index) {\n        const lword = word.toLowerCase();\n        wordValues[lword] = (index + 2) * 10;\n        wordValues[lword.substring(0, word.length - 1) + 'ieth'] = wordValues[lword];\n    });\n    wordValues.hundredth = 100;\n    magnitudes.forEach(function (word, index) {\n        const lword = word.toLowerCase();\n        const val = Math.pow(10, (index + 1) * 3);\n        wordValues[lword] = val;\n        wordValues[lword + 'th'] = val;\n    });\n\n    /**\n     * Converts a number in english words to numeric value\n     * @param {string} text - the number in words\n     * @returns {number} - the numeric value\n     */\n    function wordsToNumber(text) {\n        const parts = text.split(/,\\s|\\sand\\s|[\\s\\\\-]/);\n        const values = parts.map(part => wordValues[part]);\n        let segs = [0];\n        values.forEach(value => {\n            if (value < 100) {\n                let top = segs.pop();\n                if (top >= 1000) {\n                    segs.push(top);\n                    top = 0;\n                }\n                segs.push(top + value);\n            } else {\n                segs.push(segs.pop() * value);\n            }\n        });\n        const result = segs.reduce((a, b) => a + b, 0);\n        return result;\n    }\n\n    const romanNumerals = [\n        [1000, 'm'],\n        [900, 'cm'],\n        [500, 'd'],\n        [400, 'cd'],\n        [100, 'c'],\n        [90, 'xc'],\n        [50, 'l'],\n        [40, 'xl'],\n        [10, 'x'],\n        [9, 'ix'],\n        [5, 'v'],\n        [4, 'iv'],\n        [1, 'i']\n    ];\n\n    const romanValues = {'M': 1000, 'D': 500, 'C': 100, 'L': 50, 'X': 10, 'V': 5, 'I': 1};\n\n    /**\n     * converts a number to roman numerals\n     * @param {number} value - the number\n     * @returns {string} - the number in roman numerals\n     */\n    function decimalToRoman(value) {\n        for (var index = 0; index < romanNumerals.length; index++) {\n            const numeral = romanNumerals[index];\n            if (value >= numeral[0]) {\n                return numeral[1] + decimalToRoman(value - numeral[0]);\n            }\n        }\n        return '';\n    }\n\n    /**\n     * converts roman numerals to a number\n     * @param {string} roman - roman number\n     * @returns {number} - the numeric value\n     */\n    function romanToDecimal(roman) {\n        var decimal = 0;\n        var max = 1;\n        for (var i = roman.length - 1; i >= 0; i--) {\n            const digit = roman[i];\n            const value = romanValues[digit];\n            if (value < max) {\n                decimal -= value;\n            } else {\n                max = value;\n                decimal += value;\n            }\n        }\n        return decimal;\n    }\n\n    /**\n     * converts a number to spreadsheet style letters\n     * @param {number} value - the number\n     * @param {string} aChar - the character representing the start of the sequence, e.g. 'A'\n     * @returns {string} - the letters\n     */\n    function decimalToLetters(value, aChar) {\n        var letters = [];\n        var aCode = aChar.charCodeAt(0);\n        while (value > 0) {\n            letters.unshift(String.fromCharCode((value - 1) % 26 + aCode));\n            value = Math.floor((value - 1) / 26);\n        }\n        return letters.join('');\n    }\n\n    /**\n     * converts spreadsheet style letters to a number\n     * @param {string} letters - the letters\n     * @param {string} aChar - the character representing the start of the sequence, e.g. 'A'\n     * @returns {number} - the numeric value\n     */\n    function lettersToDecimal(letters, aChar) {\n        var aCode = aChar.charCodeAt(0);\n        var decimal = 0;\n        for (var i = 0; i < letters.length; i++) {\n            decimal += (letters.charCodeAt(letters.length - i - 1) - aCode + 1) * Math.pow(26, i);\n        }\n        return decimal;\n    }\n\n    /**\n     * Formats an integer as specified by the XPath fn:format-integer function\n     * See https://www.w3.org/TR/xpath-functions-31/#func-format-integer\n     * @param {number} value - the number to be formatted\n     * @param {string} picture - the picture string that specifies the format\n     * @returns {string} - the formatted number\n     */\n    function formatInteger(value, picture) {\n        if (typeof value === 'undefined') {\n            return undefined;\n        }\n\n        value = Math.floor(value);\n\n        const format = analyseIntegerPicture(picture);\n        return _formatInteger(value, format);\n    }\n\n    const formats = {\n        DECIMAL: 'decimal',\n        LETTERS: 'letters',\n        ROMAN: 'roman',\n        WORDS: 'words',\n        SEQUENCE: 'sequence'\n    };\n\n    const tcase = {\n        UPPER: 'upper',\n        LOWER: 'lower',\n        TITLE: 'title'\n    };\n\n    /**\n     * formats an integer using a preprocessed representation of the picture string\n     * @param {number} value - the number to be formatted\n     * @param {object} format - the preprocessed representation of the pucture string\n     * @returns {string} - the formatted number\n     * @private\n     */\n    function _formatInteger(value, format) {\n        let formattedInteger;\n        const negative = value < 0;\n        value = Math.abs(value);\n        switch (format.primary) {\n            case formats.LETTERS:\n                formattedInteger = decimalToLetters(value, format.case === tcase.UPPER ? 'A' : 'a');\n                break;\n            case formats.ROMAN:\n                formattedInteger = decimalToRoman(value);\n                if (format.case === tcase.UPPER) {\n                    formattedInteger = formattedInteger.toUpperCase();\n                }\n                break;\n            case formats.WORDS:\n                formattedInteger = numberToWords(value, format.ordinal);\n                if (format.case === tcase.UPPER) {\n                    formattedInteger = formattedInteger.toUpperCase();\n                } else if (format.case === tcase.LOWER) {\n                    formattedInteger = formattedInteger.toLowerCase();\n                }\n                break;\n            case formats.DECIMAL:\n                formattedInteger = '' + value;\n                // TODO use functionPad\n                var padLength = format.mandatoryDigits - formattedInteger.length;\n                if (padLength > 0) {\n                    var padding = (new Array(padLength + 1)).join('0');\n                    formattedInteger = padding + formattedInteger;\n                }\n                if (format.zeroCode !== 0x30) {\n                    formattedInteger = stringToArray(formattedInteger).map(code => {\n                        return String.fromCodePoint(code.codePointAt(0) + format.zeroCode - 0x30);\n                    }).join('');\n                }\n                // insert the grouping-separator-signs, if any\n                if (format.regular) {\n                    const n = Math.floor((formattedInteger.length - 1) / format.groupingSeparators.position);\n                    for (let ii = n; ii > 0; ii--) {\n                        const pos = formattedInteger.length - ii * format.groupingSeparators.position;\n                        formattedInteger = formattedInteger.substr(0, pos) + format.groupingSeparators.character + formattedInteger.substr(pos);\n                    }\n                } else {\n                    format.groupingSeparators.reverse().forEach(separator => {\n                        const pos = formattedInteger.length - separator.position;\n                        formattedInteger = formattedInteger.substr(0, pos) + separator.character + formattedInteger.substr(pos);\n                    });\n                }\n\n                if (format.ordinal) {\n                    var suffix123 = {'1': 'st', '2': 'nd', '3': 'rd'};\n                    var lastDigit = formattedInteger[formattedInteger.length - 1];\n                    var suffix = suffix123[lastDigit];\n                    if (!suffix || (formattedInteger.length > 1 && formattedInteger[formattedInteger.length - 2] === '1')) {\n                        suffix = 'th';\n                    }\n                    formattedInteger = formattedInteger + suffix;\n                }\n                break;\n            case formats.SEQUENCE:\n                throw {\n                    code: 'D3130',\n                    value: format.token\n                };\n        }\n        if (negative) {\n            formattedInteger = '-' + formattedInteger;\n        }\n\n        return formattedInteger;\n    }\n\n    //TODO what about decimal groups in the unicode supplementary planes (surrogate pairs) ???\n    const decimalGroups = [0x30, 0x0660, 0x06F0, 0x07C0, 0x0966, 0x09E6, 0x0A66, 0x0AE6, 0x0B66, 0x0BE6, 0x0C66, 0x0CE6, 0x0D66, 0x0DE6, 0x0E50, 0x0ED0, 0x0F20, 0x1040, 0x1090, 0x17E0, 0x1810, 0x1946, 0x19D0, 0x1A80, 0x1A90, 0x1B50, 0x1BB0, 0x1C40, 0x1C50, 0xA620, 0xA8D0, 0xA900, 0xA9D0, 0xA9F0, 0xAA50, 0xABF0, 0xFF10];\n\n    /**\n     * preprocesses the picture string\n     * @param {string} picture - picture string\n     * @returns {{type: string, primary: string, case: string, ordinal: boolean}} - analysed picture\n     */\n    function analyseIntegerPicture(picture) {\n        const format = {\n            type: 'integer',\n            primary: formats.DECIMAL,\n            case: tcase.LOWER,\n            ordinal: false\n        };\n\n        let primaryFormat, formatModifier;\n        const semicolon = picture.lastIndexOf(';');\n        if (semicolon === -1) {\n            primaryFormat = picture;\n        } else {\n            primaryFormat = picture.substring(0, semicolon);\n            formatModifier = picture.substring(semicolon + 1);\n            if (formatModifier[0] === 'o') {\n                format.ordinal = true;\n            }\n        }\n\n        /* eslnt-disable-next no-fallthrough */\n        switch (primaryFormat) {\n            case 'A':\n                format.case = tcase.UPPER;\n            /* eslnt-disable-next-line no-fallthrough */\n            case 'a':\n                format.primary = formats.LETTERS;\n                break;\n            case 'I':\n                format.case = tcase.UPPER;\n            /* eslnt-disable-next-line no-fallthrough */\n            case 'i':\n                format.primary = formats.ROMAN;\n                break;\n            case 'W':\n                format.case = tcase.UPPER;\n                format.primary = formats.WORDS;\n                break;\n            case 'Ww':\n                format.case = tcase.TITLE;\n                format.primary = formats.WORDS;\n                break;\n            case 'w':\n                format.primary = formats.WORDS;\n                break;\n            default: {\n                // this is a decimal-digit-pattern if it contains a decimal digit (from any unicode decimal digit group)\n                let zeroCode = null;\n                let mandatoryDigits = 0;\n                let optionalDigits = 0;\n                let groupingSeparators = [];\n                let separatorPosition = 0;\n                const formatCodepoints = stringToArray(primaryFormat).map(c => c.codePointAt(0)).reverse(); // reverse the array to determine positions of grouping-separator-signs\n                formatCodepoints.forEach((codePoint) => {\n                    // step though each char in the picture to determine the digit group\n                    let digit = false;\n                    for (let ii = 0; ii < decimalGroups.length; ii++) {\n                        const group = decimalGroups[ii];\n                        if (codePoint >= group && codePoint <= group + 9) {\n                            // codepoint is part of this decimal group\n                            digit = true;\n                            mandatoryDigits++;\n                            separatorPosition++;\n                            if (zeroCode === null) {\n                                zeroCode = group;\n                            } else if (group !== zeroCode) {\n                                // error! different decimal groups in the same pattern\n                                throw {\n                                    code: 'D3131'\n                                };\n                            }\n                            break;\n                        }\n                    }\n                    if (!digit) {\n                        if (codePoint === 0x23) { // # - optional-digit-sign\n                            separatorPosition++;\n                            optionalDigits++;\n                        } else {\n                            // neither a decimal-digit-sign ot optional-digit-sign, assume it is a grouping-separator-sign\n                            groupingSeparators.push({\n                                position: separatorPosition,\n                                character: String.fromCodePoint(codePoint)\n                            });\n                        }\n                    }\n                });\n                if (mandatoryDigits > 0) {\n                    format.primary = formats.DECIMAL;\n                    // TODO validate decimal-digit-pattern\n\n                    // the decimal digit family (codepoint offset)\n                    format.zeroCode = zeroCode;\n                    // the number of mandatory digits\n                    format.mandatoryDigits = mandatoryDigits;\n                    // the number of optional digits\n                    format.optionalDigits = optionalDigits;\n                    // grouping separator template\n                    // are the grouping-separator-signs 'regular'?\n                    const regularRepeat = function (separators) {\n                        // are the grouping positions regular? i.e. same interval between each of them\n                        // is there at least one separator?\n                        if (separators.length === 0) {\n                            return 0;\n                        }\n                        // are all the characters the same?\n                        const sepChar = separators[0].character;\n                        for (let ii = 1; ii < separators.length; ii++) {\n                            if (separators[ii].character !== sepChar) {\n                                return 0;\n                            }\n                        }\n                        // are they equally spaced?\n                        const indexes = separators.map(separator => separator.position);\n                        const gcd = function (a, b) {\n                            return b === 0 ? a : gcd(b, a % b);\n                        };\n                        // find the greatest common divisor of all the positions\n                        const factor = indexes.reduce(gcd);\n                        // is every position separated by this divisor? If so, it's regular\n                        for (let index = 1; index <= indexes.length; index++) {\n                            if (indexes.indexOf(index * factor) === -1) {\n                                return 0;\n                            }\n                        }\n                        return factor;\n                    };\n\n                    const regular = regularRepeat(groupingSeparators);\n                    if (regular > 0) {\n                        format.regular = true;\n                        format.groupingSeparators = {\n                            position: regular,\n                            character: groupingSeparators[0].character\n                        };\n                    } else {\n                        format.regular = false;\n                        format.groupingSeparators = groupingSeparators;\n                    }\n\n                } else {\n                    // this is a 'numbering sequence' which the spec says is implementation-defined\n                    // this implementation doesn't support any numbering sequences at the moment.\n                    format.primary = formats.SEQUENCE;\n                    format.token = primaryFormat;\n                }\n            }\n        }\n\n        return format;\n    }\n\n    const defaultPresentationModifiers = {\n        Y: '1', M: '1', D: '1', d: '1', F: 'n', W: '1', w: '1', X: '1', x: '1', H: '1', h: '1',\n        P: 'n', m: '01', s: '01', f: '1', Z: '01:01', z: '01:01', C: 'n', E: 'n'\n    };\n\n    // §9.8.4.1 the format specifier is an array of string literals and variable markers\n    /**\n     * analyse the date-time picture string\n     * @param {string} picture - picture string\n     * @returns {{type: string, parts: Array}} - the analysed string\n     */\n    function analyseDateTimePicture(picture) {\n        var spec = [];\n        const format = {\n            type: 'datetime',\n            parts: spec\n        };\n        const addLiteral = function (start, end) {\n            if (end > start) {\n                let literal = picture.substring(start, end);\n                // replace any doubled ]] with single ]\n                // what if there are instances of single ']' ? - the spec doesn't say\n                literal = literal.split(']]').join(']');\n                spec.push({type: 'literal', value: literal});\n            }\n        };\n\n        var start = 0, pos = 0;\n        while (pos < picture.length) {\n            if (picture.charAt(pos) === '[') {\n                // check it's not a doubled [[\n                if (picture.charAt(pos + 1) === '[') {\n                    // literal [\n                    addLiteral(start, pos);\n                    spec.push({type: 'literal', value: '['});\n                    pos += 2;\n                    start = pos;\n                    continue;\n                }\n                // start of variable marker\n                // push the string literal (if there is one) onto the array\n                addLiteral(start, pos);\n                start = pos;\n                // search forward to closing ]\n                pos = picture.indexOf(']', start);\n                // TODO handle error case if pos === -1\n                if(pos === -1) {\n                    // error - no closing bracket\n                    throw {\n                        code: 'D3135'\n                    };\n                }\n                let marker = picture.substring(start + 1, pos);\n                // whitespace within a variable marker is ignored (i.e. remove it)\n                marker = marker.split(/\\s+/).join('');\n                var def = {\n                    type: 'marker',\n                    component: marker.charAt(0)  // 1. The component specifier is always present and is always a single letter.\n                };\n                var comma = marker.lastIndexOf(','); // 2. The width modifier may be recognized by the presence of a comma\n                var presMod; // the presentation modifiers\n                if (comma !== -1) {\n                    // §9.8.4.2 The Width Modifier\n                    const widthMod = marker.substring(comma + 1);\n                    const dash = widthMod.indexOf('-');\n                    let min, max;\n                    const parseWidth = function (wm) {\n                        if (typeof wm === 'undefined' || wm === '*') {\n                            return undefined;\n                        } else {\n                            // TODO validate wm is an unsigned int\n                            return parseInt(wm);\n                        }\n                    };\n                    if (dash === -1) {\n                        min = widthMod;\n                    } else {\n                        min = widthMod.substring(0, dash);\n                        max = widthMod.substring(dash + 1);\n                    }\n                    const widthDef = {\n                        min: parseWidth(min),\n                        max: parseWidth(max)\n                    };\n                    def.width = widthDef;\n                    presMod = marker.substring(1, comma);\n                } else {\n                    presMod = marker.substring(1);\n                }\n                if (presMod.length === 1) {\n                    def.presentation1 = presMod; // first presentation modifier\n                    //TODO validate the first presentation modifier - it's either N, n, Nn or it passes analyseIntegerPicture\n                } else if (presMod.length > 1) {\n                    var lastChar = presMod.charAt(presMod.length - 1);\n                    if ('atco'.indexOf(lastChar) !== -1) {\n                        def.presentation2 = lastChar;\n                        if (lastChar === 'o') {\n                            def.ordinal = true;\n                        }\n                        // 'c' means 'cardinal' and is the default (i.e. not 'ordinal')\n                        // 'a' & 't' are ignored (not sure of their relevance to English numbering)\n                        def.presentation1 = presMod.substring(0, presMod.length - 1);\n                    } else {\n                        def.presentation1 = presMod;\n                        //TODO validate the first presentation modifier - it's either N, n, Nn or it passes analyseIntegerPicture,\n                        // doesn't use ] as grouping separator, and if grouping separator is , then must have width modifier\n                    }\n                } else {\n                    // no presentation modifier specified - apply the default;\n                    def.presentation1 = defaultPresentationModifiers[def.component];\n                }\n                if (typeof def.presentation1 === 'undefined') {\n                    // unknown component specifier\n                    throw {\n                        code: 'D3132',\n                        value: def.component\n                    };\n                }\n                if (def.presentation1[0] === 'n') {\n                    def.names = tcase.LOWER;\n                } else if (def.presentation1[0] === 'N') {\n                    if (def.presentation1[1] === 'n') {\n                        def.names = tcase.TITLE;\n                    } else {\n                        def.names = tcase.UPPER;\n                    }\n                } else if ('YMDdFWwXxHhmsf'.indexOf(def.component) !== -1) {\n                    var integerPattern = def.presentation1;\n                    if (def.presentation2) {\n                        integerPattern += ';' + def.presentation2;\n                    }\n                    def.integerFormat = analyseIntegerPicture(integerPattern);\n                    if (def.width && def.width.min !== undefined) {\n                        if (def.integerFormat.mandatoryDigits < def.width.min) {\n                            def.integerFormat.mandatoryDigits = def.width.min;\n                        }\n                    }\n                    if ('YMD'.indexOf(def.component) !== -1) {\n                        // §9.8.4.4\n                        def.n = -1;\n                        if (def.width && def.width.max !== undefined) {\n                            def.n = def.width.max;\n                            def.integerFormat.mandatoryDigits = def.n;\n                        } else {\n                            var w = def.integerFormat.mandatoryDigits + def.integerFormat.optionalDigits;\n                            if (w >= 2) {\n                                def.n = w;\n                            }\n                        }\n                    }\n                }\n                if (def.component === 'Z' || def.component === 'z') {\n                    def.integerFormat = analyseIntegerPicture(def.presentation1);\n                }\n                spec.push(def);\n                start = pos + 1;\n            }\n            pos++;\n        }\n        addLiteral(start, pos);\n        return format;\n    }\n\n    const days = ['', 'Monday', 'Tuesday', 'Wednesday', 'Thursday', 'Friday', 'Saturday', 'Sunday'];\n    const months = ['January', 'February', 'March', 'April', 'May', 'June', 'July', 'August', 'September', 'October', 'November', 'December'];\n    const millisInADay = 1000 * 60 * 60 * 24;\n\n    const startOfFirstWeek = function (ym) {\n        // ISO 8601 defines the first week of the year to be the week that contains the first Thursday\n        // XPath F&O extends this same definition for the first week of a month\n        // the week starts on a Monday - calculate the millis for the start of the first week\n        // millis for given 1st Jan of that year (at 00:00 UTC)\n        const jan1 = Date.UTC(ym.year, ym.month);\n        var dayOfJan1 = (new Date(jan1)).getUTCDay();\n        if (dayOfJan1 === 0) {\n            dayOfJan1 = 7;\n        }\n        // if Jan 1 is Fri, Sat or Sun, then add the number of days (in millis) to jan1 to get the start of week 1\n        return dayOfJan1 > 4 ? jan1 + (8 - dayOfJan1) * millisInADay : jan1 - (dayOfJan1 - 1) * millisInADay;\n    };\n\n    const yearMonth = function (year, month) {\n        return {\n            year: year,\n            month: month,\n            nextMonth: function () {\n                return (month === 11) ? yearMonth(year + 1, 0) : yearMonth(year, month + 1);\n            },\n            previousMonth: function () {\n                return (month === 0) ? yearMonth(year - 1, 11) : yearMonth(year, month - 1);\n            },\n            nextYear: function () {\n                return yearMonth(year + 1, month);\n            },\n            previousYear: function () {\n                return yearMonth(year - 1, month);\n            }\n        };\n    };\n\n    const deltaWeeks = function (start, end) {\n        return (end - start) / (millisInADay * 7) + 1;\n    };\n\n    const getDateTimeFragment = (date, component) => {\n        let componentValue;\n        switch (component) {\n            case 'Y': // year\n                componentValue = date.getUTCFullYear();\n                break;\n            case 'M': // month in year\n                componentValue = date.getUTCMonth() + 1;\n                break;\n            case 'D': // day in month\n                componentValue = date.getUTCDate();\n                break;\n            case 'd': { // day in year\n                // millis for given date (at 00:00 UTC)\n                const today = Date.UTC(date.getUTCFullYear(), date.getUTCMonth(), date.getUTCDate());\n                // millis for given 1st Jan of that year (at 00:00 UTC)\n                const firstJan = Date.UTC(date.getUTCFullYear(), 0);\n                componentValue = (today - firstJan) / millisInADay + 1;\n                break;\n            }\n            case 'F': // day of week\n                componentValue = date.getUTCDay();\n                if (componentValue === 0) {\n                    // ISO 8601 defines days 1-7: Mon-Sun\n                    componentValue = 7;\n                }\n                break;\n            case 'W': { // week in year\n                const thisYear = yearMonth(date.getUTCFullYear(), 0);\n                const startOfWeek1 = startOfFirstWeek(thisYear);\n                const today = Date.UTC(thisYear.year, date.getUTCMonth(), date.getUTCDate());\n                let week = deltaWeeks(startOfWeek1, today);\n                if (week > 52) {\n                    // might be first week of the following year\n                    const startOfFollowingYear = startOfFirstWeek(thisYear.nextYear());\n                    if (today >= startOfFollowingYear) {\n                        week = 1;\n                    }\n                } else if (week < 1) {\n                    // must be end of the previous year\n                    const startOfPreviousYear = startOfFirstWeek(thisYear.previousYear());\n                    week = deltaWeeks(startOfPreviousYear, today);\n                }\n                componentValue = Math.floor(week);\n                break;\n            }\n            case 'w': { // week in month\n                const thisMonth = yearMonth(date.getUTCFullYear(), date.getUTCMonth());\n                const startOfWeek1 = startOfFirstWeek(thisMonth);\n                const today = Date.UTC(thisMonth.year, thisMonth.month, date.getUTCDate());\n                let week = deltaWeeks(startOfWeek1, today);\n                if (week > 4) {\n                    // might be first week of the following month\n                    const startOfFollowingMonth = startOfFirstWeek(thisMonth.nextMonth());\n                    if (today >= startOfFollowingMonth) {\n                        week = 1;\n                    }\n                } else if (week < 1) {\n                    // must be end of the previous month\n                    const startOfPreviousMonth = startOfFirstWeek(thisMonth.previousMonth());\n                    week = deltaWeeks(startOfPreviousMonth, today);\n                }\n                componentValue = Math.floor(week);\n                break;\n            }\n            case 'X': { // ISO week-numbering year\n                // Extension: The F&O spec says nothing about how to access the year associated with the week-of-the-year\n                // e.g. Sat 1 Jan 2005 is in the 53rd week of 2004.\n                // The 'W' component specifier gives 53, but 'Y' will give 2005.\n                // I propose to add 'X' as the component specifier to give the ISO week-numbering year (2004 in this example)\n                const thisYear = yearMonth(date.getUTCFullYear(), 0);\n                const startOfISOYear = startOfFirstWeek(thisYear);\n                const endOfISOYear = startOfFirstWeek(thisYear.nextYear());\n                const now = date.getTime();\n                if (now < startOfISOYear) {\n                    componentValue = thisYear.year - 1;\n                } else if (now >= endOfISOYear) {\n                    componentValue = thisYear.year + 1;\n                } else {\n                    componentValue = thisYear.year;\n                }\n                break;\n            }\n            case 'x': { // ISO week-numbering month\n                // Extension: The F&O spec says nothing about how to access the month associated with the week-of-the-month\n                // e.g. Sat 1 Jan 2005 is in the 5th week of December 2004.\n                // The 'w' component specifier gives 5, but 'W' will give January and 'Y' will give 2005.\n                // I propose to add 'x' as the component specifier to give the 'week-numbering' month (December in this example)\n                const thisMonth = yearMonth(date.getUTCFullYear(), date.getUTCMonth());\n                const startOfISOMonth = startOfFirstWeek(thisMonth);\n                const nextMonth = thisMonth.nextMonth();\n                const endOfISOMonth = startOfFirstWeek(nextMonth);\n                const now = date.getTime();\n                if (now < startOfISOMonth) {\n                    componentValue = thisMonth.previousMonth().month + 1;\n                } else if (now >= endOfISOMonth) {\n                    componentValue = nextMonth.month + 1;\n                } else {\n                    componentValue = thisMonth.month + 1;\n                }\n                break;\n            }\n            case 'H': // hour in day (24 hours)\n                componentValue = date.getUTCHours();\n                break;\n            case 'h': // hour in half-day (12 hours)\n                componentValue = date.getUTCHours();\n                componentValue = componentValue % 12;\n                if (componentValue === 0) {\n                    componentValue = 12;\n                }\n                break;\n            case 'P': // am/pm marker\n                componentValue = date.getUTCHours() >= 12 ? 'pm' : 'am';\n                break;\n            case 'm': // minute in hour\n                componentValue = date.getUTCMinutes();\n                break;\n            case 's': // second in minute\n                componentValue = date.getUTCSeconds();\n                break;\n            case 'f': // fractional seconds\n                componentValue = date.getUTCMilliseconds();\n                break;\n            case 'Z': // timezone\n            case 'z':\n                // since the date object is constructed from epoch millis, the TZ component is always be UTC.\n                break;\n            case 'C': // calendar name\n                componentValue = 'ISO';\n                break;\n            case 'E': // era\n                componentValue = 'ISO';\n                break;\n        }\n        return componentValue;\n    };\n\n    let iso8601Spec = null;\n\n    /**\n     * formats the date/time as specified by the XPath fn:format-dateTime function\n     * @param {number} millis - the timestamp to be formatted, in millis since the epoch\n     * @param {string} picture - the picture string that specifies the format\n     * @param {string} timezone - the timezone to use\n     * @returns {string} - the formatted timestamp\n     */\n    function formatDateTime(millis, picture, timezone) {\n        var offsetHours = 0;\n        var offsetMinutes = 0;\n\n        if (typeof timezone !== 'undefined') {\n            // parse the hour and minute offsets\n            // assume for now the format supplied is +hhmm\n            const offset = parseInt(timezone);\n            offsetHours = Math.floor(offset / 100);\n            offsetMinutes = offset % 100;\n        }\n\n        var formatComponent = function (date, markerSpec) {\n            var componentValue = getDateTimeFragment(date, markerSpec.component);\n\n            // §9.8.4.3 Formatting Integer-Valued Date/Time Components\n            if ('YMDdFWwXxHhms'.indexOf(markerSpec.component) !== -1) {\n                if (markerSpec.component === 'Y') {\n                    // §9.8.4.4 Formatting the Year Component\n                    if (markerSpec.n !== -1) {\n                        componentValue = componentValue % Math.pow(10, markerSpec.n);\n                    }\n                }\n                if (markerSpec.names) {\n                    if (markerSpec.component === 'M' || markerSpec.component === 'x') {\n                        componentValue = months[componentValue - 1];\n                    } else if (markerSpec.component === 'F') {\n                        componentValue = days[componentValue];\n                    } else {\n                        throw {\n                            code: 'D3133',\n                            value: markerSpec.component\n                        };\n                    }\n                    if (markerSpec.names === tcase.UPPER) {\n                        componentValue = componentValue.toUpperCase();\n                    } else if (markerSpec.names === tcase.LOWER) {\n                        componentValue = componentValue.toLowerCase();\n                    }\n                    if (markerSpec.width && componentValue.length > markerSpec.width.max) {\n                        componentValue = componentValue.substring(0, markerSpec.width.max);\n                    }\n                } else {\n                    componentValue = _formatInteger(componentValue, markerSpec.integerFormat);\n                }\n            } else if (markerSpec.component === 'f') {\n                // TODO §9.8.4.5 Formatting Fractional Seconds\n                componentValue = _formatInteger(componentValue, markerSpec.integerFormat);\n            } else if (markerSpec.component === 'Z' || markerSpec.component === 'z') {\n                // §9.8.4.6 Formatting timezones\n                const offset = offsetHours * 100 + offsetMinutes;\n                if (markerSpec.integerFormat.regular) {\n                    componentValue = _formatInteger(offset, markerSpec.integerFormat);\n                } else {\n                    const numDigits = markerSpec.integerFormat.mandatoryDigits;\n                    if (numDigits === 1 || numDigits === 2) {\n                        componentValue = _formatInteger(offsetHours, markerSpec.integerFormat);\n                        if (offsetMinutes !== 0) {\n                            componentValue += ':' + formatInteger(offsetMinutes, '00');\n                        }\n                    } else if (numDigits === 3 || numDigits === 4) {\n                        componentValue = _formatInteger(offset, markerSpec.integerFormat);\n                    } else {\n                        throw {\n                            code: 'D3134',\n                            value: numDigits\n                        };\n                    }\n                }\n                if (offset >= 0) {\n                    componentValue = '+' + componentValue;\n                }\n                if (markerSpec.component === 'z') {\n                    componentValue = 'GMT' + componentValue;\n                }\n                if (offset === 0 && markerSpec.presentation2 === 't') {\n                    componentValue = 'Z';\n                }\n            }\n            return componentValue;\n        };\n\n        let formatSpec;\n        if(typeof picture === 'undefined') {\n            // default to ISO 8601 format\n            if (iso8601Spec === null) {\n                iso8601Spec = analyseDateTimePicture('[Y0001]-[M01]-[D01]T[H01]:[m01]:[s01].[f001][Z01:01t]');\n            }\n            formatSpec = iso8601Spec;\n        } else {\n            formatSpec = analyseDateTimePicture(picture);\n        }\n\n        const offsetMillis = (60 * offsetHours + offsetMinutes) * 60 * 1000;\n        const dateTime = new Date(millis + offsetMillis);\n\n        let result = '';\n        formatSpec.parts.forEach(function (part) {\n            if (part.type === 'literal') {\n                result += part.value;\n            } else {\n                result += formatComponent(dateTime, part);\n            }\n        });\n\n        return result;\n    }\n\n    /**\n     * Generate a regex to parse integers or timestamps\n     * @param {object} formatSpec - object representing the format\n     * @returns {object} - regex\n     */\n    function generateRegex(formatSpec) {\n        var matcher = {};\n        if (formatSpec.type === 'datetime') {\n            matcher.type = 'datetime';\n            matcher.parts = formatSpec.parts.map(function (part) {\n                var res = {};\n                if (part.type === 'literal') {\n                    res.regex = part.value.replace(/[.*+?^${}()|[\\]\\\\]/g, '\\\\$&');\n                } else if (part.component === 'Z' || part.component === 'z') {\n                    // timezone\n                    let separator;\n                    if (!Array.isArray(part.integerFormat.groupingSeparators)) {\n                        separator = part.integerFormat.groupingSeparators;\n                    }\n                    res.regex = '';\n                    if (part.component === 'z') {\n                        res.regex = 'GMT';\n                    }\n                    res.regex += '[-+][0-9]+';\n                    if (separator) {\n                        res.regex += separator.character + '[0-9]+';\n                    }\n                    res.parse = function(value) {\n                        if (part.component === 'z') {\n                            value = value.substring(3); // remove the leading GMT\n                        }\n                        let offsetHours = 0, offsetMinutes = 0;\n                        if (separator) {\n                            offsetHours = Number.parseInt(value.substring(0, value.indexOf(separator.character)));\n                            offsetMinutes = Number.parseInt(value.substring(value.indexOf(separator.character) + 1));\n                        } else {\n                            // depends on number of digits\n                            const numdigits = value.length - 1;\n                            if (numdigits <= 2) {\n                                // just hour offset\n                                offsetHours = Number.parseInt(value);\n                            } else {\n                                offsetHours = Number.parseInt(value.substring(0, 3));\n                                offsetMinutes = Number.parseInt(value.substring(3));\n                            }\n                        }\n                        return offsetHours * 60 + offsetMinutes;\n                    };\n                } else if (part.integerFormat) {\n                    part.integerFormat.n = part.n;\n                    res = generateRegex(part.integerFormat);\n                } else {\n                    // must be a month or day name\n                    res.regex = '[a-zA-Z]+';\n                    var lookup = {};\n                    if (part.component === 'M' || part.component === 'x') {\n                        // months\n                        months.forEach(function (name, index) {\n                            if (part.width && part.width.max) {\n                                lookup[name.substring(0, part.width.max)] = index + 1;\n                            } else {\n                                lookup[name] = index + 1;\n                            }\n                        });\n                    } else if (part.component === 'F') {\n                        // days\n                        days.forEach(function (name, index) {\n                            if (index > 0) {\n                                if (part.width && part.width.max) {\n                                    lookup[name.substring(0, part.width.max)] = index;\n                                } else {\n                                    lookup[name] = index;\n                                }\n                            }\n                        });\n                    } else if (part.component === 'P') {\n                        lookup = {'am': 0, 'AM': 0, 'pm': 1, 'PM': 1};\n                    } else {\n                        // unsupported 'name' option for this component\n                        throw {\n                            code: 'D3133',\n                            value: part.component\n                        };\n                    }\n                    res.parse = function (value) {\n                        return lookup[value];\n                    };\n                }\n                res.component = part.component;\n                return res;\n            });\n        } else { // type === 'integer'\n            matcher.type = 'integer';\n            const isUpper = formatSpec.case === tcase.UPPER;\n            let occurrences;\n            if(formatSpec.n && formatSpec.n > 0){\n                if(formatSpec.optionalDigits === 0){\n                    occurrences = `{${formatSpec.n}}`;\n                } else {\n                    occurrences = `{${formatSpec.n - formatSpec.optionalDigits},${formatSpec.n}}`;\n                }\n            } else {\n                occurrences = '+';\n            }\n\n            switch (formatSpec.primary) {\n                case formats.LETTERS:\n                    matcher.regex = isUpper ? '[A-Z]+' : '[a-z]+';\n                    matcher.parse = function (value) {\n                        return lettersToDecimal(value, isUpper ? 'A' : 'a');\n                    };\n                    break;\n                case formats.ROMAN:\n                    matcher.regex = isUpper ? '[MDCLXVI]+' : '[mdclxvi]+';\n                    matcher.parse = function (value) {\n                        return romanToDecimal(isUpper ? value : value.toUpperCase());\n                    };\n                    break;\n                case formats.WORDS:\n                    matcher.regex = '(?:' + Object.keys(wordValues).concat('and', '[\\\\-, ]').join('|') + ')+';\n                    matcher.parse = function (value) {\n                        return wordsToNumber(value.toLowerCase());\n                    };\n                    break;\n                case formats.DECIMAL:\n                    matcher.regex = `[0-9]${occurrences}`;\n                    if (formatSpec.ordinal) {\n                        // ordinals\n                        matcher.regex += '(?:th|st|nd|rd)';\n                    }\n                    matcher.parse = function (value) {\n                        let digits = value;\n                        if (formatSpec.ordinal) {\n                            // strip off the suffix\n                            digits = value.substring(0, value.length - 2);\n                        }\n                        // strip out the separators\n                        if (formatSpec.regular) {\n                            digits = digits.split(',').join('');\n                        } else {\n                            formatSpec.groupingSeparators.forEach(sep => {\n                                digits = digits.split(sep.character).join('');\n                            });\n                        }\n                        if (formatSpec.zeroCode !== 0x30) {\n                            // apply offset\n                            digits = digits.split('').map(char => String.fromCodePoint(char.codePointAt(0) - formatSpec.zeroCode + 0x30)).join('');\n                        }\n                        return parseInt(digits);\n                    };\n                    break;\n                case formats.SEQUENCE:\n                    throw {\n                        code: 'D3130',\n                        value: formatSpec.token\n                    };\n            }\n\n        }\n        return matcher;\n    }\n\n    /**\n     * parse a string containing an integer as specified by the picture string\n     * @param {string} value - the string to parse\n     * @param {string} picture - the picture string\n     * @returns {number} - the parsed number\n     */\n    function parseInteger(value, picture) {\n        if (typeof value === 'undefined') {\n            return undefined;\n        }\n\n        const formatSpec = analyseIntegerPicture(picture);\n        const matchSpec = generateRegex(formatSpec);\n        //const fullRegex = '^' + matchSpec.regex + '$';\n        //const matcher = new RegExp(fullRegex);\n        // TODO validate input based on the matcher regex\n        const result = matchSpec.parse(value);\n        return result;\n    }\n\n    /**\n     * parse a string containing a timestamp as specified by the picture string\n     * @param {string} timestamp - the string to parse\n     * @param {string} picture - the picture string\n     * @returns {number} - the parsed timestamp in millis since the epoch\n     */\n    function parseDateTime(timestamp, picture) {\n        const formatSpec = analyseDateTimePicture(picture);\n        const matchSpec = generateRegex(formatSpec);\n        const fullRegex = '^' + matchSpec.parts.map(part => '(' + part.regex + ')').join('') + '$';\n\n        const matcher = new RegExp(fullRegex, 'i'); // TODO can cache this against the picture\n        var info = matcher.exec(timestamp);\n        if (info !== null) {\n            // validate what we've just parsed - do we have enough information to create a timestamp?\n            // rules:\n            // The date is specified by one of:\n            //    {Y, M, D}    (dateA)\n            // or {Y, d}       (dateB)\n            // or {Y, x, w, F} (dateC)\n            // or {X, W, F}    (dateD)\n            // The time is specified by one of:\n            //    {H, m, s, f}    (timeA)\n            // or {P, h, m, s, f} (timeB)\n            // All sets can have an optional Z\n            // To create a timestamp (epoch millis) we need both date and time, but we can default missing\n            // information according to the following rules:\n            // - line up one combination of the above from date, and one from time, most significant value (MSV) to least significant (LSV\n            // - for the values that have been captured, if there are any gaps between MSV and LSV, then throw an error\n            //     (e.g.) if hour and seconds, but not minutes is given - throw\n            //     (e.g.) if month, hour and minutes, but not day-of-month is given - throw\n            // - anything right of the LSV should be defaulted to zero\n            //     (e.g.) if hour and minutes given, default seconds and fractional seconds to zero\n            //     (e.g.) if date only given, default the time to 0:00:00.000 (midnight)\n            // - anything left of the MSV should be defaulted to the value of that component returned by $now()\n            //     (e.g.) if time only given, default the date to today\n            //     (e.g.) if month and date given, default to this year (and midnight, by previous rule)\n            //   -- default values for X, x, W, w, F will be derived from the values returned by $now()\n\n            // implement the above rules\n            // determine which of the above date/time combinations we have by using bit masks\n\n            //        Y X M x W w d D F P H h m s f Z\n            // dateA  1 0 1 0 0 0 0 1 ?                     0 - must not appear\n            // dateB  1 0 0 0 0 0 1 0 ?                     1 - can appear - relevant\n            // dateC  0 1 0 1 0 1 0 0 1                     ? - can appear - ignored\n            // dateD  0 1 0 0 1 0 0 0 1\n            // timeA                    0 1 0 1 1 1\n            // timeB                    1 0 1 1 1 1\n\n            // create bitmasks based on the above\n            //    date mask             YXMxWwdD\n            const dmA = 161;  // binary 10100001\n            const dmB = 130;  // binary 10000010\n            const dmC = 84;   // binary 01010100\n            const dmD = 72;   // binary 01001000\n            //    time mask             PHhmsf\n            const tmA = 23;   // binary 010111\n            const tmB = 47;   // binary 101111\n\n            const components = {};\n            for (let i = 1; i < info.length; i++) {\n                const mpart = matchSpec.parts[i - 1];\n                if (mpart.parse) {\n                    components[mpart.component] = mpart.parse(info[i]);\n                }\n            }\n\n            if(Object.getOwnPropertyNames(components).length === 0) {\n                // nothing specified\n                return undefined;\n            }\n\n            let mask = 0;\n\n            const shift = bit => {\n                mask <<= 1;\n                mask += bit ? 1 : 0;\n            };\n\n            const isType = type => {\n                // shouldn't match any 0's, must match at least one 1\n                return !(~type & mask) && !!(type & mask);\n            };\n\n            'YXMxWwdD'.split('').forEach(part => shift(components[part]));\n\n            const dateA = isType(dmA);\n            const dateB = !dateA && isType(dmB);\n            const dateC = isType(dmC);\n            const dateD = !dateC && isType(dmD);\n\n            mask = 0;\n            'PHhmsf'.split('').forEach(part => shift(components[part]));\n\n            const timeA = isType(tmA);\n            const timeB = !timeA && isType(tmB);\n\n            // should only be zero or one date type and zero or one time type\n\n            const dateComps = dateB ? 'YD' : dateC ? 'XxwF' : dateD? 'XWF' : 'YMD';\n            const timeComps = timeB ? 'Phmsf' : 'Hmsf';\n\n            const comps = dateComps + timeComps;\n\n            // step through the candidate parts from most significant to least significant\n            // default the most significant unspecified parts to current timestamp component\n            // default the least significant unspecified parts to zero\n            // if any gaps in between the specified parts, throw an error\n\n            const now = this.environment.timestamp; // must get the fixed timestamp from jsonata\n\n            let startSpecified = false;\n            let endSpecified = false;\n            comps.split('').forEach(part => {\n                if(typeof components[part] === 'undefined') {\n                    if(startSpecified) {\n                        // past the specified block - default to zero\n                        components[part] = ('MDd'.indexOf(part) !== -1) ? 1 : 0;\n                        endSpecified = true;\n                    } else {\n                        // haven't hit the specified block yet, default to current timestamp\n                        components[part] = getDateTimeFragment(now, part);\n                    }\n                } else {\n                    startSpecified = true;\n                    if(endSpecified) {\n                        throw {\n                            code: 'D3136'\n                        };\n                    }\n                }\n            });\n\n            // validate and fill in components\n            if (components.M > 0) {\n                components.M -= 1;  // Date.UTC requires a zero-indexed month\n            } else {\n                components.M = 0; // default to January\n            }\n            if (dateB) {\n                // millis for given 1st Jan of that year (at 00:00 UTC)\n                const firstJan = Date.UTC(components.Y, 0);\n                const offsetMillis = (components.d - 1) * 1000 * 60 * 60 * 24;\n                const derivedDate = new Date(firstJan + offsetMillis);\n                components.M = derivedDate.getUTCMonth();\n                components.D = derivedDate.getUTCDate();\n            }\n            if (dateC) {\n                // TODO implement this\n                // parsing this format not currently supported\n                throw {\n                    code: 'D3136'\n                };\n            }\n            if (dateD) {\n                // TODO implement this\n                // parsing this format (ISO week date) not currently supported\n                throw {\n                    code: 'D3136'\n                };\n            }\n            if (timeB) {\n                // 12hr to 24hr\n                components.H = components.h === 12 ? 0 : components.h;\n                if (components.P === 1) {\n                    components.H += 12;\n                }\n            }\n\n            var millis = Date.UTC(components.Y, components.M, components.D, components.H, components.m, components.s, components.f);\n            if(components.Z || components.z) {\n                // adjust for timezone\n                millis -= (components.Z || components.z) * 60 * 1000;\n            }\n            return millis;\n        }\n    }\n\n    // Regular expression to match an ISO 8601 formatted timestamp\n    var iso8601regex = new RegExp('^\\\\d{4}(-[01]\\\\d)*(-[0-3]\\\\d)*(T[0-2]\\\\d:[0-5]\\\\d:[0-5]\\\\d)*(\\\\.\\\\d+)?([+-][0-2]\\\\d:?[0-5]\\\\d|Z)?$');\n\n    /**\n     * Converts an ISO 8601 timestamp to milliseconds since the epoch\n     *\n     * @param {string} timestamp - the timestamp to be converted\n     * @param {string} [picture] - the picture string defining the format of the timestamp (defaults to ISO 8601)\n     * @returns {Number} - milliseconds since the epoch\n     */\n    function toMillis(timestamp, picture) {\n        // undefined inputs always return undefined\n        if(typeof timestamp === 'undefined') {\n            return undefined;\n        }\n\n        if(typeof picture === 'undefined') {\n            if (!iso8601regex.test(timestamp)) {\n                throw {\n                    stack: (new Error()).stack,\n                    code: \"D3110\",\n                    value: timestamp\n                };\n            }\n\n            return Date.parse(timestamp);\n        } else {\n            return parseDateTime.call(this, timestamp, picture);\n        }\n    }\n\n    /**\n     * Converts milliseconds since the epoch to an ISO 8601 timestamp\n     * @param {Number} millis - milliseconds since the epoch to be converted\n     * @param {string} [picture] - the picture string defining the format of the timestamp (defaults to ISO 8601)\n     * @param {string} [timezone] - the timezone to format the timestamp in (defaults to UTC)\n     * @returns {String} - the formatted timestamp\n     */\n    function fromMillis(millis, picture, timezone) {\n        // undefined inputs always return undefined\n        if(typeof millis === 'undefined') {\n            return undefined;\n        }\n\n        return formatDateTime.call(this, millis, picture, timezone);\n    }\n\n    return {\n        formatInteger, parseInteger, fromMillis, toMillis\n    };\n})();\n\nmodule.exports = dateTime;\n\n},{\"./utils\":6}],2:[function(require,module,exports){\n(function (global){(function (){\n/**\n * © Copyright IBM Corp. 2016, 2018 All Rights Reserved\n *   Project name: JSONata\n *   This project is licensed under the MIT License, see LICENSE\n */\n\nvar utils = require('./utils');\n\nconst functions = (() => {\n    'use strict';\n\n    var isNumeric = utils.isNumeric;\n    var isArrayOfStrings = utils.isArrayOfStrings;\n    var isArrayOfNumbers = utils.isArrayOfNumbers;\n    var createSequence = utils.createSequence;\n    var isSequence = utils.isSequence;\n    var isFunction = utils.isFunction;\n    var isLambda = utils.isLambda;\n    var isIterable = utils.isIterable;\n    var getFunctionArity = utils.getFunctionArity;\n    var deepEquals = utils.isDeepEqual;\n    var stringToArray = utils.stringToArray;\n\n    /**\n     * Sum function\n     * @param {Object} args - Arguments\n     * @returns {number} Total value of arguments\n     */\n    function sum(args) {\n        // undefined inputs always return undefined\n        if (typeof args === 'undefined') {\n            return undefined;\n        }\n\n        var total = 0;\n        args.forEach(function (num) {\n            total += num;\n        });\n        return total;\n    }\n\n    /**\n     * Count function\n     * @param {Object} args - Arguments\n     * @returns {number} Number of elements in the array\n     */\n    function count(args) {\n        // undefined inputs always return undefined\n        if (typeof args === 'undefined') {\n            return 0;\n        }\n\n        return args.length;\n    }\n\n    /**\n     * Max function\n     * @param {Object} args - Arguments\n     * @returns {number} Max element in the array\n     */\n    function max(args) {\n        // undefined inputs always return undefined\n        if (typeof args === 'undefined' || args.length === 0) {\n            return undefined;\n        }\n\n        return Math.max.apply(Math, args);\n    }\n\n    /**\n     * Min function\n     * @param {Object} args - Arguments\n     * @returns {number} Min element in the array\n     */\n    function min(args) {\n        // undefined inputs always return undefined\n        if (typeof args === 'undefined' || args.length === 0) {\n            return undefined;\n        }\n\n        return Math.min.apply(Math, args);\n    }\n\n    /**\n     * Average function\n     * @param {Object} args - Arguments\n     * @returns {number} Average element in the array\n     */\n    function average(args) {\n        // undefined inputs always return undefined\n        if (typeof args === 'undefined' || args.length === 0) {\n            return undefined;\n        }\n\n        var total = 0;\n        args.forEach(function (num) {\n            total += num;\n        });\n        return total / args.length;\n    }\n\n    /**\n     * Stringify arguments\n     * @param {Object} arg - Arguments\n     * @param {boolean} [prettify] - Pretty print the result\n     * @returns {String} String from arguments\n     */\n    function string(arg, prettify = false) {\n        // undefined inputs always return undefined\n        if (typeof arg === 'undefined') {\n            return undefined;\n        }\n\n        var str;\n\n        if (typeof arg === 'string') {\n            // already a string\n            str = arg;\n        } else if (isFunction(arg)) {\n            // functions (built-in and lambda convert to empty string\n            str = '';\n        } else if (typeof arg === 'number' && !isFinite(arg)) {\n            throw {\n                code: \"D3001\",\n                value: arg,\n                stack: (new Error()).stack\n            };\n        } else {\n            var space = prettify ? 2 : 0;\n            if(Array.isArray(arg) && arg.outerWrapper) {\n                arg = arg[0];\n            }\n            str = JSON.stringify(arg, function (key, val) {\n                return (typeof val !== 'undefined' && val !== null && val.toPrecision && isNumeric(val)) ? Number(val.toPrecision(15)) :\n                    (val && isFunction(val)) ? '' : val;\n            }, space);\n        }\n        return str;\n    }\n\n    /**\n     * Create substring based on character number and length\n     * @param {String} str - String to evaluate\n     * @param {Integer} start - Character number to start substring\n     * @param {Integer} [length] - Number of characters in substring\n     * @returns {string|*} Substring\n     */\n    function substring(str, start, length) {\n        // undefined inputs always return undefined\n        if (typeof str === 'undefined') {\n            return undefined;\n        }\n\n        var strArray = stringToArray(str);\n        var strLength = strArray.length;\n\n        if (strLength + start < 0) {\n            start = 0;\n        }\n\n        if (typeof length !== 'undefined') {\n            if (length <= 0) {\n                return '';\n            }\n            var end = start >= 0 ? start + length : strLength + start + length;\n            return strArray.slice(start, end).join('');\n        }\n\n        return strArray.slice(start).join('');\n    }\n\n    /**\n     * Create substring up until a character\n     * @param {String} str - String to evaluate\n     * @param {String} chars - Character to define substring boundary\n     * @returns {*} Substring\n     */\n    function substringBefore(str, chars) {\n        // undefined inputs always return undefined\n        if (typeof str === 'undefined') {\n            return undefined;\n        }\n\n        var pos = str.indexOf(chars);\n        if (pos > -1) {\n            return str.substr(0, pos);\n        } else {\n            return str;\n        }\n    }\n\n    /**\n     * Create substring after a character\n     * @param {String} str - String to evaluate\n     * @param {String} chars - Character to define substring boundary\n     * @returns {*} Substring\n     */\n    function substringAfter(str, chars) {\n        // undefined inputs always return undefined\n        if (typeof str === 'undefined') {\n            return undefined;\n        }\n\n        var pos = str.indexOf(chars);\n        if (pos > -1) {\n            return str.substr(pos + chars.length);\n        } else {\n            return str;\n        }\n    }\n\n    /**\n     * Lowercase a string\n     * @param {String} str - String to evaluate\n     * @returns {string} Lowercase string\n     */\n    function lowercase(str) {\n        // undefined inputs always return undefined\n        if (typeof str === 'undefined') {\n            return undefined;\n        }\n\n        return str.toLowerCase();\n    }\n\n    /**\n     * Uppercase a string\n     * @param {String} str - String to evaluate\n     * @returns {string} Uppercase string\n     */\n    function uppercase(str) {\n        // undefined inputs always return undefined\n        if (typeof str === 'undefined') {\n            return undefined;\n        }\n\n        return str.toUpperCase();\n    }\n\n    /**\n     * length of a string\n     * @param {String} str - string\n     * @returns {Number} The number of characters in the string\n     */\n    function length(str) {\n        // undefined inputs always return undefined\n        if (typeof str === 'undefined') {\n            return undefined;\n        }\n\n        return stringToArray(str).length;\n    }\n\n    /**\n     * Normalize and trim whitespace within a string\n     * @param {string} str - string to be trimmed\n     * @returns {string} - trimmed string\n     */\n    function trim(str) {\n        // undefined inputs always return undefined\n        if (typeof str === 'undefined') {\n            return undefined;\n        }\n\n        // normalize whitespace\n        var result = str.replace(/[ \\t\\n\\r]+/gm, ' ');\n        if (result.charAt(0) === ' ') {\n            // strip leading space\n            result = result.substring(1);\n        }\n        if (result.charAt(result.length - 1) === ' ') {\n            // strip trailing space\n            result = result.substring(0, result.length - 1);\n        }\n        return result;\n    }\n\n    /**\n     * Pad a string to a minimum width by adding characters to the start or end\n     * @param {string} str - string to be padded\n     * @param {number} width - the minimum width; +ve pads to the right, -ve pads to the left\n     * @param {string} [char] - the pad character(s); defaults to ' '\n     * @returns {string} - padded string\n     */\n    function pad(str, width, char) {\n        // undefined inputs always return undefined\n        if (typeof str === 'undefined') {\n            return undefined;\n        }\n\n        if (typeof char === 'undefined' || char.length === 0) {\n            char = ' ';\n        }\n\n        var result;\n        var padLength = Math.abs(width) - length(str);\n        if (padLength > 0) {\n            var padding = (new Array(padLength + 1)).join(char);\n            if (char.length > 1) {\n                padding = substring(padding, 0, padLength);\n            }\n            if (width > 0) {\n                result = str + padding;\n            } else {\n                result = padding + str;\n            }\n        } else {\n            result = str;\n        }\n        return result;\n    }\n\n    /**\n     * Evaluate the matcher function against the str arg\n     *\n     * @param {*} matcher - matching function (native or lambda)\n     * @param {string} str - the string to match against\n     * @returns {object} - structure that represents the match(es)\n     */\n    function* evaluateMatcher(matcher, str) {\n        var result = matcher.apply(this, [str]); // eslint-disable-line no-useless-call\n        if(isIterable(result)) {\n            result = yield * result;\n        }\n        if(result && !(typeof result.start === 'number' || result.end === 'number' || Array.isArray(result.groups) || isFunction(result.next))) {\n            // the matcher function didn't return the correct structure\n            throw {\n                code: \"T1010\",\n                stack: (new Error()).stack,\n            };\n        }\n        return result;\n    }\n\n    /**\n     * Tests if the str contains the token\n     * @param {String} str - string to test\n     * @param {String} token - substring or regex to find\n     * @returns {Boolean} - true if str contains token\n     */\n    function* contains(str, token) {\n        // undefined inputs always return undefined\n        if (typeof str === 'undefined') {\n            return undefined;\n        }\n\n        var result;\n\n        if (typeof token === 'string') {\n            result = (str.indexOf(token) !== -1);\n        } else {\n            var matches = yield* evaluateMatcher(token, str);\n            result = (typeof matches !== 'undefined');\n        }\n\n        return result;\n    }\n\n    /**\n     * Match a string with a regex returning an array of object containing details of each match\n     * @param {String} str - string\n     * @param {String} regex - the regex applied to the string\n     * @param {Integer} [limit] - max number of matches to return\n     * @returns {Array} The array of match objects\n     */\n    function* match(str, regex, limit) {\n        // undefined inputs always return undefined\n        if (typeof str === 'undefined') {\n            return undefined;\n        }\n\n        // limit, if specified, must be a non-negative number\n        if (limit < 0) {\n            throw {\n                stack: (new Error()).stack,\n                value: limit,\n                code: 'D3040',\n                index: 3\n            };\n        }\n\n        var result = createSequence();\n\n        if (typeof limit === 'undefined' || limit > 0) {\n            var count = 0;\n            var matches = yield* evaluateMatcher(regex, str);\n            if (typeof matches !== 'undefined') {\n                while (typeof matches !== 'undefined' && (typeof limit === 'undefined' || count < limit)) {\n                    result.push({\n                        match: matches.match,\n                        index: matches.start,\n                        groups: matches.groups\n                    });\n                    matches = yield* evaluateMatcher(matches.next);\n                    count++;\n                }\n            }\n        }\n\n        return result;\n    }\n\n    /**\n     * Match a string with a regex returning an array of object containing details of each match\n     * @param {String} str - string\n     * @param {String} pattern - the substring/regex applied to the string\n     * @param {String} replacement - text to replace the matched substrings\n     * @param {Integer} [limit] - max number of matches to return\n     * @returns {Array} The array of match objects\n     */\n    function* replace(str, pattern, replacement, limit) {\n        // undefined inputs always return undefined\n        if (typeof str === 'undefined') {\n            return undefined;\n        }\n\n        var self = this;\n\n        // pattern cannot be an empty string\n        if (pattern === '') {\n            throw {\n                code: \"D3010\",\n                stack: (new Error()).stack,\n                value: pattern,\n                index: 2\n            };\n        }\n\n        // limit, if specified, must be a non-negative number\n        if (limit < 0) {\n            throw {\n                code: \"D3011\",\n                stack: (new Error()).stack,\n                value: limit,\n                index: 4\n            };\n        }\n\n        var replacer;\n        if (typeof replacement === 'string') {\n            replacer = function (regexMatch) {\n                var substitute = '';\n                // scan forward, copying the replacement text into the substitute string\n                // and replace any occurrence of $n with the values matched by the regex\n                var position = 0;\n                var index = replacement.indexOf('$', position);\n                while (index !== -1 && position < replacement.length) {\n                    substitute += replacement.substring(position, index);\n                    position = index + 1;\n                    var dollarVal = replacement.charAt(position);\n                    if (dollarVal === '$') {\n                        // literal $\n                        substitute += '$';\n                        position++;\n                    } else if (dollarVal === '0') {\n                        substitute += regexMatch.match;\n                        position++;\n                    } else {\n                        var maxDigits;\n                        if (regexMatch.groups.length === 0) {\n                            // no sub-matches; any $ followed by a digit will be replaced by an empty string\n                            maxDigits = 1;\n                        } else {\n                            // max number of digits to parse following the $\n                            maxDigits = Math.floor(Math.log(regexMatch.groups.length) * Math.LOG10E) + 1;\n                        }\n                        index = parseInt(replacement.substring(position, position + maxDigits), 10);\n                        if (maxDigits > 1 && index > regexMatch.groups.length) {\n                            index = parseInt(replacement.substring(position, position + maxDigits - 1), 10);\n                        }\n                        if (!isNaN(index)) {\n                            if (regexMatch.groups.length > 0) {\n                                var submatch = regexMatch.groups[index - 1];\n                                if (typeof submatch !== 'undefined') {\n                                    substitute += submatch;\n                                }\n                            }\n                            position += index.toString().length;\n                        } else {\n                            // not a capture group, treat the $ as literal\n                            substitute += '$';\n                        }\n                    }\n                    index = replacement.indexOf('$', position);\n                }\n                substitute += replacement.substring(position);\n                return substitute;\n            };\n        } else {\n            replacer = replacement;\n        }\n\n        var result = '';\n        var position = 0;\n\n        if (typeof limit === 'undefined' || limit > 0) {\n            var count = 0;\n            if (typeof pattern === 'string') {\n                var index = str.indexOf(pattern, position);\n                while (index !== -1 && (typeof limit === 'undefined' || count < limit)) {\n                    result += str.substring(position, index);\n                    result += replacement;\n                    position = index + pattern.length;\n                    count++;\n                    index = str.indexOf(pattern, position);\n                }\n                result += str.substring(position);\n            } else {\n                var matches = yield* evaluateMatcher(pattern, str);\n                if (typeof matches !== 'undefined') {\n                    while (typeof matches !== 'undefined' && (typeof limit === 'undefined' || count < limit)) {\n                        result += str.substring(position, matches.start);\n                        var replacedWith = replacer.apply(self, [matches]);\n                        if (isIterable(replacedWith)) {\n                            replacedWith = yield* replacedWith;\n                        }\n                        // check replacedWith is a string\n                        if (typeof replacedWith === 'string') {\n                            result += replacedWith;\n                        } else {\n                            // not a string - throw error\n                            throw {\n                                code: \"D3012\",\n                                stack: (new Error()).stack,\n                                value: replacedWith\n                            };\n                        }\n                        position = matches.start + matches.match.length;\n                        count++;\n                        matches = yield* evaluateMatcher(matches.next);\n                    }\n                    result += str.substring(position);\n                } else {\n                    result = str;\n                }\n            }\n        } else {\n            result = str;\n        }\n\n        return result;\n    }\n\n    /**\n     * Base64 encode a string\n     * @param {String} str - string\n     * @returns {String} Base 64 encoding of the binary data\n     */\n    function base64encode(str) {\n        // undefined inputs always return undefined\n        if (typeof str === 'undefined') {\n            return undefined;\n        }\n        // Use btoa in a browser, or Buffer in Node.js\n\n        var btoa = typeof window !== 'undefined' ?\n            /* istanbul ignore next */ window.btoa :\n            function (str) {\n                // Simply doing `new Buffer` at this point causes Browserify to pull\n                // in the entire Buffer browser library, which is large and unnecessary.\n                // Using `global.Buffer` defeats this.\n                return new global.Buffer.from(str, 'binary').toString('base64'); // eslint-disable-line new-cap\n            };\n        return btoa(str);\n    }\n\n    /**\n     * Base64 decode a string\n     * @param {String} str - string\n     * @returns {String} Base 64 encoding of the binary data\n     */\n    function base64decode(str) {\n        // undefined inputs always return undefined\n        if (typeof str === 'undefined') {\n            return undefined;\n        }\n        // Use btoa in a browser, or Buffer in Node.js\n        var atob = typeof window !== 'undefined' ?\n            /* istanbul ignore next */ window.atob :\n            function (str) {\n                // Simply doing `new Buffer` at this point causes Browserify to pull\n                // in the entire Buffer browser library, which is large and unnecessary.\n                // Using `global.Buffer` defeats this.\n                return new global.Buffer.from(str, 'base64').toString('binary'); // eslint-disable-line new-cap\n            };\n        return atob(str);\n    }\n\n    /**\n     * Encode a string into a component for a url\n     * @param {String} str - String to encode\n     * @returns {string} Encoded string\n     */\n    function encodeUrlComponent(str) {\n        // undefined inputs always return undefined\n        if (typeof str === 'undefined') {\n            return undefined;\n        }\n\n        // Catch URIErrors when URI sequence is malformed\n        var returnVal;\n        try {\n            returnVal = encodeURIComponent(str);\n        } catch (e) {\n            throw {\n                code: \"D3140\",\n                stack: (new Error()).stack,\n                value: str,\n                functionName: \"encodeUrlComponent\"\n            };\n        }\n        return returnVal;\n    }\n\n    /**\n     * Encode a string into a url\n     * @param {String} str - String to encode\n     * @returns {string} Encoded string\n     */\n    function encodeUrl(str) {\n        // undefined inputs always return undefined\n        if (typeof str === 'undefined') {\n            return undefined;\n        }\n\n        // Catch URIErrors when URI sequence is malformed\n        var returnVal;\n        try {\n            returnVal = encodeURI(str);\n        } catch (e) {\n            throw {\n                code: \"D3140\",\n                stack: (new Error()).stack,\n                value: str,\n                functionName: \"encodeUrl\"\n            };\n        }\n        return returnVal;\n    }\n\n    /**\n     * Decode a string from a component for a url\n     * @param {String} str - String to decode\n     * @returns {string} Decoded string\n     */\n    function decodeUrlComponent(str) {\n        // undefined inputs always return undefined\n        if (typeof str === 'undefined') {\n            return undefined;\n        }\n\n        // Catch URIErrors when URI sequence is malformed\n        var returnVal;\n        try {\n            returnVal = decodeURIComponent(str);\n        } catch (e) {\n            throw {\n                code: \"D3140\",\n                stack: (new Error()).stack,\n                value: str,\n                functionName: \"decodeUrlComponent\"\n            };\n        }\n        return returnVal;\n    }\n\n    /**\n     * Decode a string from a url\n     * @param {String} str - String to decode\n     * @returns {string} Decoded string\n     */\n    function decodeUrl(str) {\n        // undefined inputs always return undefined\n        if (typeof str === 'undefined') {\n            return undefined;\n        }\n\n        // Catch URIErrors when URI sequence is malformed\n        var returnVal;\n        try {\n            returnVal = decodeURI(str);\n        } catch (e) {\n            throw {\n                code: \"D3140\",\n                stack: (new Error()).stack,\n                value: str,\n                functionName: \"decodeUrl\"\n            };\n        }\n        return returnVal;\n    }\n\n    /**\n     * Split a string into an array of substrings\n     * @param {String} str - string\n     * @param {String} separator - the token or regex that splits the string\n     * @param {Integer} [limit] - max number of substrings\n     * @returns {Array} The array of string\n     */\n    function* split(str, separator, limit) {\n        // undefined inputs always return undefined\n        if (typeof str === 'undefined') {\n            return undefined;\n        }\n\n        // limit, if specified, must be a non-negative number\n        if (limit < 0) {\n            throw {\n                code: \"D3020\",\n                stack: (new Error()).stack,\n                value: limit,\n                index: 3\n            };\n        }\n\n        var result = [];\n\n        if (typeof limit === 'undefined' || limit > 0) {\n            if (typeof separator === 'string') {\n                result = str.split(separator, limit);\n            } else {\n                var count = 0;\n                var matches = yield* evaluateMatcher(separator, str);\n                if (typeof matches !== 'undefined') {\n                    var start = 0;\n                    while (typeof matches !== 'undefined' && (typeof limit === 'undefined' || count < limit)) {\n                        result.push(str.substring(start, matches.start));\n                        start = matches.end;\n                        matches = yield* evaluateMatcher(matches.next);\n                        count++;\n                    }\n                    if (typeof limit === 'undefined' || count < limit) {\n                        result.push(str.substring(start));\n                    }\n                } else {\n                    result.push(str);\n                }\n            }\n        }\n\n        return result;\n    }\n\n    /**\n     * Join an array of strings\n     * @param {Array} strs - array of string\n     * @param {String} [separator] - the token that splits the string\n     * @returns {String} The concatenated string\n     */\n    function join(strs, separator) {\n        // undefined inputs always return undefined\n        if (typeof strs === 'undefined') {\n            return undefined;\n        }\n\n        // if separator is not specified, default to empty string\n        if (typeof separator === 'undefined') {\n            separator = \"\";\n        }\n\n        return strs.join(separator);\n    }\n\n    /**\n     * Formats a number into a decimal string representation using XPath 3.1 F&O fn:format-number spec\n     * @param {number} value - number to format\n     * @param {String} picture - picture string definition\n     * @param {Object} [options] - override locale defaults\n     * @returns {String} The formatted string\n     */\n    function formatNumber(value, picture, options) {\n        // undefined inputs always return undefined\n        if (typeof value === 'undefined') {\n            return undefined;\n        }\n\n        var defaults = {\n            \"decimal-separator\": \".\",\n            \"grouping-separator\": \",\",\n            \"exponent-separator\": \"e\",\n            \"infinity\": \"Infinity\",\n            \"minus-sign\": \"-\",\n            \"NaN\": \"NaN\",\n            \"percent\": \"%\",\n            \"per-mille\": \"\\u2030\",\n            \"zero-digit\": \"0\",\n            \"digit\": \"#\",\n            \"pattern-separator\": \";\"\n        };\n\n        // if `options` is specified, then its entries override defaults\n        var properties = defaults;\n        if (typeof options !== 'undefined') {\n            Object.keys(options).forEach(function (key) {\n                properties[key] = options[key];\n            });\n        }\n\n        var decimalDigitFamily = [];\n        var zeroCharCode = properties['zero-digit'].charCodeAt(0);\n        for (var ii = zeroCharCode; ii < zeroCharCode + 10; ii++) {\n            decimalDigitFamily.push(String.fromCharCode(ii));\n        }\n\n        var activeChars = decimalDigitFamily.concat([properties['decimal-separator'], properties['exponent-separator'], properties['grouping-separator'], properties.digit, properties['pattern-separator']]);\n\n        var subPictures = picture.split(properties['pattern-separator']);\n\n        if (subPictures.length > 2) {\n            throw {\n                code: 'D3080',\n                stack: (new Error()).stack\n            };\n        }\n\n        var splitParts = function (subpicture) {\n            var prefix = (function () {\n                var ch;\n                for (var ii = 0; ii < subpicture.length; ii++) {\n                    ch = subpicture.charAt(ii);\n                    if (activeChars.indexOf(ch) !== -1 && ch !== properties['exponent-separator']) {\n                        return subpicture.substring(0, ii);\n                    }\n                }\n            })();\n            var suffix = (function () {\n                var ch;\n                for (var ii = subpicture.length - 1; ii >= 0; ii--) {\n                    ch = subpicture.charAt(ii);\n                    if (activeChars.indexOf(ch) !== -1 && ch !== properties['exponent-separator']) {\n                        return subpicture.substring(ii + 1);\n                    }\n                }\n            })();\n            var activePart = subpicture.substring(prefix.length, subpicture.length - suffix.length);\n            var mantissaPart, exponentPart, integerPart, fractionalPart;\n            var exponentPosition = subpicture.indexOf(properties['exponent-separator'], prefix.length);\n            if (exponentPosition === -1 || exponentPosition > subpicture.length - suffix.length) {\n                mantissaPart = activePart;\n                exponentPart = undefined;\n            } else {\n                mantissaPart = activePart.substring(0, exponentPosition);\n                exponentPart = activePart.substring(exponentPosition + 1);\n            }\n            var decimalPosition = mantissaPart.indexOf(properties['decimal-separator']);\n            if (decimalPosition === -1) {\n                integerPart = mantissaPart;\n                fractionalPart = suffix;\n            } else {\n                integerPart = mantissaPart.substring(0, decimalPosition);\n                fractionalPart = mantissaPart.substring(decimalPosition + 1);\n            }\n            return {\n                prefix: prefix,\n                suffix: suffix,\n                activePart: activePart,\n                mantissaPart: mantissaPart,\n                exponentPart: exponentPart,\n                integerPart: integerPart,\n                fractionalPart: fractionalPart,\n                subpicture: subpicture\n            };\n        };\n\n        // validate the picture string, F&O 4.7.3\n        var validate = function (parts) {\n            var error;\n            var ii;\n            var subpicture = parts.subpicture;\n            var decimalPos = subpicture.indexOf(properties['decimal-separator']);\n            if (decimalPos !== subpicture.lastIndexOf(properties['decimal-separator'])) {\n                error = 'D3081';\n            }\n            if (subpicture.indexOf(properties.percent) !== subpicture.lastIndexOf(properties.percent)) {\n                error = 'D3082';\n            }\n            if (subpicture.indexOf(properties['per-mille']) !== subpicture.lastIndexOf(properties['per-mille'])) {\n                error = 'D3083';\n            }\n            if (subpicture.indexOf(properties.percent) !== -1 && subpicture.indexOf(properties['per-mille']) !== -1) {\n                error = 'D3084';\n            }\n            var valid = false;\n            for (ii = 0; ii < parts.mantissaPart.length; ii++) {\n                var ch = parts.mantissaPart.charAt(ii);\n                if (decimalDigitFamily.indexOf(ch) !== -1 || ch === properties.digit) {\n                    valid = true;\n                    break;\n                }\n            }\n            if (!valid) {\n                error = 'D3085';\n            }\n            var charTypes = parts.activePart.split('').map(function (char) {\n                return activeChars.indexOf(char) === -1 ? 'p' : 'a';\n            }).join('');\n            if (charTypes.indexOf('p') !== -1) {\n                error = 'D3086';\n            }\n            if (decimalPos !== -1) {\n                if (subpicture.charAt(decimalPos - 1) === properties['grouping-separator'] || subpicture.charAt(decimalPos + 1) === properties['grouping-separator']) {\n                    error = 'D3087';\n                }\n            } else if (parts.integerPart.charAt(parts.integerPart.length - 1) === properties['grouping-separator']) {\n                error = 'D3088';\n            }\n            if (subpicture.indexOf(properties['grouping-separator'] + properties['grouping-separator']) !== -1) {\n                error = 'D3089';\n            }\n            var optionalDigitPos = parts.integerPart.indexOf(properties.digit);\n            if (optionalDigitPos !== -1 && parts.integerPart.substring(0, optionalDigitPos).split('').filter(function (char) {\n                return decimalDigitFamily.indexOf(char) > -1;\n            }).length > 0) {\n                error = 'D3090';\n            }\n            optionalDigitPos = parts.fractionalPart.lastIndexOf(properties.digit);\n            if (optionalDigitPos !== -1 && parts.fractionalPart.substring(optionalDigitPos).split('').filter(function (char) {\n                return decimalDigitFamily.indexOf(char) > -1;\n            }).length > 0) {\n                error = 'D3091';\n            }\n            var exponentExists = (typeof parts.exponentPart === 'string');\n            if (exponentExists && parts.exponentPart.length > 0 && (subpicture.indexOf(properties.percent) !== -1 || subpicture.indexOf(properties['per-mille']) !== -1)) {\n                error = 'D3092';\n            }\n            if (exponentExists && (parts.exponentPart.length === 0 || parts.exponentPart.split('').filter(function (char) {\n                return decimalDigitFamily.indexOf(char) === -1;\n            }).length > 0)) {\n                error = 'D3093';\n            }\n            if (error) {\n                throw {\n                    code: error,\n                    stack: (new Error()).stack\n                };\n            }\n        };\n\n        // analyse the picture string, F&O 4.7.4\n        var analyse = function (parts) {\n            var getGroupingPositions = function (part, toLeft) {\n                var positions = [];\n                var groupingPosition = part.indexOf(properties['grouping-separator']);\n                while (groupingPosition !== -1) {\n                    var charsToTheRight = (toLeft ? part.substring(0, groupingPosition) : part.substring(groupingPosition)).split('').filter(function (char) {\n                        return decimalDigitFamily.indexOf(char) !== -1 || char === properties.digit;\n                    }).length;\n                    positions.push(charsToTheRight);\n                    groupingPosition = parts.integerPart.indexOf(properties['grouping-separator'], groupingPosition + 1);\n                }\n                return positions;\n            };\n            var integerPartGroupingPositions = getGroupingPositions(parts.integerPart);\n            var regular = function (indexes) {\n                // are the grouping positions regular? i.e. same interval between each of them\n                if (indexes.length === 0) {\n                    return 0;\n                }\n                var gcd = function (a, b) {\n                    return b === 0 ? a : gcd(b, a % b);\n                };\n                // find the greatest common divisor of all the positions\n                var factor = indexes.reduce(gcd);\n                // is every position separated by this divisor? If so, it's regular\n                for (var index = 1; index <= indexes.length; index++) {\n                    if (indexes.indexOf(index * factor) === -1) {\n                        return 0;\n                    }\n                }\n                return factor;\n            };\n\n            var regularGrouping = regular(integerPartGroupingPositions);\n            var fractionalPartGroupingPositions = getGroupingPositions(parts.fractionalPart, true);\n\n            var minimumIntegerPartSize = parts.integerPart.split('').filter(function (char) {\n                return decimalDigitFamily.indexOf(char) !== -1;\n            }).length;\n            var scalingFactor = minimumIntegerPartSize;\n\n            var fractionalPartArray = parts.fractionalPart.split('');\n            var minimumFactionalPartSize = fractionalPartArray.filter(function (char) {\n                return decimalDigitFamily.indexOf(char) !== -1;\n            }).length;\n            var maximumFactionalPartSize = fractionalPartArray.filter(function (char) {\n                return decimalDigitFamily.indexOf(char) !== -1 || char === properties.digit;\n            }).length;\n            var exponentPresent = typeof parts.exponentPart === 'string';\n            if (minimumIntegerPartSize === 0 && maximumFactionalPartSize === 0) {\n                if (exponentPresent) {\n                    minimumFactionalPartSize = 1;\n                    maximumFactionalPartSize = 1;\n                } else {\n                    minimumIntegerPartSize = 1;\n                }\n            }\n            if (exponentPresent && minimumIntegerPartSize === 0 && parts.integerPart.indexOf(properties.digit) !== -1) {\n                minimumIntegerPartSize = 1;\n            }\n            if (minimumIntegerPartSize === 0 && minimumFactionalPartSize === 0) {\n                minimumFactionalPartSize = 1;\n            }\n            var minimumExponentSize = 0;\n            if (exponentPresent) {\n                minimumExponentSize = parts.exponentPart.split('').filter(function (char) {\n                    return decimalDigitFamily.indexOf(char) !== -1;\n                }).length;\n            }\n\n            return {\n                integerPartGroupingPositions: integerPartGroupingPositions,\n                regularGrouping: regularGrouping,\n                minimumIntegerPartSize: minimumIntegerPartSize,\n                scalingFactor: scalingFactor,\n                prefix: parts.prefix,\n                fractionalPartGroupingPositions: fractionalPartGroupingPositions,\n                minimumFactionalPartSize: minimumFactionalPartSize,\n                maximumFactionalPartSize: maximumFactionalPartSize,\n                minimumExponentSize: minimumExponentSize,\n                suffix: parts.suffix,\n                picture: parts.subpicture\n            };\n        };\n\n        var parts = subPictures.map(splitParts);\n        parts.forEach(validate);\n\n        var variables = parts.map(analyse);\n\n        var minus_sign = properties['minus-sign'];\n        var zero_digit = properties['zero-digit'];\n        var decimal_separator = properties['decimal-separator'];\n        var grouping_separator = properties['grouping-separator'];\n\n        if (variables.length === 1) {\n            variables.push(JSON.parse(JSON.stringify(variables[0])));\n            variables[1].prefix = minus_sign + variables[1].prefix;\n        }\n\n        // TODO cache the result of the analysis\n\n        // format the number\n        // bullet 1: TODO: NaN - not sure we'd ever get this in JSON\n        var pic;\n        // bullet 2:\n        if (value >= 0) {\n            pic = variables[0];\n        } else {\n            pic = variables[1];\n        }\n        var adjustedNumber;\n        // bullet 3:\n        if (pic.picture.indexOf(properties.percent) !== -1) {\n            adjustedNumber = value * 100;\n        } else if (pic.picture.indexOf(properties['per-mille']) !== -1) {\n            adjustedNumber = value * 1000;\n        } else {\n            adjustedNumber = value;\n        }\n        // bullet 4:\n        // TODO: infinity - not sure we'd ever get this in JSON\n        // bullet 5:\n        var mantissa, exponent;\n        if (pic.minimumExponentSize === 0) {\n            mantissa = adjustedNumber;\n        } else {\n            // mantissa * 10^exponent = adjustedNumber\n            var maxMantissa = Math.pow(10, pic.scalingFactor);\n            var minMantissa = Math.pow(10, pic.scalingFactor - 1);\n            mantissa = adjustedNumber;\n            exponent = 0;\n            while (mantissa < minMantissa) {\n                mantissa *= 10;\n                exponent -= 1;\n            }\n            while (mantissa > maxMantissa) {\n                mantissa /= 10;\n                exponent += 1;\n            }\n        }\n        // bullet 6:\n        var roundedNumber = round(mantissa, pic.maximumFactionalPartSize);\n        // bullet 7:\n        var makeString = function (value, dp) {\n            var str = Math.abs(value).toFixed(dp);\n            if (zero_digit !== '0') {\n                str = str.split('').map(function (digit) {\n                    if (digit >= '0' && digit <= '9') {\n                        return decimalDigitFamily[digit.charCodeAt(0) - 48];\n                    } else {\n                        return digit;\n                    }\n                }).join('');\n            }\n            return str;\n        };\n        var stringValue = makeString(roundedNumber, pic.maximumFactionalPartSize);\n        var decimalPos = stringValue.indexOf('.');\n        if (decimalPos === -1) {\n            stringValue = stringValue + decimal_separator;\n        } else {\n            stringValue = stringValue.replace('.', decimal_separator);\n        }\n        while (stringValue.charAt(0) === zero_digit) {\n            stringValue = stringValue.substring(1);\n        }\n        while (stringValue.charAt(stringValue.length - 1) === zero_digit) {\n            stringValue = stringValue.substring(0, stringValue.length - 1);\n        }\n        // bullets 8 & 9:\n        decimalPos = stringValue.indexOf(decimal_separator);\n        var padLeft = pic.minimumIntegerPartSize - decimalPos;\n        var padRight = pic.minimumFactionalPartSize - (stringValue.length - decimalPos - 1);\n        stringValue = (padLeft > 0 ? new Array(padLeft + 1).join(zero_digit) : '') + stringValue;\n        stringValue = stringValue + (padRight > 0 ? new Array(padRight + 1).join(zero_digit) : '');\n        decimalPos = stringValue.indexOf(decimal_separator);\n        // bullet 10:\n        if (pic.regularGrouping > 0) {\n            var groupCount = Math.floor((decimalPos - 1) / pic.regularGrouping);\n            for (var group = 1; group <= groupCount; group++) {\n                stringValue = [stringValue.slice(0, decimalPos - group * pic.regularGrouping), grouping_separator, stringValue.slice(decimalPos - group * pic.regularGrouping)].join('');\n            }\n        } else {\n            pic.integerPartGroupingPositions.forEach(function (pos) {\n                stringValue = [stringValue.slice(0, decimalPos - pos), grouping_separator, stringValue.slice(decimalPos - pos)].join('');\n                decimalPos++;\n            });\n        }\n        // bullet 11:\n        decimalPos = stringValue.indexOf(decimal_separator);\n        pic.fractionalPartGroupingPositions.forEach(function (pos) {\n            stringValue = [stringValue.slice(0, pos + decimalPos + 1), grouping_separator, stringValue.slice(pos + decimalPos + 1)].join('');\n        });\n        // bullet 12:\n        decimalPos = stringValue.indexOf(decimal_separator);\n        if (pic.picture.indexOf(decimal_separator) === -1 || decimalPos === stringValue.length - 1) {\n            stringValue = stringValue.substring(0, stringValue.length - 1);\n        }\n        // bullet 13:\n        if (typeof exponent !== 'undefined') {\n            var stringExponent = makeString(exponent, 0);\n            padLeft = pic.minimumExponentSize - stringExponent.length;\n            if (padLeft > 0) {\n                stringExponent = new Array(padLeft + 1).join(zero_digit) + stringExponent;\n            }\n            stringValue = stringValue + properties['exponent-separator'] + (exponent < 0 ? minus_sign : '') + stringExponent;\n        }\n        // bullet 14:\n        stringValue = pic.prefix + stringValue + pic.suffix;\n        return stringValue;\n    }\n\n    /**\n     * Converts a number to a string using a specified number base\n     * @param {number} value - the number to convert\n     * @param {number} [radix] - the number base; must be between 2 and 36. Defaults to 10\n     * @returns {string} - the converted string\n     */\n    function formatBase(value, radix) {\n        // undefined inputs always return undefined\n        if (typeof value === 'undefined') {\n            return undefined;\n        }\n\n        value = round(value);\n\n        if (typeof radix === 'undefined') {\n            radix = 10;\n        } else {\n            radix = round(radix);\n        }\n\n        if (radix < 2 || radix > 36) {\n            throw {\n                code: 'D3100',\n                stack: (new Error()).stack,\n                value: radix\n            };\n\n        }\n\n        var result = value.toString(radix);\n\n        return result;\n    }\n\n    /**\n     * Cast argument to number\n     * @param {Object} arg - Argument\n     * @returns {Number} numeric value of argument\n     */\n    function number(arg) {\n        var result;\n\n        // undefined inputs always return undefined\n        if (typeof arg === 'undefined') {\n            return undefined;\n        }\n\n        if (typeof arg === 'number') {\n            // already a number\n            result = arg;\n        } else if (typeof arg === 'string' && /^-?[0-9]+(\\.[0-9]+)?([Ee][-+]?[0-9]+)?$/.test(arg) && !isNaN(parseFloat(arg)) && isFinite(arg)) {\n            result = parseFloat(arg);\n        } else if (arg === true) {\n            // boolean true casts to 1\n            result = 1;\n        } else if (arg === false) {\n            // boolean false casts to 0\n            result = 0;\n        } else {\n            throw {\n                code: \"D3030\",\n                value: arg,\n                stack: (new Error()).stack,\n                index: 1\n            };\n        }\n        return result;\n    }\n\n    /**\n     * Absolute value of a number\n     * @param {Number} arg - Argument\n     * @returns {Number} absolute value of argument\n     */\n    function abs(arg) {\n        var result;\n\n        // undefined inputs always return undefined\n        if (typeof arg === 'undefined') {\n            return undefined;\n        }\n\n        result = Math.abs(arg);\n        return result;\n    }\n\n    /**\n     * Rounds a number down to integer\n     * @param {Number} arg - Argument\n     * @returns {Number} rounded integer\n     */\n    function floor(arg) {\n        var result;\n\n        // undefined inputs always return undefined\n        if (typeof arg === 'undefined') {\n            return undefined;\n        }\n\n        result = Math.floor(arg);\n        return result;\n    }\n\n    /**\n     * Rounds a number up to integer\n     * @param {Number} arg - Argument\n     * @returns {Number} rounded integer\n     */\n    function ceil(arg) {\n        var result;\n\n        // undefined inputs always return undefined\n        if (typeof arg === 'undefined') {\n            return undefined;\n        }\n\n        result = Math.ceil(arg);\n        return result;\n    }\n\n    /**\n     * Round to half even\n     * @param {Number} arg - Argument\n     * @param {Number} [precision] - number of decimal places\n     * @returns {Number} rounded integer\n     */\n    function round(arg, precision) {\n        var result;\n\n        // undefined inputs always return undefined\n        if (typeof arg === 'undefined') {\n            return undefined;\n        }\n\n        if (precision) {\n            // shift the decimal place - this needs to be done in a string since multiplying\n            // by a power of ten can introduce floating point precision errors which mess up\n            // this rounding algorithm - See 'Decimal rounding' in\n            // https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Math/round\n            // Shift\n            var value = arg.toString().split('e');\n            arg = +(value[0] + 'e' + (value[1] ? (+value[1] + precision) : precision));\n\n        }\n\n        // round up to nearest int\n        result = Math.round(arg);\n        var diff = result - arg;\n        if (Math.abs(diff) === 0.5 && Math.abs(result % 2) === 1) {\n            // rounded the wrong way - adjust to nearest even number\n            result = result - 1;\n        }\n        if (precision) {\n            // Shift back\n            value = result.toString().split('e');\n            /* istanbul ignore next */\n            result = +(value[0] + 'e' + (value[1] ? (+value[1] - precision) : -precision));\n        }\n        if (Object.is(result, -0)) { // ESLint rule 'no-compare-neg-zero' suggests this way\n            // JSON doesn't do -0\n            result = 0;\n        }\n        return result;\n    }\n\n    /**\n     * Square root of number\n     * @param {Number} arg - Argument\n     * @returns {Number} square root\n     */\n    function sqrt(arg) {\n        var result;\n\n        // undefined inputs always return undefined\n        if (typeof arg === 'undefined') {\n            return undefined;\n        }\n\n        if (arg < 0) {\n            throw {\n                stack: (new Error()).stack,\n                code: \"D3060\",\n                index: 1,\n                value: arg\n            };\n        }\n\n        result = Math.sqrt(arg);\n\n        return result;\n    }\n\n    /**\n     * Raises number to the power of the second number\n     * @param {Number} arg - the base\n     * @param {Number} exp - the exponent\n     * @returns {Number} rounded integer\n     */\n    function power(arg, exp) {\n        var result;\n\n        // undefined inputs always return undefined\n        if (typeof arg === 'undefined') {\n            return undefined;\n        }\n\n        result = Math.pow(arg, exp);\n\n        if (!isFinite(result)) {\n            throw {\n                stack: (new Error()).stack,\n                code: \"D3061\",\n                index: 1,\n                value: arg,\n                exp: exp\n            };\n        }\n\n        return result;\n    }\n\n    /**\n     * Returns a random number 0 <= n < 1\n     * @returns {number} random number\n     */\n    function random() {\n        return Math.random();\n    }\n\n    /**\n     * Evaluate an input and return a boolean\n     * @param {*} arg - Arguments\n     * @returns {boolean} Boolean\n     */\n    function boolean(arg) {\n        // cast arg to its effective boolean value\n        // boolean: unchanged\n        // string: zero-length -> false; otherwise -> true\n        // number: 0 -> false; otherwise -> true\n        // null -> false\n        // array: empty -> false; length > 1 -> true\n        // object: empty -> false; non-empty -> true\n        // function -> false\n\n        // undefined inputs always return undefined\n        if (typeof arg === 'undefined') {\n            return undefined;\n        }\n\n        var result = false;\n        if (Array.isArray(arg)) {\n            if (arg.length === 1) {\n                result = boolean(arg[0]);\n            } else if (arg.length > 1) {\n                var trues = arg.filter(function (val) {\n                    return boolean(val);\n                });\n                result = trues.length > 0;\n            }\n        } else if (typeof arg === 'string') {\n            if (arg.length > 0) {\n                result = true;\n            }\n        } else if (isNumeric(arg)) {\n            if (arg !== 0) {\n                result = true;\n            }\n        } else if (arg !== null && typeof arg === 'object') {\n            if (Object.keys(arg).length > 0) {\n                result = true;\n            }\n        } else if (typeof arg === 'boolean' && arg === true) {\n            result = true;\n        }\n        return result;\n    }\n\n    /**\n     * returns the Boolean NOT of the arg\n     * @param {*} arg - argument\n     * @returns {boolean} - NOT arg\n     */\n    function not(arg) {\n        // undefined inputs always return undefined\n        if (typeof arg === 'undefined') {\n            return undefined;\n        }\n\n        return !boolean(arg);\n    }\n\n    /**\n     * Helper function to build the arguments to be supplied to the function arg of the\n     * HOFs map, filter, each, sift and single\n     * @param {function} func - the function to be invoked\n     * @param {*} arg1 - the first (required) arg - the value\n     * @param {*} arg2 - the second (optional) arg - the position (index or key)\n     * @param {*} arg3 - the third (optional) arg - the whole structure (array or object)\n     * @returns {*[]} the argument list\n     */\n    function hofFuncArgs(func, arg1, arg2, arg3) {\n        var func_args = [arg1]; // the first arg (the value) is required\n        // the other two are optional - only supply it if the function can take it\n        var length = getFunctionArity(func);\n        if (length >= 2) {\n            func_args.push(arg2);\n        }\n        if (length >= 3) {\n            func_args.push(arg3);\n        }\n        return func_args;\n    }\n\n    /**\n     * Create a map from an array of arguments\n     * @param {Array} [arr] - array to map over\n     * @param {Function} func - function to apply\n     * @returns {Array} Map array\n     */\n    function* map(arr, func) {\n        // undefined inputs always return undefined\n        if (typeof arr === 'undefined') {\n            return undefined;\n        }\n\n        var result = createSequence();\n        // do the map - iterate over the arrays, and invoke func\n        for (var i = 0; i < arr.length; i++) {\n            var func_args = hofFuncArgs(func, arr[i], i, arr);\n            // invoke func\n            var res = yield* func.apply(this, func_args);\n            if (typeof res !== 'undefined') {\n                result.push(res);\n            }\n        }\n\n        return result;\n    }\n\n    /**\n     * Create a map from an array of arguments\n     * @param {Array} [arr] - array to filter\n     * @param {Function} func - predicate function\n     * @returns {Array} Map array\n     */\n    function* filter(arr, func) { // eslint-disable-line require-yield\n        // undefined inputs always return undefined\n        if (typeof arr === 'undefined') {\n            return undefined;\n        }\n\n        var result = createSequence();\n\n        for (var i = 0; i < arr.length; i++) {\n            var entry = arr[i];\n            var func_args = hofFuncArgs(func, entry, i, arr);\n            // invoke func\n            var res = yield* func.apply(this, func_args);\n            if (boolean(res)) {\n                result.push(entry);\n            }\n        }\n\n        return result;\n    }\n\n    /**\n     * Given an array, find the single element matching a specified condition\n     * Throws an exception if the number of matching elements is not exactly one\n     * @param {Array} [arr] - array to filter\n     * @param {Function} [func] - predicate function\n     * @returns {*} Matching element\n     */\n    function* single(arr, func) { // eslint-disable-line require-yield\n        // undefined inputs always return undefined\n        if (typeof arr === 'undefined') {\n            return undefined;\n        }\n\n        var hasFoundMatch = false;\n        var result;\n\n        for (var i = 0; i < arr.length; i++) {\n            var entry = arr[i];\n            var positiveResult = true;\n            if (typeof func !== 'undefined') {\n                var func_args = hofFuncArgs(func, entry, i, arr);\n                // invoke func\n                var res = yield* func.apply(this, func_args);\n                positiveResult = boolean(res);\n            }\n            if (positiveResult) {\n                if(!hasFoundMatch) {\n                    result = entry;\n                    hasFoundMatch = true;\n                } else {\n                    throw {\n                        stack: (new Error()).stack,\n                        code: \"D3138\",\n                        index: i\n                    };\n                }\n            }\n        }\n\n        if(!hasFoundMatch) {\n            throw {\n                stack: (new Error()).stack,\n                code: \"D3139\"\n            };\n        }\n\n        return result;\n    }\n\n    /**\n     * Convolves (zips) each value from a set of arrays\n     * @param {Array} [args] - arrays to zip\n     * @returns {Array} Zipped array\n     */\n    function zip() {\n        // this can take a variable number of arguments\n        var result = [];\n        var args = Array.prototype.slice.call(arguments);\n        // length of the shortest array\n        var length = Math.min.apply(Math, args.map(function (arg) {\n            if (Array.isArray(arg)) {\n                return arg.length;\n            }\n            return 0;\n        }));\n        for (var i = 0; i < length; i++) {\n            var tuple = args.map((arg) => {\n                return arg[i];\n            });\n            result.push(tuple);\n        }\n        return result;\n    }\n\n    /**\n     * Fold left function\n     * @param {Array} sequence - Sequence\n     * @param {Function} func - Function\n     * @param {Object} init - Initial value\n     * @returns {*} Result\n     */\n    function* foldLeft(sequence, func, init) {\n        // undefined inputs always return undefined\n        if (typeof sequence === 'undefined') {\n            return undefined;\n        }\n\n        var result;\n\n        var arity = getFunctionArity(func);\n        if (arity < 2) {\n            throw {\n                stack: (new Error()).stack,\n                code: \"D3050\",\n                index: 1\n            };\n        }\n\n        var index;\n        if (typeof init === 'undefined' && sequence.length > 0) {\n            result = sequence[0];\n            index = 1;\n        } else {\n            result = init;\n            index = 0;\n        }\n\n        while (index < sequence.length) {\n            var args = [result, sequence[index]];\n            if (arity >= 3) {\n                args.push(index);\n            }\n            if (arity >= 4) {\n                args.push(sequence);\n            }\n            result = yield* func.apply(this, args);\n            index++;\n        }\n\n        return result;\n    }\n\n    /**\n     * Return keys for an object\n     * @param {Object} arg - Object\n     * @returns {Array} Array of keys\n     */\n    function keys(arg) {\n        var result = createSequence();\n\n        if (Array.isArray(arg)) {\n            // merge the keys of all of the items in the array\n            var merge = {};\n            arg.forEach(function (item) {\n                var allkeys = keys(item);\n                allkeys.forEach(function (key) {\n                    merge[key] = true;\n                });\n            });\n            result = keys(merge);\n        } else if (arg !== null && typeof arg === 'object' && !(isLambda(arg))) {\n            Object.keys(arg).forEach(key => result.push(key));\n        }\n        return result;\n    }\n\n    /**\n     * Return value from an object for a given key\n     * @param {Object} input - Object/Array\n     * @param {String} key - Key in object\n     * @returns {*} Value of key in object\n     */\n    function lookup(input, key) {\n        // lookup the 'name' item in the input\n        var result;\n        if (Array.isArray(input)) {\n            result = createSequence();\n            for(var ii = 0; ii < input.length; ii++) {\n                var res =  lookup(input[ii], key);\n                if (typeof res !== 'undefined') {\n                    if (Array.isArray(res)) {\n                        res.forEach(val => result.push(val));\n                    } else {\n                        result.push(res);\n                    }\n                }\n            }\n        } else if (input !== null && typeof input === 'object') {\n            result = input[key];\n        }\n        return result;\n    }\n\n    /**\n     * Append second argument to first\n     * @param {Array|Object} arg1 - First argument\n     * @param {Array|Object} arg2 - Second argument\n     * @returns {*} Appended arguments\n     */\n    function append(arg1, arg2) {\n        // disregard undefined args\n        if (typeof arg1 === 'undefined') {\n            return arg2;\n        }\n        if (typeof arg2 === 'undefined') {\n            return arg1;\n        }\n        // if either argument is not an array, make it so\n        if (!Array.isArray(arg1)) {\n            arg1 = createSequence(arg1);\n        }\n        if (!Array.isArray(arg2)) {\n            arg2 = [arg2];\n        }\n        return arg1.concat(arg2);\n    }\n\n    /**\n     * Determines if the argument is undefined\n     * @param {*} arg - argument\n     * @returns {boolean} False if argument undefined, otherwise true\n     */\n    function exists(arg) {\n        if (typeof arg === 'undefined') {\n            return false;\n        } else {\n            return true;\n        }\n    }\n\n    /**\n     * Splits an object into an array of object with one property each\n     * @param {*} arg - the object to split\n     * @returns {*} - the array\n     */\n    function spread(arg) {\n        var result = createSequence();\n\n        if (Array.isArray(arg)) {\n            // spread all of the items in the array\n            arg.forEach(function (item) {\n                result = append(result, spread(item));\n            });\n        } else if (arg !== null && typeof arg === 'object' && !isLambda(arg)) {\n            for (var key in arg) {\n                var obj = {};\n                obj[key] = arg[key];\n                result.push(obj);\n            }\n        } else {\n            result = arg;\n        }\n        return result;\n    }\n\n    /**\n     * Merges an array of objects into a single object.  Duplicate properties are\n     * overridden by entries later in the array\n     * @param {*} arg - the objects to merge\n     * @returns {*} - the object\n     */\n    function merge(arg) {\n        // undefined inputs always return undefined\n        if (typeof arg === 'undefined') {\n            return undefined;\n        }\n\n        var result = {};\n\n        arg.forEach(function (obj) {\n            for (var prop in obj) {\n                result[prop] = obj[prop];\n            }\n        });\n        return result;\n    }\n\n    /**\n     * Reverses the order of items in an array\n     * @param {Array} arr - the array to reverse\n     * @returns {Array} - the reversed array\n     */\n    function reverse(arr) {\n        // undefined inputs always return undefined\n        if (typeof arr === 'undefined') {\n            return undefined;\n        }\n\n        if (arr.length <= 1) {\n            return arr;\n        }\n\n        var length = arr.length;\n        var result = new Array(length);\n        for (var i = 0; i < length; i++) {\n            result[length - i - 1] = arr[i];\n        }\n\n        return result;\n    }\n\n    /**\n     *\n     * @param {*} obj - the input object to iterate over\n     * @param {*} func - the function to apply to each key/value pair\n     * @returns {Array} - the resultant array\n     */\n    function* each(obj, func) {\n        var result = createSequence();\n\n        for (var key in obj) {\n            var func_args = hofFuncArgs(func, obj[key], key, obj);\n            // invoke func\n            var val = yield* func.apply(this, func_args);\n            if(typeof val !== 'undefined') {\n                result.push(val);\n            }\n        }\n\n        return result;\n    }\n\n    /**\n     *\n     * @param {string} [message] - the message to attach to the error\n     * @throws custom error with code 'D3137'\n     */\n    function error(message) {\n        throw {\n            code: \"D3137\",\n            stack: (new Error()).stack,\n            message: message || \"$error() function evaluated\"\n        };\n    }\n\n    /**\n     *\n     * @param {boolean} condition - the condition to evaluate\n     * @param {string} [message] - the message to attach to the error\n     * @throws custom error with code 'D3137'\n     * @returns {undefined}\n     */\n    function assert(condition, message) {\n        if(!condition) {\n            throw {\n                code: \"D3141\",\n                stack: (new Error()).stack,\n                message: message || \"$assert() statement failed\"\n            };\n        }\n\n        return undefined;\n    }\n\n    /**\n     *\n     * @param {*} [value] - the input to which the type will be checked\n     * @returns {string} - the type of the input\n     */\n    function type(value) {\n        if (value === undefined) {\n            return undefined;\n        }\n\n        if (value === null) {\n            return 'null';\n        }\n\n        if (isNumeric(value)) {\n            return 'number';\n        }\n\n        if (typeof value === 'string') {\n            return 'string';\n        }\n\n        if (typeof value === 'boolean') {\n            return 'boolean';\n        }\n\n        if(Array.isArray(value)) {\n            return 'array';\n        }\n\n        if(isFunction(value)) {\n            return 'function';\n        }\n\n        return 'object';\n    }\n\n    /**\n     * Implements the merge sort (stable) with optional comparator function\n     *\n     * @param {Array} arr - the array to sort\n     * @param {*} comparator - comparator function\n     * @returns {Array} - sorted array\n     */\n    function* sort(arr, comparator) {\n        // undefined inputs always return undefined\n        if (typeof arr === 'undefined') {\n            return undefined;\n        }\n\n        if (arr.length <= 1) {\n            return arr;\n        }\n\n        var comp;\n        if (typeof comparator === 'undefined') {\n            // inject a default comparator - only works for numeric or string arrays\n            if (!isArrayOfNumbers(arr) && !isArrayOfStrings(arr)) {\n                throw {\n                    stack: (new Error()).stack,\n                    code: \"D3070\",\n                    index: 1\n                };\n            }\n\n            comp = function* (a, b) {  // eslint-disable-line require-yield\n                return a > b;\n            };\n        } else {\n            // for internal usage of functionSort (i.e. order-by syntax)\n            comp = comparator;\n        }\n\n        var merge = function* (l, r) {\n            var merge_iter = function* (result, left, right) {\n                if (left.length === 0) {\n                    Array.prototype.push.apply(result, right);\n                } else if (right.length === 0) {\n                    Array.prototype.push.apply(result, left);\n                } else if (yield* comp(left[0], right[0])) { // invoke the comparator function\n                    // if it returns true - swap left and right\n                    result.push(right[0]);\n                    yield* merge_iter(result, left, right.slice(1));\n                } else {\n                    // otherwise keep the same order\n                    result.push(left[0]);\n                    yield* merge_iter(result, left.slice(1), right);\n                }\n            };\n            var merged = [];\n            yield* merge_iter(merged, l, r);\n            return merged;\n        };\n\n        var msort = function* (array) {\n            if (!Array.isArray(array) || array.length <= 1) {\n                return array;\n            } else {\n                var middle = Math.floor(array.length / 2);\n                var left = array.slice(0, middle);\n                var right = array.slice(middle);\n                left = yield* msort(left);\n                right = yield* msort(right);\n                return yield* merge(left, right);\n            }\n        };\n\n        var result = yield* msort(arr);\n\n        return result;\n    }\n\n    /**\n     * Randomly shuffles the contents of an array\n     * @param {Array} arr - the input array\n     * @returns {Array} the shuffled array\n     */\n    function shuffle(arr) {\n        // undefined inputs always return undefined\n        if (typeof arr === 'undefined') {\n            return undefined;\n        }\n\n        if (arr.length <= 1) {\n            return arr;\n        }\n\n        // shuffle using the 'inside-out' variant of the Fisher-Yates algorithm\n        var result = new Array(arr.length);\n        for (var i = 0; i < arr.length; i++) {\n            var j = Math.floor(Math.random() * (i + 1)); // random integer such that 0 ≤ j ≤ i\n            if (i !== j) {\n                result[i] = result[j];\n            }\n            result[j] = arr[i];\n        }\n\n        return result;\n    }\n\n    /**\n     * Returns the values that appear in a sequence, with duplicates eliminated.\n     * @param {Array} arr - An array or sequence of values\n     * @returns {Array} - sequence of distinct values\n     */\n    function distinct(arr) {\n        // undefined inputs always return undefined\n        if (typeof arr === 'undefined') {\n            return undefined;\n        }\n\n        if(!Array.isArray(arr) || arr.length <= 1) {\n            return arr;\n        }\n\n        var results = isSequence(arr) ? createSequence() : [];\n\n        for(var ii = 0; ii < arr.length; ii++) {\n            var value = arr[ii];\n            // is this value already in the result sequence?\n            var includes = false;\n            for(var jj = 0; jj < results.length; jj++) {\n                if (deepEquals(value, results[jj])) {\n                    includes = true;\n                    break;\n                }\n            }\n            if(!includes) {\n                results.push(value);\n            }\n        }\n        return results;\n    }\n\n    /**\n     * Applies a predicate function to each key/value pair in an object, and returns an object containing\n     * only the key/value pairs that passed the predicate\n     *\n     * @param {object} arg - the object to be sifted\n     * @param {object} func - the predicate function (lambda or native)\n     * @returns {object} - sifted object\n     */\n    function* sift(arg, func) {\n        var result = {};\n\n        for (var item in arg) {\n            var entry = arg[item];\n            var func_args = hofFuncArgs(func, entry, item, arg);\n            // invoke func\n            var res = yield* func.apply(this, func_args);\n            if (boolean(res)) {\n                result[item] = entry;\n            }\n        }\n\n        // empty objects should be changed to undefined\n        if (Object.keys(result).length === 0) {\n            result = undefined;\n        }\n\n        return result;\n    }\n\n    return {\n        sum, count, max, min, average,\n        string, substring, substringBefore, substringAfter, lowercase, uppercase, length, trim, pad,\n        match, contains, replace, split, join,\n        formatNumber, formatBase, number, floor, ceil, round, abs, sqrt, power, random,\n        boolean, not,\n        map, zip, filter, single, foldLeft, sift,\n        keys, lookup, append, exists, spread, merge, reverse, each, error, assert, type, sort, shuffle, distinct,\n        base64encode, base64decode,  encodeUrlComponent, encodeUrl, decodeUrlComponent, decodeUrl\n    };\n})();\n\nmodule.exports = functions;\n\n}).call(this)}).call(this,typeof global !== \"undefined\" ? global : typeof self !== \"undefined\" ? self : typeof window !== \"undefined\" ? window : {})\n},{\"./utils\":6}],3:[function(require,module,exports){\n/**\n * © Copyright IBM Corp. 2016, 2017 All Rights Reserved\n *   Project name: JSONata\n *   This project is licensed under the MIT License, see LICENSE\n */\n\n/**\n * @module JSONata\n * @description JSON query and transformation language\n */\n\nvar datetime = require('./datetime');\nvar fn = require('./functions');\nvar utils = require('./utils');\nvar parser = require('./parser');\nvar parseSignature = require('./signature');\n\n/**\n * jsonata\n * @function\n * @param {Object} expr - JSONata expression\n * @returns {{evaluate: evaluate, assign: assign}} Evaluated expression\n */\nvar jsonata = (function() {\n    'use strict';\n\n    var isNumeric = utils.isNumeric;\n    var isArrayOfStrings = utils.isArrayOfStrings;\n    var isArrayOfNumbers = utils.isArrayOfNumbers;\n    var createSequence = utils.createSequence;\n    var isSequence = utils.isSequence;\n    var isFunction = utils.isFunction;\n    var isLambda = utils.isLambda;\n    var isIterable = utils.isIterable;\n    var getFunctionArity = utils.getFunctionArity;\n    var isDeepEqual = utils.isDeepEqual;\n\n    // Start of Evaluator code\n\n    var staticFrame = createFrame(null);\n\n    /**\n     * Evaluate expression against input data\n     * @param {Object} expr - JSONata expression\n     * @param {Object} input - Input data to evaluate against\n     * @param {Object} environment - Environment\n     * @returns {*} Evaluated input data\n     */\n    function* evaluate(expr, input, environment) {\n        var result;\n\n        var entryCallback = environment.lookup('__evaluate_entry');\n        if(entryCallback) {\n            entryCallback(expr, input, environment);\n        }\n\n        switch (expr.type) {\n            case 'path':\n                result = yield * evaluatePath(expr, input, environment);\n                break;\n            case 'binary':\n                result = yield * evaluateBinary(expr, input, environment);\n                break;\n            case 'unary':\n                result = yield * evaluateUnary(expr, input, environment);\n                break;\n            case 'name':\n                result = evaluateName(expr, input, environment);\n                break;\n            case 'string':\n            case 'number':\n            case 'value':\n                result = evaluateLiteral(expr, input, environment);\n                break;\n            case 'wildcard':\n                result = evaluateWildcard(expr, input, environment);\n                break;\n            case 'descendant':\n                result = evaluateDescendants(expr, input, environment);\n                break;\n            case 'parent':\n                result = environment.lookup(expr.slot.label);\n                break;\n            case 'condition':\n                result = yield * evaluateCondition(expr, input, environment);\n                break;\n            case 'block':\n                result = yield * evaluateBlock(expr, input, environment);\n                break;\n            case 'bind':\n                result = yield * evaluateBindExpression(expr, input, environment);\n                break;\n            case 'regex':\n                result = evaluateRegex(expr, input, environment);\n                break;\n            case 'function':\n                result = yield * evaluateFunction(expr, input, environment);\n                break;\n            case 'variable':\n                result = evaluateVariable(expr, input, environment);\n                break;\n            case 'lambda':\n                result = evaluateLambda(expr, input, environment);\n                break;\n            case 'partial':\n                result = yield * evaluatePartialApplication(expr, input, environment);\n                break;\n            case 'apply':\n                result = yield * evaluateApplyExpression(expr, input, environment);\n                break;\n            case 'transform':\n                result = evaluateTransformExpression(expr, input, environment);\n                break;\n        }\n\n        if(environment.async &&\n            (typeof result === 'undefined' || result === null || typeof result.then !== 'function')) {\n            result = Promise.resolve(result);\n        }\n        if(environment.async && typeof result.then === 'function' && expr.nextFunction && typeof result[expr.nextFunction] === 'function') {\n            // although this is a 'thenable', it is chaining a different function\n            // so don't yield since yielding will trigger the .then()\n        } else {\n            result = yield result;\n        }\n\n        if (Object.prototype.hasOwnProperty.call(expr, 'predicate')) {\n            for(var ii = 0; ii < expr.predicate.length; ii++) {\n                result = yield * evaluateFilter(expr.predicate[ii].expr, result, environment);\n            }\n        }\n\n        if (expr.type !== 'path' && Object.prototype.hasOwnProperty.call(expr, 'group')) {\n            result = yield * evaluateGroupExpression(expr.group, result, environment);\n        }\n\n        var exitCallback = environment.lookup('__evaluate_exit');\n        if(exitCallback) {\n            exitCallback(expr, input, environment, result);\n        }\n\n        if(result && isSequence(result) && !result.tupleStream) {\n            if(expr.keepArray) {\n                result.keepSingleton = true;\n            }\n            if(result.length === 0) {\n                result = undefined;\n            } else if(result.length === 1) {\n                result =  result.keepSingleton ? result : result[0];\n            }\n\n        }\n\n        return result;\n    }\n\n    /**\n     * Evaluate path expression against input data\n     * @param {Object} expr - JSONata expression\n     * @param {Object} input - Input data to evaluate against\n     * @param {Object} environment - Environment\n     * @returns {*} Evaluated input data\n     */\n    function* evaluatePath(expr, input, environment) {\n        var inputSequence;\n        // expr is an array of steps\n        // if the first step is a variable reference ($...), including root reference ($$),\n        //   then the path is absolute rather than relative\n        if (Array.isArray(input) && expr.steps[0].type !== 'variable') {\n            inputSequence = input;\n        } else {\n            // if input is not an array, make it so\n            inputSequence = createSequence(input);\n        }\n\n        var resultSequence;\n        var isTupleStream = false;\n        var tupleBindings = undefined;\n\n        // evaluate each step in turn\n        for(var ii = 0; ii < expr.steps.length; ii++) {\n            var step = expr.steps[ii];\n\n            if(step.tuple) {\n                isTupleStream = true;\n            }\n\n            // if the first step is an explicit array constructor, then just evaluate that (i.e. don't iterate over a context array)\n            if(ii === 0 && step.consarray) {\n                resultSequence = yield * evaluate(step, inputSequence, environment);\n            } else {\n                if(isTupleStream) {\n                    tupleBindings = yield * evaluateTupleStep(step, inputSequence, tupleBindings, environment);\n                } else {\n                    resultSequence = yield * evaluateStep(step, inputSequence, environment, ii === expr.steps.length - 1);\n                }\n            }\n\n            if (!isTupleStream && (typeof resultSequence === 'undefined' || resultSequence.length === 0)) {\n                break;\n            }\n\n            if(typeof step.focus === 'undefined') {\n                inputSequence = resultSequence;\n            }\n\n        }\n\n        if(isTupleStream) {\n            if(expr.tuple) {\n                // tuple stream is carrying ancestry information - keep this\n                resultSequence = tupleBindings;\n            } else {\n                resultSequence = createSequence();\n                for (ii = 0; ii < tupleBindings.length; ii++) {\n                    resultSequence.push(tupleBindings[ii]['@']);\n                }\n            }\n        }\n\n        if(expr.keepSingletonArray) {\n            // if the array is explicitly constructed in the expression and marked to promote singleton sequences to array\n            if(Array.isArray(resultSequence) && resultSequence.cons && !resultSequence.sequence) {\n                resultSequence = createSequence(resultSequence);\n            }\n            resultSequence.keepSingleton = true;\n        }\n\n        if (expr.hasOwnProperty('group')) {\n            resultSequence = yield* evaluateGroupExpression(expr.group, isTupleStream ? tupleBindings : resultSequence, environment)\n        }\n\n        return resultSequence;\n    }\n\n    function createFrameFromTuple(environment, tuple) {\n        var frame = createFrame(environment);\n        for(const prop in tuple) {\n            frame.bind(prop, tuple[prop]);\n        }\n        return frame;\n    }\n\n    /**\n     * Evaluate a step within a path\n     * @param {Object} expr - JSONata expression\n     * @param {Object} input - Input data to evaluate against\n     * @param {Object} environment - Environment\n     * @param {boolean} lastStep - flag the last step in a path\n     * @returns {*} Evaluated input data\n     */\n    function* evaluateStep(expr, input, environment, lastStep) {\n        var result;\n        if(expr.type === 'sort') {\n             result = yield* evaluateSortExpression(expr, input, environment);\n             if(expr.stages) {\n                 result = yield* evaluateStages(expr.stages, result, environment);\n             }\n             return result;\n        }\n\n        result = createSequence();\n\n        for(var ii = 0; ii < input.length; ii++) {\n            var res = yield * evaluate(expr, input[ii], environment);\n            if(expr.stages) {\n                for(var ss = 0; ss < expr.stages.length; ss++) {\n                    res = yield* evaluateFilter(expr.stages[ss].expr, res, environment);\n                }\n            }\n            if(typeof res !== 'undefined') {\n                result.push(res);\n            }\n        }\n\n        var resultSequence = createSequence();\n        if(lastStep && result.length === 1 && Array.isArray(result[0]) && !isSequence(result[0])) {\n            resultSequence = result[0];\n        } else {\n            // flatten the sequence\n            result.forEach(function(res) {\n                if (!Array.isArray(res) || res.cons) {\n                    // it's not an array - just push into the result sequence\n                    resultSequence.push(res);\n                } else {\n                    // res is a sequence - flatten it into the parent sequence\n                    res.forEach(val => resultSequence.push(val));\n                }\n            });\n        }\n\n        return resultSequence;\n    }\n\n    function* evaluateStages(stages, input, environment) {\n        var result = input;\n        for(var ss = 0; ss < stages.length; ss++) {\n            var stage = stages[ss];\n            switch(stage.type) {\n                case 'filter':\n                    result = yield * evaluateFilter(stage.expr, result, environment);\n                    break;\n                case 'index':\n                    for(var ee = 0; ee < result.length; ee++) {\n                        var tuple = result[ee];\n                        tuple[stage.value] = ee;\n                    }\n                    break;\n            }\n        }\n        return result;\n    }\n\n    /**\n     * Evaluate a step within a path\n     * @param {Object} expr - JSONata expression\n     * @param {Object} input - Input data to evaluate against\n     * @param {Object} tupleBindings - The tuple stream\n     * @param {Object} environment - Environment\n     * @returns {*} Evaluated input data\n     */\n    function* evaluateTupleStep(expr, input, tupleBindings, environment) {\n        var result;\n        if(expr.type === 'sort') {\n            if(tupleBindings) {\n                result = yield* evaluateSortExpression(expr, tupleBindings, environment);\n            } else {\n                var sorted = yield* evaluateSortExpression(expr, input, environment);\n                result = createSequence();\n                result.tupleStream = true;\n                for(var ss = 0; ss < sorted.length; ss++) {\n                    var tuple = {'@': sorted[ss]};\n                    tuple[expr.index] = ss;\n                    result.push(tuple);\n                }\n            }\n            if(expr.stages) {\n                result = yield* evaluateStages(expr.stages, result, environment);\n            }\n            return result;\n        }\n\n        result = createSequence();\n        result.tupleStream = true;\n        var stepEnv = environment;\n        if(tupleBindings === undefined) {\n            tupleBindings = input.map(item => { return {'@': item} });\n        }\n\n        for(var ee = 0; ee < tupleBindings.length; ee++) {\n            stepEnv = createFrameFromTuple(environment, tupleBindings[ee]);\n            var res = yield* evaluate(expr, tupleBindings[ee]['@'], stepEnv);\n            // res is the binding sequence for the output tuple stream\n            if(typeof res !== 'undefined') {\n                if (!Array.isArray(res)) {\n                    res = [res];\n                }\n                for (var bb = 0; bb < res.length; bb++) {\n                    tuple = {};\n                    Object.assign(tuple, tupleBindings[ee]);\n                    if(res.tupleStream) {\n                        Object.assign(tuple, res[bb]);\n                    } else {\n                        if (expr.focus) {\n                            tuple[expr.focus] = res[bb];\n                            tuple['@'] = tupleBindings[ee]['@'];\n                        } else {\n                            tuple['@'] = res[bb];\n                        }\n                        if (expr.index) {\n                            tuple[expr.index] = bb;\n                        }\n                        if (expr.ancestor) {\n                            tuple[expr.ancestor.label] = tupleBindings[ee]['@'];\n                        }\n                    }\n                    result.push(tuple);\n                }\n            }\n        }\n\n        if(expr.stages) {\n            result = yield * evaluateStages(expr.stages, result, environment);\n        }\n\n        return result;\n    }\n\n    /**\n     * Apply filter predicate to input data\n     * @param {Object} predicate - filter expression\n     * @param {Object} input - Input data to apply predicates against\n     * @param {Object} environment - Environment\n     * @returns {*} Result after applying predicates\n     */\n    function* evaluateFilter(predicate, input, environment) {\n        var results = createSequence();\n        if( input && input.tupleStream) {\n            results.tupleStream = true;\n        }\n        if (!Array.isArray(input)) {\n            input = createSequence(input);\n        }\n        if (predicate.type === 'number') {\n            var index = Math.floor(predicate.value);  // round it down\n            if (index < 0) {\n                // count in from end of array\n                index = input.length + index;\n            }\n            var item = input[index];\n            if(typeof item !== 'undefined') {\n                if(Array.isArray(item)) {\n                    results = item;\n                } else {\n                    results.push(item);\n                }\n            }\n        } else {\n            for (index = 0; index < input.length; index++) {\n                var item = input[index];\n                var context = item;\n                var env = environment;\n                if(input.tupleStream) {\n                    context = item['@'];\n                    env = createFrameFromTuple(environment, item);\n                }\n                var res = yield* evaluate(predicate, context, env);\n                if (isNumeric(res)) {\n                    res = [res];\n                }\n                if (isArrayOfNumbers(res)) {\n                    res.forEach(function (ires) {\n                        // round it down\n                        var ii = Math.floor(ires);\n                        if (ii < 0) {\n                            // count in from end of array\n                            ii = input.length + ii;\n                        }\n                        if (ii === index) {\n                            results.push(item);\n                        }\n                    });\n                } else if (fn.boolean(res)) { // truthy\n                    results.push(item);\n                }\n            }\n        }\n        return results;\n    }\n\n    /**\n     * Evaluate binary expression against input data\n     * @param {Object} expr - JSONata expression\n     * @param {Object} input - Input data to evaluate against\n     * @param {Object} environment - Environment\n     * @returns {*} Evaluated input data\n     */\n    function * evaluateBinary(expr, input, environment) {\n        var result;\n        var lhs = yield * evaluate(expr.lhs, input, environment);\n        var op = expr.value;\n\n        //defer evaluation of RHS to allow short-circuiting\n        var evalrhs = function*(){return yield * evaluate(expr.rhs, input, environment);};\n        if (op === \"and\" || op === \"or\") {\n            try {\n                return yield * evaluateBooleanExpression(lhs, evalrhs, op);\n            } catch(err) {\n                err.position = expr.position;\n                err.token = op;\n                throw err;\n            }\n        }\n\n        var rhs = yield * evalrhs();\n        try {\n            switch (op) {\n                case '+':\n                case '-':\n                case '*':\n                case '/':\n                case '%':\n                    result = evaluateNumericExpression(lhs, rhs, op);\n                    break;\n                case '=':\n                case '!=':\n                    result = evaluateEqualityExpression(lhs, rhs, op);\n                    break;\n                case '<':\n                case '<=':\n                case '>':\n                case '>=':\n                    result = evaluateComparisonExpression(lhs, rhs, op);\n                    break;\n                case '&':\n                    result = evaluateStringConcat(lhs, rhs);\n                    break;\n                case '..':\n                    result = evaluateRangeExpression(lhs, rhs);\n                    break;\n                case 'in':\n                    result = evaluateIncludesExpression(lhs, rhs);\n                    break;\n            }\n        } catch(err) {\n            err.position = expr.position;\n            err.token = op;\n            throw err;\n        }\n        return result;\n    }\n\n    /**\n     * Evaluate unary expression against input data\n     * @param {Object} expr - JSONata expression\n     * @param {Object} input - Input data to evaluate against\n     * @param {Object} environment - Environment\n     * @returns {*} Evaluated input data\n     */\n    function* evaluateUnary(expr, input, environment) {\n        var result;\n\n        switch (expr.value) {\n            case '-':\n                result = yield * evaluate(expr.expression, input, environment);\n                if(typeof result === 'undefined') {\n                    result = undefined;\n                } else if (isNumeric(result)) {\n                    result = -result;\n                } else {\n                    throw {\n                        code: \"D1002\",\n                        stack: (new Error()).stack,\n                        position: expr.position,\n                        token: expr.value,\n                        value: result\n                    };\n                }\n                break;\n            case '[':\n                // array constructor - evaluate each item\n                result = [];\n                for(var ii = 0; ii < expr.expressions.length; ii++) {\n                    var item = expr.expressions[ii];\n                    var value = yield * evaluate(item, input, environment);\n                    if (typeof value !== 'undefined') {\n                        if(item.value === '[') {\n                            result.push(value);\n                        } else {\n                            result = fn.append(result, value);\n                        }\n                    }\n                }\n                if(expr.consarray) {\n                    Object.defineProperty(result, 'cons', {\n                        enumerable: false,\n                        configurable: false,\n                        value: true\n                    });\n                }\n                break;\n            case '{':\n                // object constructor - apply grouping\n                result = yield * evaluateGroupExpression(expr, input, environment);\n                break;\n\n        }\n        return result;\n    }\n\n    /**\n     * Evaluate name object against input data\n     * @param {Object} expr - JSONata expression\n     * @param {Object} input - Input data to evaluate against\n     * @param {Object} environment - Environment\n     * @returns {*} Evaluated input data\n     */\n    function evaluateName(expr, input, environment) {\n        // lookup the 'name' item in the input\n        return fn.lookup(input, expr.value);\n    }\n\n    /**\n     * Evaluate literal against input data\n     * @param {Object} expr - JSONata expression\n     * @returns {*} Evaluated input data\n     */\n    function evaluateLiteral(expr) {\n        return expr.value;\n    }\n\n    /**\n     * Evaluate wildcard against input data\n     * @param {Object} expr - JSONata expression\n     * @param {Object} input - Input data to evaluate against\n     * @returns {*} Evaluated input data\n     */\n    function evaluateWildcard(expr, input) {\n        var results = createSequence();\n        if (Array.isArray(input) && input.outerWrapper && input.length > 0) {\n            input = input[0];\n        }\n        if (input !== null && typeof input === 'object') {\n            Object.keys(input).forEach(function (key) {\n                var value = input[key];\n                if(Array.isArray(value)) {\n                    value = flatten(value);\n                    results = fn.append(results, value);\n                } else {\n                    results.push(value);\n                }\n            });\n        }\n\n        //        result = normalizeSequence(results);\n        return results;\n    }\n\n    /**\n     * Returns a flattened array\n     * @param {Array} arg - the array to be flatten\n     * @param {Array} flattened - carries the flattened array - if not defined, will initialize to []\n     * @returns {Array} - the flattened array\n     */\n    function flatten(arg, flattened) {\n        if(typeof flattened === 'undefined') {\n            flattened = [];\n        }\n        if(Array.isArray(arg)) {\n            arg.forEach(function (item) {\n                flatten(item, flattened);\n            });\n        } else {\n            flattened.push(arg);\n        }\n        return flattened;\n    }\n\n    /**\n     * Evaluate descendants against input data\n     * @param {Object} expr - JSONata expression\n     * @param {Object} input - Input data to evaluate against\n     * @returns {*} Evaluated input data\n     */\n    function evaluateDescendants(expr, input) {\n        var result;\n        var resultSequence = createSequence();\n        if (typeof input !== 'undefined') {\n            // traverse all descendants of this object/array\n            recurseDescendants(input, resultSequence);\n            if (resultSequence.length === 1) {\n                result = resultSequence[0];\n            } else {\n                result = resultSequence;\n            }\n        }\n        return result;\n    }\n\n    /**\n     * Recurse through descendants\n     * @param {Object} input - Input data\n     * @param {Object} results - Results\n     */\n    function recurseDescendants(input, results) {\n        // this is the equivalent of //* in XPath\n        if (!Array.isArray(input)) {\n            results.push(input);\n        }\n        if (Array.isArray(input)) {\n            input.forEach(function (member) {\n                recurseDescendants(member, results);\n            });\n        } else if (input !== null && typeof input === 'object') {\n            Object.keys(input).forEach(function (key) {\n                recurseDescendants(input[key], results);\n            });\n        }\n    }\n\n    /**\n     * Evaluate numeric expression against input data\n     * @param {Object} lhs - LHS value\n     * @param {Object} rhs - RHS value\n     * @param {Object} op - opcode\n     * @returns {*} Result\n     */\n    function evaluateNumericExpression(lhs, rhs, op) {\n        var result;\n\n        if (typeof lhs !== 'undefined' && !isNumeric(lhs)) {\n            throw {\n                code: \"T2001\",\n                stack: (new Error()).stack,\n                value: lhs\n            };\n        }\n        if (typeof rhs !== 'undefined' && !isNumeric(rhs)) {\n            throw {\n                code: \"T2002\",\n                stack: (new Error()).stack,\n                value: rhs\n            };\n        }\n\n        if (typeof lhs === 'undefined' || typeof rhs === 'undefined') {\n            // if either side is undefined, the result is undefined\n            return result;\n        }\n\n        switch (op) {\n            case '+':\n                result = lhs + rhs;\n                break;\n            case '-':\n                result = lhs - rhs;\n                break;\n            case '*':\n                result = lhs * rhs;\n                break;\n            case '/':\n                result = lhs / rhs;\n                break;\n            case '%':\n                result = lhs % rhs;\n                break;\n        }\n        return result;\n    }\n\n    /**\n     * Evaluate equality expression against input data\n     * @param {Object} lhs - LHS value\n     * @param {Object} rhs - RHS value\n     * @param {Object} op - opcode\n     * @returns {*} Result\n     */\n    function evaluateEqualityExpression(lhs, rhs, op) {\n        var result;\n\n        // type checks\n        var ltype = typeof lhs;\n        var rtype = typeof rhs;\n\n        if (ltype === 'undefined' || rtype === 'undefined') {\n            // if either side is undefined, the result is false\n            return false;\n        }\n\n        switch (op) {\n            case '=':\n                result = isDeepEqual(lhs, rhs);\n                break;\n            case '!=':\n                result = !isDeepEqual(lhs, rhs);\n                break;\n        }\n        return result;\n    }\n\n    /**\n     * Evaluate comparison expression against input data\n     * @param {Object} lhs - LHS value\n     * @param {Object} rhs - RHS value\n     * @param {Object} op - opcode\n     * @returns {*} Result\n     */\n    function evaluateComparisonExpression(lhs, rhs, op) {\n        var result;\n\n        // type checks\n        var ltype = typeof lhs;\n        var rtype = typeof rhs;\n\n        var lcomparable = (ltype === 'undefined' || ltype === 'string' || ltype === 'number');\n        var rcomparable = (rtype === 'undefined' || rtype === 'string' || rtype === 'number');\n\n        // if either aa or bb are not comparable (string or numeric) values, then throw an error\n        if (!lcomparable || !rcomparable) {\n            throw {\n                code: \"T2010\",\n                stack: (new Error()).stack,\n                value: !(ltype === 'string' || ltype === 'number') ? lhs : rhs\n            };\n        }\n\n        // if either side is undefined, the result is undefined\n        if (ltype === 'undefined' || rtype === 'undefined') {\n            return undefined;\n        }\n\n        //if aa and bb are not of the same type\n        if (ltype !== rtype) {\n            throw {\n                code: \"T2009\",\n                stack: (new Error()).stack,\n                value: lhs,\n                value2: rhs\n            };\n        }\n\n        switch (op) {\n            case '<':\n                result = lhs < rhs;\n                break;\n            case '<=':\n                result = lhs <= rhs;\n                break;\n            case '>':\n                result = lhs > rhs;\n                break;\n            case '>=':\n                result = lhs >= rhs;\n                break;\n        }\n        return result;\n    }\n\n    /**\n     * Inclusion operator - in\n     *\n     * @param {Object} lhs - LHS value\n     * @param {Object} rhs - RHS value\n     * @returns {boolean} - true if lhs is a member of rhs\n     */\n    function evaluateIncludesExpression(lhs, rhs) {\n        var result = false;\n\n        if (typeof lhs === 'undefined' || typeof rhs === 'undefined') {\n            // if either side is undefined, the result is false\n            return false;\n        }\n\n        if(!Array.isArray(rhs)) {\n            rhs = [rhs];\n        }\n\n        for(var i = 0; i < rhs.length; i++) {\n            if(rhs[i] === lhs) {\n                result = true;\n                break;\n            }\n        }\n\n        return result;\n    }\n\n    /**\n     * Evaluate boolean expression against input data\n     * @param {Object} lhs - LHS value\n     * @param {Function} evalrhs - function to evaluate RHS value\n     * @param {Object} op - opcode\n     * @returns {*} Result\n     */\n    function * evaluateBooleanExpression(lhs, evalrhs, op) {\n        var result;\n\n        var lBool = boolize(lhs);\n\n        switch (op) {\n            case 'and':\n                result = lBool && boolize(yield * evalrhs());\n                break;\n            case 'or':\n                result = lBool || boolize(yield * evalrhs());\n                break;\n        }\n        return result;\n    }\n\n    function boolize(value) {\n        var booledValue = fn.boolean(value);\n        return typeof booledValue === 'undefined' ? false : booledValue;\n    }\n\n    /**\n     * Evaluate string concatenation against input data\n     * @param {Object} lhs - LHS value\n     * @param {Object} rhs - RHS value\n     * @returns {string|*} Concatenated string\n     */\n    function evaluateStringConcat(lhs, rhs) {\n        var result;\n\n        var lstr = '';\n        var rstr = '';\n        if (typeof lhs !== 'undefined') {\n            lstr = fn.string(lhs);\n        }\n        if (typeof rhs !== 'undefined') {\n            rstr = fn.string(rhs);\n        }\n\n        result = lstr.concat(rstr);\n        return result;\n    }\n\n    /**\n     * Evaluate group expression against input data\n     * @param {Object} expr - JSONata expression\n     * @param {Object} input - Input data to evaluate against\n     * @param {Object} environment - Environment\n     * @returns {{}} Evaluated input data\n     */\n    function* evaluateGroupExpression(expr, input, environment) {\n        var result = {};\n        var groups = {};\n        var reduce = input && input.tupleStream ? true : false;\n        // group the input sequence by 'key' expression\n        if (!Array.isArray(input)) {\n            input = createSequence(input);\n        }\n        // if the array is empty, add an undefined entry to enable literal JSON object to be generated\n        if (input.length === 0) {\n            input.push(undefined);\n        }\n\n        for(var itemIndex = 0; itemIndex < input.length; itemIndex++) {\n            var item = input[itemIndex];\n            var env = reduce ? createFrameFromTuple(environment, item) : environment;\n            for(var pairIndex = 0; pairIndex < expr.lhs.length; pairIndex++) {\n                var pair = expr.lhs[pairIndex];\n                var key = yield * evaluate(pair[0], reduce ? item['@'] : item, env);\n                // key has to be a string\n                if (typeof  key !== 'string' && key !== undefined) {\n                    throw {\n                        code: \"T1003\",\n                        stack: (new Error()).stack,\n                        position: expr.position,\n                        value: key\n                    };\n                }\n\n                if (key !== undefined) {\n                    var entry = {data: item, exprIndex: pairIndex};\n                    if (groups.hasOwnProperty(key)) {\n                        // a value already exists in this slot\n                        if(groups[key].exprIndex !== pairIndex) {\n                            // this key has been generated by another expression in this group\n                            // when multiple key expressions evaluate to the same key, then error D1009 must be thrown\n                            throw {\n                                code: \"D1009\",\n                                stack: (new Error()).stack,\n                                position: expr.position,\n                                value: key\n                            };\n                        }\n\n                        // append it as an array\n                        groups[key].data = fn.append(groups[key].data, item);\n                    } else {\n                        groups[key] = entry;\n                    }\n                }\n            }\n        }\n\n        // iterate over the groups to evaluate the 'value' expression\n        for (key in groups) {\n            entry = groups[key];\n            var context = entry.data;\n            var env = environment;\n            if (reduce) {\n                var tuple = reduceTupleStream(entry.data);\n                context = tuple['@'];\n                delete tuple['@'];\n                env = createFrameFromTuple(environment, tuple);\n            }\n            var value = yield * evaluate(expr.lhs[entry.exprIndex][1], context, env);\n            if(typeof value !== 'undefined') {\n                result[key] = value;\n            }\n        }\n\n        return result;\n    }\n\n    function reduceTupleStream(tupleStream) {\n        if(!Array.isArray(tupleStream)) {\n            return tupleStream;\n        }\n        var result = {};\n        Object.assign(result, tupleStream[0]);\n        for(var ii = 1; ii < tupleStream.length; ii++) {\n            for(const prop in tupleStream[ii]) {\n                result[prop] = fn.append(result[prop], tupleStream[ii][prop]);\n            }\n        }\n        return result;\n    }\n\n    /**\n     * Evaluate range expression against input data\n     * @param {Object} lhs - LHS value\n     * @param {Object} rhs - RHS value\n     * @returns {Array} Resultant array\n     */\n    function evaluateRangeExpression(lhs, rhs) {\n        var result;\n\n        if (typeof lhs !== 'undefined' && !Number.isInteger(lhs)) {\n            throw {\n                code: \"T2003\",\n                stack: (new Error()).stack,\n                value: lhs\n            };\n        }\n        if (typeof rhs !== 'undefined' && !Number.isInteger(rhs)) {\n            throw {\n                code: \"T2004\",\n                stack: (new Error()).stack,\n                value: rhs\n            };\n        }\n\n        if (typeof lhs === 'undefined' || typeof rhs === 'undefined') {\n            // if either side is undefined, the result is undefined\n            return result;\n        }\n\n        if (lhs > rhs) {\n            // if the lhs is greater than the rhs, return undefined\n            return result;\n        }\n\n        // limit the size of the array to ten million entries (1e7)\n        // this is an implementation defined limit to protect against\n        // memory and performance issues.  This value may increase in the future.\n        var size = rhs - lhs + 1;\n        if(size > 1e7) {\n            throw {\n                code: \"D2014\",\n                stack: (new Error()).stack,\n                value: size\n            };\n        }\n\n        result = new Array(size);\n        for (var item = lhs, index = 0; item <= rhs; item++, index++) {\n            result[index] = item;\n        }\n        result.sequence = true;\n        return result;\n    }\n\n    /**\n     * Evaluate bind expression against input data\n     * @param {Object} expr - JSONata expression\n     * @param {Object} input - Input data to evaluate against\n     * @param {Object} environment - Environment\n     * @returns {*} Evaluated input data\n     */\n    function* evaluateBindExpression(expr, input, environment) {\n        // The RHS is the expression to evaluate\n        // The LHS is the name of the variable to bind to - should be a VARIABLE token (enforced by parser)\n        var value = yield * evaluate(expr.rhs, input, environment);\n        environment.bind(expr.lhs.value, value);\n        return value;\n    }\n\n    /**\n     * Evaluate condition against input data\n     * @param {Object} expr - JSONata expression\n     * @param {Object} input - Input data to evaluate against\n     * @param {Object} environment - Environment\n     * @returns {*} Evaluated input data\n     */\n    function* evaluateCondition(expr, input, environment) {\n        var result;\n        var condition = yield * evaluate(expr.condition, input, environment);\n        if (fn.boolean(condition)) {\n            result = yield * evaluate(expr.then, input, environment);\n        } else if (typeof expr.else !== 'undefined') {\n            result = yield * evaluate(expr.else, input, environment);\n        }\n        return result;\n    }\n\n    /**\n     * Evaluate block against input data\n     * @param {Object} expr - JSONata expression\n     * @param {Object} input - Input data to evaluate against\n     * @param {Object} environment - Environment\n     * @returns {*} Evaluated input data\n     */\n    function* evaluateBlock(expr, input, environment) {\n        var result;\n        // create a new frame to limit the scope of variable assignments\n        // TODO, only do this if the post-parse stage has flagged this as required\n        var frame = createFrame(environment);\n        // invoke each expression in turn\n        // only return the result of the last one\n        for(var ii = 0; ii < expr.expressions.length; ii++) {\n            result = yield * evaluate(expr.expressions[ii], input, frame);\n        }\n\n        return result;\n    }\n\n    /**\n     * Prepare a regex\n     * @param {Object} expr - expression containing regex\n     * @returns {Function} Higher order function representing prepared regex\n     */\n    function evaluateRegex(expr) {\n        var re = new jsonata.RegexEngine(expr.value);\n        var closure = function(str, fromIndex) {\n            var result;\n            re.lastIndex = fromIndex || 0;\n            var match = re.exec(str);\n            if(match !== null) {\n                result = {\n                    match: match[0],\n                    start: match.index,\n                    end: match.index + match[0].length,\n                    groups: []\n                };\n                if(match.length > 1) {\n                    for(var i = 1; i < match.length; i++) {\n                        result.groups.push(match[i]);\n                    }\n                }\n                result.next = function() {\n                    if(re.lastIndex >= str.length) {\n                        return undefined;\n                    } else {\n                        var next = closure(str, re.lastIndex);\n                        if(next && next.match === '') {\n                            // matches zero length string; this will never progress\n                            throw {\n                                code: \"D1004\",\n                                stack: (new Error()).stack,\n                                position: expr.position,\n                                value: expr.value.source\n                            };\n                        }\n                        return next;\n                    }\n                };\n            }\n\n            return result;\n        };\n        return closure;\n    }\n\n    /**\n     * Evaluate variable against input data\n     * @param {Object} expr - JSONata expression\n     * @param {Object} input - Input data to evaluate against\n     * @param {Object} environment - Environment\n     * @returns {*} Evaluated input data\n     */\n    function evaluateVariable(expr, input, environment) {\n        // lookup the variable value in the environment\n        var result;\n        // if the variable name is empty string, then it refers to context value\n        if (expr.value === '') {\n            result = input && input.outerWrapper ? input[0] : input;\n        } else {\n            result = environment.lookup(expr.value);\n        }\n        return result;\n    }\n\n    /**\n     * sort / order-by operator\n     * @param {Object} expr - AST for operator\n     * @param {Object} input - Input data to evaluate against\n     * @param {Object} environment - Environment\n     * @returns {*} Ordered sequence\n     */\n    function* evaluateSortExpression(expr, input, environment) {\n        var result;\n\n        // evaluate the lhs, then sort the results in order according to rhs expression\n        //var lhs = yield * evaluate(expr.lhs, input, environment);\n        var lhs = input;\n        var isTupleSort = input.tupleStream ? true : false;\n\n        // sort the lhs array\n        // use comparator function\n        var comparator = function*(a, b) { // eslint-disable-line require-yield\n            // expr.terms is an array of order-by in priority order\n            var comp = 0;\n            for(var index = 0; comp === 0 && index < expr.terms.length; index++) {\n                var term = expr.terms[index];\n                //evaluate the sort term in the context of a\n                var context = a;\n                var env = environment;\n                if(isTupleSort) {\n                    context = a['@'];\n                    env = createFrameFromTuple(environment, a);\n                }\n                var aa = yield * evaluate(term.expression, context, env);\n                //evaluate the sort term in the context of b\n                context = b;\n                env = environment;\n                if(isTupleSort) {\n                    context = b['@'];\n                    env = createFrameFromTuple(environment, b);\n                }\n                var bb = yield * evaluate(term.expression, context, env);\n\n                // type checks\n                var atype = typeof aa;\n                var btype = typeof bb;\n                // undefined should be last in sort order\n                if(atype === 'undefined') {\n                    // swap them, unless btype is also undefined\n                    comp = (btype === 'undefined') ? 0 : 1;\n                    continue;\n                }\n                if(btype === 'undefined') {\n                    comp = -1;\n                    continue;\n                }\n\n                // if aa or bb are not string or numeric values, then throw an error\n                if(!(atype === 'string' || atype === 'number') || !(btype === 'string' || btype === 'number')) {\n                    throw {\n                        code: \"T2008\",\n                        stack: (new Error()).stack,\n                        position: expr.position,\n                        value: !(atype === 'string' || atype === 'number') ? aa : bb\n                    };\n                }\n\n                //if aa and bb are not of the same type\n                if(atype !== btype) {\n                    throw {\n                        code: \"T2007\",\n                        stack: (new Error()).stack,\n                        position: expr.position,\n                        value: aa,\n                        value2: bb\n                    };\n                }\n                if(aa === bb) {\n                    // both the same - move on to next term\n                    continue;\n                } else if (aa < bb) {\n                    comp = -1;\n                } else {\n                    comp = 1;\n                }\n                if(term.descending === true) {\n                    comp = -comp;\n                }\n            }\n            // only swap a & b if comp equals 1\n            return comp === 1;\n        };\n\n        var focus = {\n            environment: environment,\n            input: input\n        };\n        // the `focus` is passed in as the `this` for the invoked function\n        result = yield * fn.sort.apply(focus, [lhs, comparator]);\n\n        return result;\n    }\n\n    /**\n     * create a transformer function\n     * @param {Object} expr - AST for operator\n     * @param {Object} input - Input data to evaluate against\n     * @param {Object} environment - Environment\n     * @returns {*} tranformer function\n     */\n    function evaluateTransformExpression(expr, input, environment) {\n        // create a function to implement the transform definition\n        var transformer = function*(obj) { // signature <(oa):o>\n            // undefined inputs always return undefined\n            if(typeof obj === 'undefined') {\n                return undefined;\n            }\n\n            // this function returns a copy of obj with changes specified by the pattern/operation\n            var cloneFunction = environment.lookup('clone');\n            if(!isFunction(cloneFunction)) {\n                // throw type error\n                throw {\n                    code: \"T2013\",\n                    stack: (new Error()).stack,\n                    position: expr.position\n                };\n            }\n            var result = yield * apply(cloneFunction, [obj], null, environment);\n            var matches = yield * evaluate(expr.pattern, result, environment);\n            if(typeof matches !== 'undefined') {\n                if(!Array.isArray(matches)) {\n                    matches = [matches];\n                }\n                for(var ii = 0; ii < matches.length; ii++) {\n                    var match = matches[ii];\n                    // evaluate the update value for each match\n                    var update = yield * evaluate(expr.update, match, environment);\n                    // update must be an object\n                    var updateType = typeof update;\n                    if(updateType !== 'undefined') {\n                        if(updateType !== 'object' || update === null || Array.isArray(update)) {\n                            // throw type error\n                            throw {\n                                code: \"T2011\",\n                                stack: (new Error()).stack,\n                                position: expr.update.position,\n                                value: update\n                            };\n                        }\n                        // merge the update\n                        for(var prop in update) {\n                            match[prop] = update[prop];\n                        }\n                    }\n\n                    // delete, if specified, must be an array of strings (or single string)\n                    if(typeof expr.delete !== 'undefined') {\n                        var deletions = yield * evaluate(expr.delete, match, environment);\n                        if(typeof deletions !== 'undefined') {\n                            var val = deletions;\n                            if (!Array.isArray(deletions)) {\n                                deletions = [deletions];\n                            }\n                            if (!isArrayOfStrings(deletions)) {\n                                // throw type error\n                                throw {\n                                    code: \"T2012\",\n                                    stack: (new Error()).stack,\n                                    position: expr.delete.position,\n                                    value: val\n                                };\n                            }\n                            for (var jj = 0; jj < deletions.length; jj++) {\n                                if(typeof match === 'object' && match !== null) {\n                                    delete match[deletions[jj]];\n                                }\n                            }\n                        }\n                    }\n                }\n            }\n\n            return result;\n        };\n\n        return defineFunction(transformer, '<(oa):o>');\n    }\n\n    var chainAST = parser('function($f, $g) { function($x){ $g($f($x)) } }');\n\n    /**\n     * Apply the function on the RHS using the sequence on the LHS as the first argument\n     * @param {Object} expr - JSONata expression\n     * @param {Object} input - Input data to evaluate against\n     * @param {Object} environment - Environment\n     * @returns {*} Evaluated input data\n     */\n    function* evaluateApplyExpression(expr, input, environment) {\n        var result;\n\n\n        var lhs = yield * evaluate(expr.lhs, input, environment);\n        if(expr.rhs.type === 'function') {\n            // this is a function _invocation_; invoke it with lhs expression as the first argument\n            result = yield * evaluateFunction(expr.rhs, input, environment, { context: lhs });\n        } else {\n            var func = yield * evaluate(expr.rhs, input, environment);\n\n            if(!isFunction(func)) {\n                throw {\n                    code: \"T2006\",\n                    stack: (new Error()).stack,\n                    position: expr.position,\n                    value: func\n                };\n            }\n\n            if(isFunction(lhs)) {\n                // this is function chaining (func1 ~> func2)\n                // λ($f, $g) { λ($x){ $g($f($x)) } }\n                var chain = yield * evaluate(chainAST, null, environment);\n                result = yield * apply(chain, [lhs, func], null, environment);\n            } else {\n                result = yield * apply(func, [lhs], null, environment);\n            }\n\n        }\n\n        return result;\n    }\n\n    /**\n     * Evaluate function against input data\n     * @param {Object} expr - JSONata expression\n     * @param {Object} input - Input data to evaluate against\n     * @param {Object} environment - Environment\n     * @returns {*} Evaluated input data\n     */\n    function* evaluateFunction(expr, input, environment, applyto) {\n        var result;\n\n        // create the procedure\n        // can't assume that expr.procedure is a lambda type directly\n        // could be an expression that evaluates to a function (e.g. variable reference, parens expr etc.\n        // evaluate it generically first, then check that it is a function.  Throw error if not.\n        var proc = yield * evaluate(expr.procedure, input, environment);\n\n        if (typeof proc === 'undefined' && expr.procedure.type === 'path' && environment.lookup(expr.procedure.steps[0].value)) {\n            // help the user out here if they simply forgot the leading $\n            throw {\n                code: \"T1005\",\n                stack: (new Error()).stack,\n                position: expr.position,\n                token: expr.procedure.steps[0].value\n            };\n        }\n\n        var evaluatedArgs = [];\n        if(typeof applyto !== 'undefined') {\n            evaluatedArgs.push(applyto.context);\n        }\n        // eager evaluation - evaluate the arguments\n        for (var jj = 0; jj < expr.arguments.length; jj++) {\n            const arg = yield* evaluate(expr.arguments[jj], input, environment);\n            if(isFunction(arg)) {\n                // wrap this in a closure\n                const closure = function* (...params) {\n                    // invoke func\n                    return yield * apply(arg, params, null, environment);\n                };\n                closure.arity = getFunctionArity(arg);\n                evaluatedArgs.push(closure);\n            } else {\n                evaluatedArgs.push(arg);\n            }\n        }\n        // apply the procedure\n        var procName = expr.procedure.type === 'path' ? expr.procedure.steps[0].value : expr.procedure.value;\n        try {\n            if(typeof proc === 'object') {\n                proc.token = procName;\n                proc.position = expr.position;\n            }\n            result = yield * apply(proc, evaluatedArgs, input, environment);\n        } catch (err) {\n            if(!err.position) {\n                // add the position field to the error\n                err.position = expr.position;\n            }\n            if (!err.token) {\n                // and the function identifier\n                err.token = procName;\n            }\n            throw err;\n        }\n        return result;\n    }\n\n    /**\n     * Apply procedure or function\n     * @param {Object} proc - Procedure\n     * @param {Array} args - Arguments\n     * @param {Object} input - input\n     * @param {Object} environment - environment\n     * @returns {*} Result of procedure\n     */\n    function* apply(proc, args, input, environment) {\n        var result;\n        result = yield * applyInner(proc, args, input, environment);\n        while(isLambda(result) && result.thunk === true) {\n            // trampoline loop - this gets invoked as a result of tail-call optimization\n            // the function returned a tail-call thunk\n            // unpack it, evaluate its arguments, and apply the tail call\n            var next = yield * evaluate(result.body.procedure, result.input, result.environment);\n            if(result.body.procedure.type === 'variable') {\n                next.token = result.body.procedure.value;\n            }\n            next.position = result.body.procedure.position;\n            var evaluatedArgs = [];\n            for(var ii = 0; ii < result.body.arguments.length; ii++) {\n                evaluatedArgs.push(yield * evaluate(result.body.arguments[ii], result.input, result.environment));\n            }\n\n            result = yield * applyInner(next, evaluatedArgs, input, environment);\n        }\n        return result;\n    }\n\n    /**\n     * Apply procedure or function\n     * @param {Object} proc - Procedure\n     * @param {Array} args - Arguments\n     * @param {Object} input - input\n     * @param {Object} environment - environment\n     * @returns {*} Result of procedure\n     */\n    function* applyInner(proc, args, input, environment) {\n        var result;\n        try {\n            var validatedArgs = args;\n            if (proc) {\n                validatedArgs = validateArguments(proc.signature, args, input);\n            }\n\n            if (isLambda(proc)) {\n                result = yield* applyProcedure(proc, validatedArgs);\n            } else if (proc && proc._jsonata_function === true) {\n                var focus = {\n                    environment: environment,\n                    input: input\n                };\n                // the `focus` is passed in as the `this` for the invoked function\n                result = proc.implementation.apply(focus, validatedArgs);\n                // `proc.implementation` might be a generator function\n                // and `result` might be a generator - if so, yield\n                if (isIterable(result)) {\n                    result = yield* result;\n                }\n            } else if (typeof proc === 'function') {\n                // typically these are functions that are returned by the invocation of plugin functions\n                // the `input` is being passed in as the `this` for the invoked function\n                // this is so that functions that return objects containing functions can chain\n                // e.g. $func().next().next()\n                result = proc.apply(input, validatedArgs);\n                /* istanbul ignore next */\n                if (isIterable(result)) {\n                    result = yield* result;\n                }\n            } else {\n                throw {\n                    code: \"T1006\",\n                    stack: (new Error()).stack\n                };\n            }\n        } catch(err) {\n            if(proc) {\n                if (typeof err.token == 'undefined' && typeof proc.token !== 'undefined') {\n                    err.token = proc.token;\n                }\n                err.position = proc.position;\n            }\n            throw err;\n        }\n        return result;\n    }\n\n    /**\n     * Evaluate lambda against input data\n     * @param {Object} expr - JSONata expression\n     * @param {Object} input - Input data to evaluate against\n     * @param {Object} environment - Environment\n     * @returns {{lambda: boolean, input: *, environment: *, arguments: *, body: *}} Evaluated input data\n     */\n    function evaluateLambda(expr, input, environment) {\n        // make a function (closure)\n        var procedure = {\n            _jsonata_lambda: true,\n            input: input,\n            environment: environment,\n            arguments: expr.arguments,\n            signature: expr.signature,\n            body: expr.body\n        };\n        if(expr.thunk === true) {\n            procedure.thunk = true;\n        }\n        procedure.apply = function*(self, args) {\n            return yield * apply(procedure, args, input, self.environment);\n        };\n        return procedure;\n    }\n\n    /**\n     * Evaluate partial application\n     * @param {Object} expr - JSONata expression\n     * @param {Object} input - Input data to evaluate against\n     * @param {Object} environment - Environment\n     * @returns {*} Evaluated input data\n     */\n    function* evaluatePartialApplication(expr, input, environment) {\n        // partially apply a function\n        var result;\n        // evaluate the arguments\n        var evaluatedArgs = [];\n        for(var ii = 0; ii < expr.arguments.length; ii++) {\n            var arg = expr.arguments[ii];\n            if (arg.type === 'operator' && arg.value === '?') {\n                evaluatedArgs.push(arg);\n            } else {\n                evaluatedArgs.push(yield * evaluate(arg, input, environment));\n            }\n        }\n        // lookup the procedure\n        var proc = yield * evaluate(expr.procedure, input, environment);\n        if (typeof proc === 'undefined' && expr.procedure.type === 'path' && environment.lookup(expr.procedure.steps[0].value)) {\n            // help the user out here if they simply forgot the leading $\n            throw {\n                code: \"T1007\",\n                stack: (new Error()).stack,\n                position: expr.position,\n                token: expr.procedure.steps[0].value\n            };\n        }\n        if (isLambda(proc)) {\n            result = partialApplyProcedure(proc, evaluatedArgs);\n        } else if (proc && proc._jsonata_function === true) {\n            result = partialApplyNativeFunction(proc.implementation, evaluatedArgs);\n        } else if (typeof proc === 'function') {\n            result = partialApplyNativeFunction(proc, evaluatedArgs);\n        } else {\n            throw {\n                code: \"T1008\",\n                stack: (new Error()).stack,\n                position: expr.position,\n                token: expr.procedure.type === 'path' ? expr.procedure.steps[0].value : expr.procedure.value\n            };\n        }\n        return result;\n    }\n\n    /**\n     * Validate the arguments against the signature validator (if it exists)\n     * @param {Function} signature - validator function\n     * @param {Array} args - function arguments\n     * @param {*} context - context value\n     * @returns {Array} - validated arguments\n     */\n    function validateArguments(signature, args, context) {\n        if(typeof signature === 'undefined') {\n            // nothing to validate\n            return args;\n        }\n        var validatedArgs = signature.validate(args, context);\n        return validatedArgs;\n    }\n\n    /**\n     * Apply procedure\n     * @param {Object} proc - Procedure\n     * @param {Array} args - Arguments\n     * @returns {*} Result of procedure\n     */\n    function* applyProcedure(proc, args) {\n        var result;\n        var env = createFrame(proc.environment);\n        proc.arguments.forEach(function (param, index) {\n            env.bind(param.value, args[index]);\n        });\n        if (typeof proc.body === 'function') {\n            // this is a lambda that wraps a native function - generated by partially evaluating a native\n            result = yield * applyNativeFunction(proc.body, env);\n        } else {\n            result = yield * evaluate(proc.body, proc.input, env);\n        }\n        return result;\n    }\n\n    /**\n     * Partially apply procedure\n     * @param {Object} proc - Procedure\n     * @param {Array} args - Arguments\n     * @returns {{lambda: boolean, input: *, environment: {bind, lookup}, arguments: Array, body: *}} Result of partially applied procedure\n     */\n    function partialApplyProcedure(proc, args) {\n        // create a closure, bind the supplied parameters and return a function that takes the remaining (?) parameters\n        var env = createFrame(proc.environment);\n        var unboundArgs = [];\n        proc.arguments.forEach(function (param, index) {\n            var arg = args[index];\n            if (arg && arg.type === 'operator' && arg.value === '?') {\n                unboundArgs.push(param);\n            } else {\n                env.bind(param.value, arg);\n            }\n        });\n        var procedure = {\n            _jsonata_lambda: true,\n            input: proc.input,\n            environment: env,\n            arguments: unboundArgs,\n            body: proc.body\n        };\n        return procedure;\n    }\n\n    /**\n     * Partially apply native function\n     * @param {Function} native - Native function\n     * @param {Array} args - Arguments\n     * @returns {{lambda: boolean, input: *, environment: {bind, lookup}, arguments: Array, body: *}} Result of partially applying native function\n     */\n    function partialApplyNativeFunction(native, args) {\n        // create a lambda function that wraps and invokes the native function\n        // get the list of declared arguments from the native function\n        // this has to be picked out from the toString() value\n        var sigArgs = getNativeFunctionArguments(native);\n        sigArgs = sigArgs.map(function (sigArg) {\n            return '$' + sigArg.trim();\n        });\n        var body = 'function(' + sigArgs.join(', ') + '){ _ }';\n\n        var bodyAST = parser(body);\n        bodyAST.body = native;\n\n        var partial = partialApplyProcedure(bodyAST, args);\n        return partial;\n    }\n\n    /**\n     * Apply native function\n     * @param {Object} proc - Procedure\n     * @param {Object} env - Environment\n     * @returns {*} Result of applying native function\n     */\n    function* applyNativeFunction(proc, env) {\n        var sigArgs = getNativeFunctionArguments(proc);\n        // generate the array of arguments for invoking the function - look them up in the environment\n        var args = sigArgs.map(function (sigArg) {\n            return env.lookup(sigArg.trim());\n        });\n\n        var focus = {\n            environment: env\n        };\n        var result = proc.apply(focus, args);\n        if(isIterable(result)) {\n            result = yield * result;\n        }\n        return result;\n    }\n\n    /**\n     * Get native function arguments\n     * @param {Function} func - Function\n     * @returns {*|Array} Native function arguments\n     */\n    function getNativeFunctionArguments(func) {\n        var signature = func.toString();\n        var sigParens = /\\(([^)]*)\\)/.exec(signature)[1]; // the contents of the parens\n        var sigArgs = sigParens.split(',');\n        return sigArgs;\n    }\n\n    /**\n     * Creates a function definition\n     * @param {Function} func - function implementation in Javascript\n     * @param {string} signature - JSONata function signature definition\n     * @returns {{implementation: *, signature: *}} function definition\n     */\n    function defineFunction(func, signature) {\n        var definition = {\n            _jsonata_function: true,\n            implementation: func\n        };\n        if(typeof signature !== 'undefined') {\n            definition.signature = parseSignature(signature);\n        }\n        return definition;\n    }\n\n\n    /**\n     * parses and evaluates the supplied expression\n     * @param {string} expr - expression to evaluate\n     * @returns {*} - result of evaluating the expression\n     */\n    function* functionEval(expr, focus) {\n        // undefined inputs always return undefined\n        if(typeof expr === 'undefined') {\n            return undefined;\n        }\n        var input = this.input;\n        if(typeof focus !== 'undefined') {\n            input = focus;\n            // if the input is a JSON array, then wrap it in a singleton sequence so it gets treated as a single input\n            if(Array.isArray(input) && !isSequence(input)) {\n                input = createSequence(input);\n                input.outerWrapper = true;\n            }\n        }\n\n        try {\n            var ast = parser(expr, false);\n        } catch(err) {\n            // error parsing the expression passed to $eval\n            populateMessage(err);\n            throw {\n                stack: (new Error()).stack,\n                code: \"D3120\",\n                value: err.message,\n                error: err\n            };\n        }\n        try {\n            var result = yield* evaluate(ast, input, this.environment);\n        } catch(err) {\n            // error evaluating the expression passed to $eval\n            populateMessage(err);\n            throw {\n                stack: (new Error()).stack,\n                code: \"D3121\",\n                value:err.message,\n                error: err\n            };\n        }\n\n        return result;\n    }\n\n    /**\n     * Clones an object\n     * @param {Object} arg - object to clone (deep copy)\n     * @returns {*} - the cloned object\n     */\n    function functionClone(arg) {\n        // undefined inputs always return undefined\n        if(typeof arg === 'undefined') {\n            return undefined;\n        }\n\n        return JSON.parse(fn.string(arg));\n    }\n\n    /**\n     * Create frame\n     * @param {Object} enclosingEnvironment - Enclosing environment\n     * @returns {{bind: bind, lookup: lookup}} Created frame\n     */\n    function createFrame(enclosingEnvironment) {\n        var bindings = {};\n        return {\n            bind: function (name, value) {\n                bindings[name] = value;\n            },\n            lookup: function (name) {\n                var value;\n                if(bindings.hasOwnProperty(name)) {\n                    value = bindings[name];\n                } else if (enclosingEnvironment) {\n                    value = enclosingEnvironment.lookup(name);\n                }\n                return value;\n            },\n            timestamp: enclosingEnvironment ? enclosingEnvironment.timestamp : null,\n            async: enclosingEnvironment ? enclosingEnvironment.async : false,\n            global: enclosingEnvironment ? enclosingEnvironment.global : {\n                ancestry: [ null ]\n            }\n        };\n    }\n\n    // Function registration\n    staticFrame.bind('sum', defineFunction(fn.sum, '<a<n>:n>'));\n    staticFrame.bind('count', defineFunction(fn.count, '<a:n>'));\n    staticFrame.bind('max', defineFunction(fn.max, '<a<n>:n>'));\n    staticFrame.bind('min', defineFunction(fn.min, '<a<n>:n>'));\n    staticFrame.bind('average', defineFunction(fn.average, '<a<n>:n>'));\n    staticFrame.bind('string', defineFunction(fn.string, '<x-b?:s>'));\n    staticFrame.bind('substring', defineFunction(fn.substring, '<s-nn?:s>'));\n    staticFrame.bind('substringBefore', defineFunction(fn.substringBefore, '<s-s:s>'));\n    staticFrame.bind('substringAfter', defineFunction(fn.substringAfter, '<s-s:s>'));\n    staticFrame.bind('lowercase', defineFunction(fn.lowercase, '<s-:s>'));\n    staticFrame.bind('uppercase', defineFunction(fn.uppercase, '<s-:s>'));\n    staticFrame.bind('length', defineFunction(fn.length, '<s-:n>'));\n    staticFrame.bind('trim', defineFunction(fn.trim, '<s-:s>'));\n    staticFrame.bind('pad', defineFunction(fn.pad, '<s-ns?:s>'));\n    staticFrame.bind('match', defineFunction(fn.match, '<s-f<s:o>n?:a<o>>'));\n    staticFrame.bind('contains', defineFunction(fn.contains, '<s-(sf):b>')); // TODO <s-(sf<s:o>):b>\n    staticFrame.bind('replace', defineFunction(fn.replace, '<s-(sf)(sf)n?:s>')); // TODO <s-(sf<s:o>)(sf<o:s>)n?:s>\n    staticFrame.bind('split', defineFunction(fn.split, '<s-(sf)n?:a<s>>')); // TODO <s-(sf<s:o>)n?:a<s>>\n    staticFrame.bind('join', defineFunction(fn.join, '<a<s>s?:s>'));\n    staticFrame.bind('formatNumber', defineFunction(fn.formatNumber, '<n-so?:s>'));\n    staticFrame.bind('formatBase', defineFunction(fn.formatBase, '<n-n?:s>'));\n    staticFrame.bind('formatInteger', defineFunction(datetime.formatInteger, '<n-s:s>'));\n    staticFrame.bind('parseInteger', defineFunction(datetime.parseInteger, '<s-s:n>'));\n    staticFrame.bind('number', defineFunction(fn.number, '<(nsb)-:n>'));\n    staticFrame.bind('floor', defineFunction(fn.floor, '<n-:n>'));\n    staticFrame.bind('ceil', defineFunction(fn.ceil, '<n-:n>'));\n    staticFrame.bind('round', defineFunction(fn.round, '<n-n?:n>'));\n    staticFrame.bind('abs', defineFunction(fn.abs, '<n-:n>'));\n    staticFrame.bind('sqrt', defineFunction(fn.sqrt, '<n-:n>'));\n    staticFrame.bind('power', defineFunction(fn.power, '<n-n:n>'));\n    staticFrame.bind('random', defineFunction(fn.random, '<:n>'));\n    staticFrame.bind('boolean', defineFunction(fn.boolean, '<x-:b>'));\n    staticFrame.bind('not', defineFunction(fn.not, '<x-:b>'));\n    staticFrame.bind('map', defineFunction(fn.map, '<af>'));\n    staticFrame.bind('zip', defineFunction(fn.zip, '<a+>'));\n    staticFrame.bind('filter', defineFunction(fn.filter, '<af>'));\n    staticFrame.bind('single', defineFunction(fn.single, '<af?>'));\n    staticFrame.bind('reduce', defineFunction(fn.foldLeft, '<afj?:j>')); // TODO <f<jj:j>a<j>j?:j>\n    staticFrame.bind('sift', defineFunction(fn.sift, '<o-f?:o>'));\n    staticFrame.bind('keys', defineFunction(fn.keys, '<x-:a<s>>'));\n    staticFrame.bind('lookup', defineFunction(fn.lookup, '<x-s:x>'));\n    staticFrame.bind('append', defineFunction(fn.append, '<xx:a>'));\n    staticFrame.bind('exists', defineFunction(fn.exists, '<x:b>'));\n    staticFrame.bind('spread', defineFunction(fn.spread, '<x-:a<o>>'));\n    staticFrame.bind('merge', defineFunction(fn.merge, '<a<o>:o>'));\n    staticFrame.bind('reverse', defineFunction(fn.reverse, '<a:a>'));\n    staticFrame.bind('each', defineFunction(fn.each, '<o-f:a>'));\n    staticFrame.bind('error', defineFunction(fn.error, '<s?:x>'));\n    staticFrame.bind('assert', defineFunction(fn.assert, '<bs?:x>'));\n    staticFrame.bind('type', defineFunction(fn.type, '<x:s>'));\n    staticFrame.bind('sort', defineFunction(fn.sort, '<af?:a>'));\n    staticFrame.bind('shuffle', defineFunction(fn.shuffle, '<a:a>'));\n    staticFrame.bind('distinct', defineFunction(fn.distinct, '<x:x>'));\n    staticFrame.bind('base64encode', defineFunction(fn.base64encode, '<s-:s>'));\n    staticFrame.bind('base64decode', defineFunction(fn.base64decode, '<s-:s>'));\n    staticFrame.bind('encodeUrlComponent', defineFunction(fn.encodeUrlComponent, '<s-:s>'));\n    staticFrame.bind('encodeUrl', defineFunction(fn.encodeUrl, '<s-:s>'));\n    staticFrame.bind('decodeUrlComponent', defineFunction(fn.decodeUrlComponent, '<s-:s>'));\n    staticFrame.bind('decodeUrl', defineFunction(fn.decodeUrl, '<s-:s>'));\n    staticFrame.bind('eval', defineFunction(functionEval, '<sx?:x>'));\n    staticFrame.bind('toMillis', defineFunction(datetime.toMillis, '<s-s?:n>'));\n    staticFrame.bind('fromMillis', defineFunction(datetime.fromMillis, '<n-s?s?:s>'));\n    staticFrame.bind('clone', defineFunction(functionClone, '<(oa)-:o>'));\n\n    /**\n     * Error codes\n     *\n     * Sxxxx    - Static errors (compile time)\n     * Txxxx    - Type errors\n     * Dxxxx    - Dynamic errors (evaluate time)\n     *  01xx    - tokenizer\n     *  02xx    - parser\n     *  03xx    - regex parser\n     *  04xx    - function signature parser/evaluator\n     *  10xx    - evaluator\n     *  20xx    - operators\n     *  3xxx    - functions (blocks of 10 for each function)\n     */\n    var errorCodes = {\n        \"S0101\": \"String literal must be terminated by a matching quote\",\n        \"S0102\": \"Number out of range: {{token}}\",\n        \"S0103\": \"Unsupported escape sequence: \\\\{{token}}\",\n        \"S0104\": \"The escape sequence \\\\u must be followed by 4 hex digits\",\n        \"S0105\": \"Quoted property name must be terminated with a backquote (`)\",\n        \"S0106\": \"Comment has no closing tag\",\n        \"S0201\": \"Syntax error: {{token}}\",\n        \"S0202\": \"Expected {{value}}, got {{token}}\",\n        \"S0203\": \"Expected {{value}} before end of expression\",\n        \"S0204\": \"Unknown operator: {{token}}\",\n        \"S0205\": \"Unexpected token: {{token}}\",\n        \"S0206\": \"Unknown expression type: {{token}}\",\n        \"S0207\": \"Unexpected end of expression\",\n        \"S0208\": \"Parameter {{value}} of function definition must be a variable name (start with $)\",\n        \"S0209\": \"A predicate cannot follow a grouping expression in a step\",\n        \"S0210\": \"Each step can only have one grouping expression\",\n        \"S0211\": \"The symbol {{token}} cannot be used as a unary operator\",\n        \"S0212\": \"The left side of := must be a variable name (start with $)\",\n        \"S0213\": \"The literal value {{value}} cannot be used as a step within a path expression\",\n        \"S0214\": \"The right side of {{token}} must be a variable name (start with $)\",\n        \"S0215\": \"A context variable binding must precede any predicates on a step\",\n        \"S0216\": \"A context variable binding must precede the 'order-by' clause on a step\",\n        \"S0217\": \"The object representing the 'parent' cannot be derived from this expression\",\n        \"S0301\": \"Empty regular expressions are not allowed\",\n        \"S0302\": \"No terminating / in regular expression\",\n        \"S0402\": \"Choice groups containing parameterized types are not supported\",\n        \"S0401\": \"Type parameters can only be applied to functions and arrays\",\n        \"S0500\": \"Attempted to evaluate an expression containing syntax error(s)\",\n        \"T0410\": \"Argument {{index}} of function {{token}} does not match function signature\",\n        \"T0411\": \"Context value is not a compatible type with argument {{index}} of function {{token}}\",\n        \"T0412\": \"Argument {{index}} of function {{token}} must be an array of {{type}}\",\n        \"D1001\": \"Number out of range: {{value}}\",\n        \"D1002\": \"Cannot negate a non-numeric value: {{value}}\",\n        \"T1003\": \"Key in object structure must evaluate to a string; got: {{value}}\",\n        \"D1004\": \"Regular expression matches zero length string\",\n        \"T1005\": \"Attempted to invoke a non-function. Did you mean ${{{token}}}?\",\n        \"T1006\": \"Attempted to invoke a non-function\",\n        \"T1007\": \"Attempted to partially apply a non-function. Did you mean ${{{token}}}?\",\n        \"T1008\": \"Attempted to partially apply a non-function\",\n        \"D1009\": \"Multiple key definitions evaluate to same key: {{value}}\",\n        \"T1010\": \"The matcher function argument passed to function {{token}} does not return the correct object structure\",\n        \"T2001\": \"The left side of the {{token}} operator must evaluate to a number\",\n        \"T2002\": \"The right side of the {{token}} operator must evaluate to a number\",\n        \"T2003\": \"The left side of the range operator (..) must evaluate to an integer\",\n        \"T2004\": \"The right side of the range operator (..) must evaluate to an integer\",\n        \"D2005\": \"The left side of := must be a variable name (start with $)\",  // defunct - replaced by S0212 parser error\n        \"T2006\": \"The right side of the function application operator ~> must be a function\",\n        \"T2007\": \"Type mismatch when comparing values {{value}} and {{value2}} in order-by clause\",\n        \"T2008\": \"The expressions within an order-by clause must evaluate to numeric or string values\",\n        \"T2009\": \"The values {{value}} and {{value2}} either side of operator {{token}} must be of the same data type\",\n        \"T2010\": \"The expressions either side of operator {{token}} must evaluate to numeric or string values\",\n        \"T2011\": \"The insert/update clause of the transform expression must evaluate to an object: {{value}}\",\n        \"T2012\": \"The delete clause of the transform expression must evaluate to a string or array of strings: {{value}}\",\n        \"T2013\": \"The transform expression clones the input object using the $clone() function.  This has been overridden in the current scope by a non-function.\",\n        \"D2014\": \"The size of the sequence allocated by the range operator (..) must not exceed 1e6.  Attempted to allocate {{value}}.\",\n        \"D3001\": \"Attempting to invoke string function on Infinity or NaN\",\n        \"D3010\": \"Second argument of replace function cannot be an empty string\",\n        \"D3011\": \"Fourth argument of replace function must evaluate to a positive number\",\n        \"D3012\": \"Attempted to replace a matched string with a non-string value\",\n        \"D3020\": \"Third argument of split function must evaluate to a positive number\",\n        \"D3030\": \"Unable to cast value to a number: {{value}}\",\n        \"D3040\": \"Third argument of match function must evaluate to a positive number\",\n        \"D3050\": \"The second argument of reduce function must be a function with at least two arguments\",\n        \"D3060\": \"The sqrt function cannot be applied to a negative number: {{value}}\",\n        \"D3061\": \"The power function has resulted in a value that cannot be represented as a JSON number: base={{value}}, exponent={{exp}}\",\n        \"D3070\": \"The single argument form of the sort function can only be applied to an array of strings or an array of numbers.  Use the second argument to specify a comparison function\",\n        \"D3080\": \"The picture string must only contain a maximum of two sub-pictures\",\n        \"D3081\": \"The sub-picture must not contain more than one instance of the 'decimal-separator' character\",\n        \"D3082\": \"The sub-picture must not contain more than one instance of the 'percent' character\",\n        \"D3083\": \"The sub-picture must not contain more than one instance of the 'per-mille' character\",\n        \"D3084\": \"The sub-picture must not contain both a 'percent' and a 'per-mille' character\",\n        \"D3085\": \"The mantissa part of a sub-picture must contain at least one character that is either an 'optional digit character' or a member of the 'decimal digit family'\",\n        \"D3086\": \"The sub-picture must not contain a passive character that is preceded by an active character and that is followed by another active character\",\n        \"D3087\": \"The sub-picture must not contain a 'grouping-separator' character that appears adjacent to a 'decimal-separator' character\",\n        \"D3088\": \"The sub-picture must not contain a 'grouping-separator' at the end of the integer part\",\n        \"D3089\": \"The sub-picture must not contain two adjacent instances of the 'grouping-separator' character\",\n        \"D3090\": \"The integer part of the sub-picture must not contain a member of the 'decimal digit family' that is followed by an instance of the 'optional digit character'\",\n        \"D3091\": \"The fractional part of the sub-picture must not contain an instance of the 'optional digit character' that is followed by a member of the 'decimal digit family'\",\n        \"D3092\": \"A sub-picture that contains a 'percent' or 'per-mille' character must not contain a character treated as an 'exponent-separator'\",\n        \"D3093\": \"The exponent part of the sub-picture must comprise only of one or more characters that are members of the 'decimal digit family'\",\n        \"D3100\": \"The radix of the formatBase function must be between 2 and 36.  It was given {{value}}\",\n        \"D3110\": \"The argument of the toMillis function must be an ISO 8601 formatted timestamp. Given {{value}}\",\n        \"D3120\": \"Syntax error in expression passed to function eval: {{value}}\",\n        \"D3121\": \"Dynamic error evaluating the expression passed to function eval: {{value}}\",\n        \"D3130\": \"Formatting or parsing an integer as a sequence starting with {{value}} is not supported by this implementation\",\n        \"D3131\": \"In a decimal digit pattern, all digits must be from the same decimal group\",\n        \"D3132\": \"Unknown component specifier {{value}} in date/time picture string\",\n        \"D3133\": \"The 'name' modifier can only be applied to months and days in the date/time picture string, not {{value}}\",\n        \"D3134\": \"The timezone integer format specifier cannot have more than four digits\",\n        \"D3135\": \"No matching closing bracket ']' in date/time picture string\",\n        \"D3136\": \"The date/time picture string is missing specifiers required to parse the timestamp\",\n        \"D3137\": \"{{{message}}}\",\n        \"D3138\": \"The $single() function expected exactly 1 matching result.  Instead it matched more.\",\n        \"D3139\": \"The $single() function expected exactly 1 matching result.  Instead it matched 0.\",\n        \"D3140\": \"Malformed URL passed to ${{{functionName}}}(): {{value}}\",\n        \"D3141\": \"{{{message}}}\"\n    };\n\n    /**\n     * lookup a message template from the catalog and substitute the inserts.\n     * Populates `err.message` with the substituted message. Leaves `err.message`\n     * untouched if code lookup fails.\n     * @param {string} err - error code to lookup\n     * @returns {undefined} - `err` is modified in place\n     */\n    function populateMessage(err) {\n        var template = errorCodes[err.code];\n        if(typeof template !== 'undefined') {\n            // if there are any handlebars, replace them with the field references\n            // triple braces - replace with value\n            // double braces - replace with json stringified value\n            var message = template.replace(/\\{\\{\\{([^}]+)}}}/g, function() {\n                return err[arguments[1]];\n            });\n            message = message.replace(/\\{\\{([^}]+)}}/g, function() {\n                return JSON.stringify(err[arguments[1]]);\n            });\n            err.message = message;\n        }\n        // Otherwise retain the original `err.message`\n    }\n\n    /**\n     * JSONata\n     * @param {Object} expr - JSONata expression\n     * @param {Object} options\n     * @param {boolean} options.recover: attempt to recover on parse error\n     * @param {Function} options.RegexEngine: RegEx class constructor to use\n     * @returns {{evaluate: evaluate, assign: assign}} Evaluated expression\n     */\n    function jsonata(expr, options) {\n        var ast;\n        var errors;\n        try {\n            ast = parser(expr, options && options.recover);\n            errors = ast.errors;\n            delete ast.errors;\n        } catch(err) {\n            // insert error message into structure\n            populateMessage(err); // possible side-effects on `err`\n            throw err;\n        }\n        var environment = createFrame(staticFrame);\n\n        var timestamp = new Date(); // will be overridden on each call to evalute()\n        environment.bind('now', defineFunction(function(picture, timezone) {\n            return datetime.fromMillis(timestamp.getTime(), picture, timezone);\n        }, '<s?s?:s>'));\n        environment.bind('millis', defineFunction(function() {\n            return timestamp.getTime();\n        }, '<:n>'));\n\n        if(options && options.RegexEngine) {\n            jsonata.RegexEngine = options.RegexEngine;\n        } else {\n            jsonata.RegexEngine = RegExp;\n        }\n\n        return {\n            evaluate: function (input, bindings, callback) {\n                // throw if the expression compiled with syntax errors\n                if(typeof errors !== 'undefined') {\n                    var err = {\n                        code: 'S0500',\n                        position: 0\n                    };\n                    populateMessage(err); // possible side-effects on `err`\n                    throw err;\n                }\n\n                if (typeof bindings !== 'undefined') {\n                    var exec_env;\n                    // the variable bindings have been passed in - create a frame to hold these\n                    exec_env = createFrame(environment);\n                    for (var v in bindings) {\n                        exec_env.bind(v, bindings[v]);\n                    }\n                } else {\n                    exec_env = environment;\n                }\n                // put the input document into the environment as the root object\n                exec_env.bind('$', input);\n\n                // capture the timestamp and put it in the execution environment\n                // the $now() and $millis() functions will return this value - whenever it is called\n                timestamp = new Date();\n                exec_env.timestamp = timestamp;\n\n                // if the input is a JSON array, then wrap it in a singleton sequence so it gets treated as a single input\n                if(Array.isArray(input) && !isSequence(input)) {\n                    input = createSequence(input);\n                    input.outerWrapper = true;\n                }\n\n                var result, it;\n                // if a callback function is supplied, then drive the generator in a promise chain\n                if(typeof callback === 'function') {\n                    exec_env.async = true;\n                    var catchHandler = function (err) {\n                        populateMessage(err); // possible side-effects on `err`\n                        callback(err, null);\n                    };\n                    var thenHandler = function (response) {\n                        result = it.next(response);\n                        if (result.done) {\n                            callback(null, result.value);\n                        } else {\n                            result.value.then(thenHandler).catch(catchHandler);\n                        }\n                    };\n                    it = evaluate(ast, input, exec_env);\n                    result = it.next();\n                    result.value.then(thenHandler).catch(catchHandler);\n                } else {\n                    // no callback function - drive the generator to completion synchronously\n                    try {\n                        it = evaluate(ast, input, exec_env);\n                        result = it.next();\n                        while (!result.done) {\n                            result = it.next(result.value);\n                        }\n                        return result.value;\n                    } catch (err) {\n                        // insert error message into structure\n                        populateMessage(err); // possible side-effects on `err`\n                        throw err;\n                    }\n                }\n            },\n            assign: function (name, value) {\n                environment.bind(name, value);\n            },\n            registerFunction: function(name, implementation, signature) {\n                var func = defineFunction(implementation, signature);\n                environment.bind(name, func);\n            },\n            ast: function() {\n                return ast;\n            },\n            errors: function() {\n                return errors;\n            }\n        };\n    }\n\n    jsonata.parser = parser; // TODO remove this in a future release - use ast() instead\n\n    return jsonata;\n\n})();\n\nmodule.exports = jsonata;\n\n},{\"./datetime\":1,\"./functions\":2,\"./parser\":4,\"./signature\":5,\"./utils\":6}],4:[function(require,module,exports){\n/**\n * © Copyright IBM Corp. 2016, 2018 All Rights Reserved\n *   Project name: JSONata\n *   This project is licensed under the MIT License, see LICENSE\n */\n\nvar parseSignature = require('./signature');\n\nconst parser = (() => {\n    'use strict';\n\n    var operators = {\n        '.': 75,\n        '[': 80,\n        ']': 0,\n        '{': 70,\n        '}': 0,\n        '(': 80,\n        ')': 0,\n        ',': 0,\n        '@': 80,\n        '#': 80,\n        ';': 80,\n        ':': 80,\n        '?': 20,\n        '+': 50,\n        '-': 50,\n        '*': 60,\n        '/': 60,\n        '%': 60,\n        '|': 20,\n        '=': 40,\n        '<': 40,\n        '>': 40,\n        '^': 40,\n        '**': 60,\n        '..': 20,\n        ':=': 10,\n        '!=': 40,\n        '<=': 40,\n        '>=': 40,\n        '~>': 40,\n        'and': 30,\n        'or': 25,\n        'in': 40,\n        '&': 50,\n        '!': 0,   // not an operator, but needed as a stop character for name tokens\n        '~': 0   // not an operator, but needed as a stop character for name tokens\n    };\n\n    var escapes = {  // JSON string escape sequences - see json.org\n        '\"': '\"',\n        '\\\\': '\\\\',\n        '/': '/',\n        'b': '\\b',\n        'f': '\\f',\n        'n': '\\n',\n        'r': '\\r',\n        't': '\\t'\n    };\n\n    // Tokenizer (lexer) - invoked by the parser to return one token at a time\n    var tokenizer = function (path) {\n        var position = 0;\n        var length = path.length;\n\n        var create = function (type, value) {\n            var obj = {type: type, value: value, position: position};\n            return obj;\n        };\n\n        var scanRegex = function () {\n            // the prefix '/' will have been previously scanned. Find the end of the regex.\n            // search for closing '/' ignoring any that are escaped, or within brackets\n            var start = position;\n            var depth = 0;\n            var pattern;\n            var flags;\n            while (position < length) {\n                var currentChar = path.charAt(position);\n                if (currentChar === '/' && path.charAt(position - 1) !== '\\\\' && depth === 0) {\n                    // end of regex found\n                    pattern = path.substring(start, position);\n                    if (pattern === '') {\n                        throw {\n                            code: \"S0301\",\n                            stack: (new Error()).stack,\n                            position: position\n                        };\n                    }\n                    position++;\n                    currentChar = path.charAt(position);\n                    // flags\n                    start = position;\n                    while (currentChar === 'i' || currentChar === 'm') {\n                        position++;\n                        currentChar = path.charAt(position);\n                    }\n                    flags = path.substring(start, position) + 'g';\n                    return new RegExp(pattern, flags);\n                }\n                if ((currentChar === '(' || currentChar === '[' || currentChar === '{') && path.charAt(position - 1) !== '\\\\') {\n                    depth++;\n                }\n                if ((currentChar === ')' || currentChar === ']' || currentChar === '}') && path.charAt(position - 1) !== '\\\\') {\n                    depth--;\n                }\n\n                position++;\n            }\n            throw {\n                code: \"S0302\",\n                stack: (new Error()).stack,\n                position: position\n            };\n        };\n\n        var next = function (prefix) {\n            if (position >= length) return null;\n            var currentChar = path.charAt(position);\n            // skip whitespace\n            while (position < length && ' \\t\\n\\r\\v'.indexOf(currentChar) > -1) {\n                position++;\n                currentChar = path.charAt(position);\n            }\n            // skip comments\n            if (currentChar === '/' && path.charAt(position + 1) === '*') {\n                var commentStart = position;\n                position += 2;\n                currentChar = path.charAt(position);\n                while (!(currentChar === '*' && path.charAt(position + 1) === '/')) {\n                    currentChar = path.charAt(++position);\n                    if (position >= length) {\n                        // no closing tag\n                        throw {\n                            code: \"S0106\",\n                            stack: (new Error()).stack,\n                            position: commentStart\n                        };\n                    }\n                }\n                position += 2;\n                currentChar = path.charAt(position);\n                return next(prefix); // need this to swallow any following whitespace\n            }\n            // test for regex\n            if (prefix !== true && currentChar === '/') {\n                position++;\n                return create('regex', scanRegex());\n            }\n            // handle double-char operators\n            if (currentChar === '.' && path.charAt(position + 1) === '.') {\n                // double-dot .. range operator\n                position += 2;\n                return create('operator', '..');\n            }\n            if (currentChar === ':' && path.charAt(position + 1) === '=') {\n                // := assignment\n                position += 2;\n                return create('operator', ':=');\n            }\n            if (currentChar === '!' && path.charAt(position + 1) === '=') {\n                // !=\n                position += 2;\n                return create('operator', '!=');\n            }\n            if (currentChar === '>' && path.charAt(position + 1) === '=') {\n                // >=\n                position += 2;\n                return create('operator', '>=');\n            }\n            if (currentChar === '<' && path.charAt(position + 1) === '=') {\n                // <=\n                position += 2;\n                return create('operator', '<=');\n            }\n            if (currentChar === '*' && path.charAt(position + 1) === '*') {\n                // **  descendant wildcard\n                position += 2;\n                return create('operator', '**');\n            }\n            if (currentChar === '~' && path.charAt(position + 1) === '>') {\n                // ~>  chain function\n                position += 2;\n                return create('operator', '~>');\n            }\n            // test for single char operators\n            if (Object.prototype.hasOwnProperty.call(operators, currentChar)) {\n                position++;\n                return create('operator', currentChar);\n            }\n            // test for string literals\n            if (currentChar === '\"' || currentChar === \"'\") {\n                var quoteType = currentChar;\n                // double quoted string literal - find end of string\n                position++;\n                var qstr = \"\";\n                while (position < length) {\n                    currentChar = path.charAt(position);\n                    if (currentChar === '\\\\') { // escape sequence\n                        position++;\n                        currentChar = path.charAt(position);\n                        if (Object.prototype.hasOwnProperty.call(escapes, currentChar)) {\n                            qstr += escapes[currentChar];\n                        } else if (currentChar === 'u') {\n                            // \\u should be followed by 4 hex digits\n                            var octets = path.substr(position + 1, 4);\n                            if (/^[0-9a-fA-F]+$/.test(octets)) {\n                                var codepoint = parseInt(octets, 16);\n                                qstr += String.fromCharCode(codepoint);\n                                position += 4;\n                            } else {\n                                throw {\n                                    code: \"S0104\",\n                                    stack: (new Error()).stack,\n                                    position: position\n                                };\n                            }\n                        } else {\n                            // illegal escape sequence\n                            throw {\n                                code: \"S0103\",\n                                stack: (new Error()).stack,\n                                position: position,\n                                token: currentChar\n                            };\n\n                        }\n                    } else if (currentChar === quoteType) {\n                        position++;\n                        return create('string', qstr);\n                    } else {\n                        qstr += currentChar;\n                    }\n                    position++;\n                }\n                throw {\n                    code: \"S0101\",\n                    stack: (new Error()).stack,\n                    position: position\n                };\n            }\n            // test for numbers\n            var numregex = /^-?(0|([1-9][0-9]*))(\\.[0-9]+)?([Ee][-+]?[0-9]+)?/;\n            var match = numregex.exec(path.substring(position));\n            if (match !== null) {\n                var num = parseFloat(match[0]);\n                if (!isNaN(num) && isFinite(num)) {\n                    position += match[0].length;\n                    return create('number', num);\n                } else {\n                    throw {\n                        code: \"S0102\",\n                        stack: (new Error()).stack,\n                        position: position,\n                        token: match[0]\n                    };\n                }\n            }\n            // test for quoted names (backticks)\n            var name;\n            if (currentChar === '`') {\n                // scan for closing quote\n                position++;\n                var end = path.indexOf('`', position);\n                if (end !== -1) {\n                    name = path.substring(position, end);\n                    position = end + 1;\n                    return create('name', name);\n                }\n                position = length;\n                throw {\n                    code: \"S0105\",\n                    stack: (new Error()).stack,\n                    position: position\n                };\n            }\n            // test for names\n            var i = position;\n            var ch;\n            for (; ;) {\n                ch = path.charAt(i);\n                if (i === length || ' \\t\\n\\r\\v'.indexOf(ch) > -1 || Object.prototype.hasOwnProperty.call(operators, ch)) {\n                    if (path.charAt(position) === '$') {\n                        // variable reference\n                        name = path.substring(position + 1, i);\n                        position = i;\n                        return create('variable', name);\n                    } else {\n                        name = path.substring(position, i);\n                        position = i;\n                        switch (name) {\n                            case 'or':\n                            case 'in':\n                            case 'and':\n                                return create('operator', name);\n                            case 'true':\n                                return create('value', true);\n                            case 'false':\n                                return create('value', false);\n                            case 'null':\n                                return create('value', null);\n                            default:\n                                if (position === length && name === '') {\n                                    // whitespace at end of input\n                                    return null;\n                                }\n                                return create('name', name);\n                        }\n                    }\n                } else {\n                    i++;\n                }\n            }\n        };\n\n        return next;\n    };\n\n    // This parser implements the 'Top down operator precedence' algorithm developed by Vaughan R Pratt; http://dl.acm.org/citation.cfm?id=512931.\n    // and builds on the Javascript framework described by Douglas Crockford at http://javascript.crockford.com/tdop/tdop.html\n    // and in 'Beautiful Code', edited by Andy Oram and Greg Wilson, Copyright 2007 O'Reilly Media, Inc. 798-0-596-51004-6\n\n    var parser = function (source, recover) {\n        var node;\n        var lexer;\n\n        var symbol_table = {};\n        var errors = [];\n\n        var remainingTokens = function () {\n            var remaining = [];\n            if (node.id !== '(end)') {\n                remaining.push({type: node.type, value: node.value, position: node.position});\n            }\n            var nxt = lexer();\n            while (nxt !== null) {\n                remaining.push(nxt);\n                nxt = lexer();\n            }\n            return remaining;\n        };\n\n        var base_symbol = {\n            nud: function () {\n                // error - symbol has been invoked as a unary operator\n                var err = {\n                    code: 'S0211',\n                    token: this.value,\n                    position: this.position\n                };\n\n                if (recover) {\n                    err.remaining = remainingTokens();\n                    err.type = 'error';\n                    errors.push(err);\n                    return err;\n                } else {\n                    err.stack = (new Error()).stack;\n                    throw err;\n                }\n            }\n        };\n\n        var symbol = function (id, bp) {\n            var s = symbol_table[id];\n            bp = bp || 0;\n            if (s) {\n                if (bp >= s.lbp) {\n                    s.lbp = bp;\n                }\n            } else {\n                s = Object.create(base_symbol);\n                s.id = s.value = id;\n                s.lbp = bp;\n                symbol_table[id] = s;\n            }\n            return s;\n        };\n\n        var handleError = function (err) {\n            if (recover) {\n                // tokenize the rest of the buffer and add it to an error token\n                err.remaining = remainingTokens();\n                errors.push(err);\n                var symbol = symbol_table[\"(error)\"];\n                node = Object.create(symbol);\n                node.error = err;\n                node.type = \"(error)\";\n                return node;\n            } else {\n                err.stack = (new Error()).stack;\n                throw err;\n            }\n        };\n\n        var advance = function (id, infix) {\n            if (id && node.id !== id) {\n                var code;\n                if (node.id === '(end)') {\n                    // unexpected end of buffer\n                    code = \"S0203\";\n                } else {\n                    code = \"S0202\";\n                }\n                var err = {\n                    code: code,\n                    position: node.position,\n                    token: node.value,\n                    value: id\n                };\n                return handleError(err);\n            }\n            var next_token = lexer(infix);\n            if (next_token === null) {\n                node = symbol_table[\"(end)\"];\n                node.position = source.length;\n                return node;\n            }\n            var value = next_token.value;\n            var type = next_token.type;\n            var symbol;\n            switch (type) {\n                case 'name':\n                case 'variable':\n                    symbol = symbol_table[\"(name)\"];\n                    break;\n                case 'operator':\n                    symbol = symbol_table[value];\n                    if (!symbol) {\n                        return handleError({\n                            code: \"S0204\",\n                            stack: (new Error()).stack,\n                            position: next_token.position,\n                            token: value\n                        });\n                    }\n                    break;\n                case 'string':\n                case 'number':\n                case 'value':\n                    symbol = symbol_table[\"(literal)\"];\n                    break;\n                case 'regex':\n                    type = \"regex\";\n                    symbol = symbol_table[\"(regex)\"];\n                    break;\n                /* istanbul ignore next */\n                default:\n                    return handleError({\n                        code: \"S0205\",\n                        stack: (new Error()).stack,\n                        position: next_token.position,\n                        token: value\n                    });\n            }\n\n            node = Object.create(symbol);\n            node.value = value;\n            node.type = type;\n            node.position = next_token.position;\n            return node;\n        };\n\n        // Pratt's algorithm\n        var expression = function (rbp) {\n            var left;\n            var t = node;\n            advance(null, true);\n            left = t.nud();\n            while (rbp < node.lbp) {\n                t = node;\n                advance();\n                left = t.led(left);\n            }\n            return left;\n        };\n\n        var terminal = function (id) {\n            var s = symbol(id, 0);\n            s.nud = function () {\n                return this;\n            };\n        };\n\n        // match infix operators\n        // <expression> <operator> <expression>\n        // left associative\n        var infix = function (id, bp, led) {\n            var bindingPower = bp || operators[id];\n            var s = symbol(id, bindingPower);\n            s.led = led || function (left) {\n                this.lhs = left;\n                this.rhs = expression(bindingPower);\n                this.type = \"binary\";\n                return this;\n            };\n            return s;\n        };\n\n        // match infix operators\n        // <expression> <operator> <expression>\n        // right associative\n        var infixr = function (id, bp, led) {\n            var s = symbol(id, bp);\n            s.led = led;\n            return s;\n        };\n\n        // match prefix operators\n        // <operator> <expression>\n        var prefix = function (id, nud) {\n            var s = symbol(id);\n            s.nud = nud || function () {\n                this.expression = expression(70);\n                this.type = \"unary\";\n                return this;\n            };\n            return s;\n        };\n\n        terminal(\"(end)\");\n        terminal(\"(name)\");\n        terminal(\"(literal)\");\n        terminal(\"(regex)\");\n        symbol(\":\");\n        symbol(\";\");\n        symbol(\",\");\n        symbol(\")\");\n        symbol(\"]\");\n        symbol(\"}\");\n        symbol(\"..\"); // range operator\n        infix(\".\"); // map operator\n        infix(\"+\"); // numeric addition\n        infix(\"-\"); // numeric subtraction\n        infix(\"*\"); // numeric multiplication\n        infix(\"/\"); // numeric division\n        infix(\"%\"); // numeric modulus\n        infix(\"=\"); // equality\n        infix(\"<\"); // less than\n        infix(\">\"); // greater than\n        infix(\"!=\"); // not equal to\n        infix(\"<=\"); // less than or equal\n        infix(\">=\"); // greater than or equal\n        infix(\"&\"); // string concatenation\n        infix(\"and\"); // Boolean AND\n        infix(\"or\"); // Boolean OR\n        infix(\"in\"); // is member of array\n        terminal(\"and\"); // the 'keywords' can also be used as terminals (field names)\n        terminal(\"or\"); //\n        terminal(\"in\"); //\n        prefix(\"-\"); // unary numeric negation\n        infix(\"~>\"); // function application\n\n        infixr(\"(error)\", 10, function (left) {\n            this.lhs = left;\n\n            this.error = node.error;\n            this.remaining = remainingTokens();\n            this.type = 'error';\n            return this;\n        });\n\n        // field wildcard (single level)\n        prefix('*', function () {\n            this.type = \"wildcard\";\n            return this;\n        });\n\n        // descendant wildcard (multi-level)\n        prefix('**', function () {\n            this.type = \"descendant\";\n            return this;\n        });\n\n        // parent operator\n        prefix('%', function () {\n            this.type = \"parent\";\n            return this;\n        });\n\n        // function invocation\n        infix(\"(\", operators['('], function (left) {\n            // left is is what we are trying to invoke\n            this.procedure = left;\n            this.type = 'function';\n            this.arguments = [];\n            if (node.id !== ')') {\n                for (; ;) {\n                    if (node.type === 'operator' && node.id === '?') {\n                        // partial function application\n                        this.type = 'partial';\n                        this.arguments.push(node);\n                        advance('?');\n                    } else {\n                        this.arguments.push(expression(0));\n                    }\n                    if (node.id !== ',') break;\n                    advance(',');\n                }\n            }\n            advance(\")\", true);\n            // if the name of the function is 'function' or λ, then this is function definition (lambda function)\n            if (left.type === 'name' && (left.value === 'function' || left.value === '\\u03BB')) {\n                // all of the args must be VARIABLE tokens\n                this.arguments.forEach(function (arg, index) {\n                    if (arg.type !== 'variable') {\n                        return handleError({\n                            code: \"S0208\",\n                            stack: (new Error()).stack,\n                            position: arg.position,\n                            token: arg.value,\n                            value: index + 1\n                        });\n                    }\n                });\n                this.type = 'lambda';\n                // is the next token a '<' - if so, parse the function signature\n                if (node.id === '<') {\n                    var sigPos = node.position;\n                    var depth = 1;\n                    var sig = '<';\n                    while (depth > 0 && node.id !== '{' && node.id !== '(end)') {\n                        var tok = advance();\n                        if (tok.id === '>') {\n                            depth--;\n                        } else if (tok.id === '<') {\n                            depth++;\n                        }\n                        sig += tok.value;\n                    }\n                    advance('>');\n                    try {\n                        this.signature = parseSignature(sig);\n                    } catch (err) {\n                        // insert the position into this error\n                        err.position = sigPos + err.offset;\n                        return handleError(err);\n                    }\n                }\n                // parse the function body\n                advance('{');\n                this.body = expression(0);\n                advance('}');\n            }\n            return this;\n        });\n\n        // parenthesis - block expression\n        prefix(\"(\", function () {\n            var expressions = [];\n            while (node.id !== \")\") {\n                expressions.push(expression(0));\n                if (node.id !== \";\") {\n                    break;\n                }\n                advance(\";\");\n            }\n            advance(\")\", true);\n            this.type = 'block';\n            this.expressions = expressions;\n            return this;\n        });\n\n        // array constructor\n        prefix(\"[\", function () {\n            var a = [];\n            if (node.id !== \"]\") {\n                for (; ;) {\n                    var item = expression(0);\n                    if (node.id === \"..\") {\n                        // range operator\n                        var range = {type: \"binary\", value: \"..\", position: node.position, lhs: item};\n                        advance(\"..\");\n                        range.rhs = expression(0);\n                        item = range;\n                    }\n                    a.push(item);\n                    if (node.id !== \",\") {\n                        break;\n                    }\n                    advance(\",\");\n                }\n            }\n            advance(\"]\", true);\n            this.expressions = a;\n            this.type = \"unary\";\n            return this;\n        });\n\n        // filter - predicate or array index\n        infix(\"[\", operators['['], function (left) {\n            if (node.id === \"]\") {\n                // empty predicate means maintain singleton arrays in the output\n                var step = left;\n                while (step && step.type === 'binary' && step.value === '[') {\n                    step = step.lhs;\n                }\n                step.keepArray = true;\n                advance(\"]\");\n                return left;\n            } else {\n                this.lhs = left;\n                this.rhs = expression(operators[']']);\n                this.type = 'binary';\n                advance(\"]\", true);\n                return this;\n            }\n        });\n\n        // order-by\n        infix(\"^\", operators['^'], function (left) {\n            advance(\"(\");\n            var terms = [];\n            for (; ;) {\n                var term = {\n                    descending: false\n                };\n                if (node.id === \"<\") {\n                    // ascending sort\n                    advance(\"<\");\n                } else if (node.id === \">\") {\n                    // descending sort\n                    term.descending = true;\n                    advance(\">\");\n                } else {\n                    //unspecified - default to ascending\n                }\n                term.expression = expression(0);\n                terms.push(term);\n                if (node.id !== \",\") {\n                    break;\n                }\n                advance(\",\");\n            }\n            advance(\")\");\n            this.lhs = left;\n            this.rhs = terms;\n            this.type = 'binary';\n            return this;\n        });\n\n        var objectParser = function (left) {\n            var a = [];\n            if (node.id !== \"}\") {\n                for (; ;) {\n                    var n = expression(0);\n                    advance(\":\");\n                    var v = expression(0);\n                    a.push([n, v]); // holds an array of name/value expression pairs\n                    if (node.id !== \",\") {\n                        break;\n                    }\n                    advance(\",\");\n                }\n            }\n            advance(\"}\", true);\n            if (typeof left === 'undefined') {\n                // NUD - unary prefix form\n                this.lhs = a;\n                this.type = \"unary\";\n            } else {\n                // LED - binary infix form\n                this.lhs = left;\n                this.rhs = a;\n                this.type = 'binary';\n            }\n            return this;\n        };\n\n        // object constructor\n        prefix(\"{\", objectParser);\n\n        // object grouping\n        infix(\"{\", operators['{'], objectParser);\n\n        // bind variable\n        infixr(\":=\", operators[':='], function (left) {\n            if (left.type !== 'variable') {\n                return handleError({\n                    code: \"S0212\",\n                    stack: (new Error()).stack,\n                    position: left.position,\n                    token: left.value\n                });\n            }\n            this.lhs = left;\n            this.rhs = expression(operators[':='] - 1); // subtract 1 from bindingPower for right associative operators\n            this.type = \"binary\";\n            return this;\n        });\n\n        // focus variable bind\n        infix(\"@\", operators['@'], function (left) {\n            this.lhs = left;\n            this.rhs = expression(operators['@']);\n            if(this.rhs.type !== 'variable') {\n                return handleError({\n                    code: \"S0214\",\n                    stack: (new Error()).stack,\n                    position: this.rhs.position,\n                    token: \"@\"\n                });\n            }\n            this.type = \"binary\";\n            return this;\n        });\n\n        // index (position) variable bind\n        infix(\"#\", operators['#'], function (left) {\n            this.lhs = left;\n            this.rhs = expression(operators['#']);\n            if(this.rhs.type !== 'variable') {\n                return handleError({\n                    code: \"S0214\",\n                    stack: (new Error()).stack,\n                    position: this.rhs.position,\n                    token: \"#\"\n                });\n            }\n            this.type = \"binary\";\n            return this;\n        });\n\n        // if/then/else ternary operator ?:\n        infix(\"?\", operators['?'], function (left) {\n            this.type = 'condition';\n            this.condition = left;\n            this.then = expression(0);\n            if (node.id === ':') {\n                // else condition\n                advance(\":\");\n                this.else = expression(0);\n            }\n            return this;\n        });\n\n        // object transformer\n        prefix(\"|\", function () {\n            this.type = 'transform';\n            this.pattern = expression(0);\n            advance('|');\n            this.update = expression(0);\n            if (node.id === ',') {\n                advance(',');\n                this.delete = expression(0);\n            }\n            advance('|');\n            return this;\n        });\n\n        // tail call optimization\n        // this is invoked by the post parser to analyse lambda functions to see\n        // if they make a tail call.  If so, it is replaced by a thunk which will\n        // be invoked by the trampoline loop during function application.\n        // This enables tail-recursive functions to be written without growing the stack\n        var tailCallOptimize = function (expr) {\n            var result;\n            if (expr.type === 'function' && !expr.predicate) {\n                var thunk = {type: 'lambda', thunk: true, arguments: [], position: expr.position};\n                thunk.body = expr;\n                result = thunk;\n            } else if (expr.type === 'condition') {\n                // analyse both branches\n                expr.then = tailCallOptimize(expr.then);\n                if (typeof expr.else !== 'undefined') {\n                    expr.else = tailCallOptimize(expr.else);\n                }\n                result = expr;\n            } else if (expr.type === 'block') {\n                // only the last expression in the block\n                var length = expr.expressions.length;\n                if (length > 0) {\n                    expr.expressions[length - 1] = tailCallOptimize(expr.expressions[length - 1]);\n                }\n                result = expr;\n            } else {\n                result = expr;\n            }\n            return result;\n        };\n\n        var ancestorLabel = 0;\n        var ancestorIndex = 0;\n        var ancestry = [];\n\n        var seekParent = function (node, slot) {\n            switch (node.type) {\n                case 'name':\n                case 'wildcard':\n                    slot.level--;\n                    if(slot.level === 0) {\n                        if (typeof node.ancestor === 'undefined') {\n                            node.ancestor = slot;\n                        } else {\n                            // reuse the existing label\n                            ancestry[slot.index].slot.label = node.ancestor.label;\n                            node.ancestor = slot;\n                        }\n                        node.tuple = true;\n                    }\n                    break;\n                case 'parent':\n                    slot.level++;\n                    break;\n                case 'block':\n                    // look in last expression in the block\n                    if(node.expressions.length > 0) {\n                        node.tuple = true;\n                        slot = seekParent(node.expressions[node.expressions.length - 1], slot);\n                    }\n                    break;\n                case 'path':\n                    // last step in path\n                    node.tuple = true;\n                    var index = node.steps.length - 1;\n                    slot = seekParent(node.steps[index--], slot);\n                    while (slot.level > 0 && index >= 0) {\n                        // check previous steps\n                        slot = seekParent(node.steps[index--], slot);\n                    }\n                    break;\n                default:\n                    // error - can't derive ancestor\n                    throw {\n                        code: \"S0217\",\n                        token: node.type,\n                        position: node.position\n                    };\n            }\n            return slot;\n        };\n\n        var pushAncestry = function(result, value) {\n            if(typeof value.seekingParent !== 'undefined' || value.type === 'parent') {\n                var slots = (typeof value.seekingParent !== 'undefined') ? value.seekingParent : [];\n                if (value.type === 'parent') {\n                    slots.push(value.slot);\n                }\n                if(typeof result.seekingParent === 'undefined') {\n                    result.seekingParent = slots;\n                } else {\n                    Array.prototype.push.apply(result.seekingParent, slots);\n                }\n            }\n        };\n\n        var resolveAncestry = function(path) {\n            var index = path.steps.length - 1;\n            var laststep = path.steps[index];\n            var slots = (typeof laststep.seekingParent !== 'undefined') ? laststep.seekingParent : [];\n            if (laststep.type === 'parent') {\n                slots.push(laststep.slot);\n            }\n            for(var is = 0; is < slots.length; is++) {\n                var slot = slots[is];\n                index = path.steps.length - 2;\n                while (slot.level > 0) {\n                    if (index < 0) {\n                        if(typeof path.seekingParent === 'undefined') {\n                            path.seekingParent = [slot];\n                        } else {\n                            path.seekingParent.push(slot);\n                        }\n                        break;\n                    }\n                    // try previous step\n                    var step = path.steps[index--];\n                    // multiple contiguous steps that bind the focus should be skipped\n                    while(index >= 0 && step.focus && path.steps[index].focus) {\n                        step = path.steps[index--];\n                    }\n                    slot = seekParent(step, slot);\n                }\n            }\n        };\n\n        // post-parse stage\n        // the purpose of this is to add as much semantic value to the parse tree as possible\n        // in order to simplify the work of the evaluator.\n        // This includes flattening the parts of the AST representing location paths,\n        // converting them to arrays of steps which in turn may contain arrays of predicates.\n        // following this, nodes containing '.' and '[' should be eliminated from the AST.\n        var processAST = function (expr) {\n            var result;\n            switch (expr.type) {\n                case 'binary':\n                    switch (expr.value) {\n                        case '.':\n                            var lstep = processAST(expr.lhs);\n\n                            if (lstep.type === 'path') {\n                                result = lstep;\n                            } else {\n                                result = {type: 'path', steps: [lstep]};\n                            }\n                            if(lstep.type === 'parent') {\n                                result.seekingParent = [lstep.slot];\n                            }\n                            var rest = processAST(expr.rhs);\n                            if (rest.type === 'function' &&\n                                rest.procedure.type === 'path' &&\n                                rest.procedure.steps.length === 1 &&\n                                rest.procedure.steps[0].type === 'name' &&\n                                result.steps[result.steps.length - 1].type === 'function') {\n                                // next function in chain of functions - will override a thenable\n                                result.steps[result.steps.length - 1].nextFunction = rest.procedure.steps[0].value;\n                            }\n                            if (rest.type === 'path') {\n                                Array.prototype.push.apply(result.steps, rest.steps);\n                            } else {\n                                if(typeof rest.predicate !== 'undefined') {\n                                    rest.stages = rest.predicate;\n                                    delete rest.predicate;\n                                }\n                                result.steps.push(rest);\n                            }\n                            // any steps within a path that are string literals, should be changed to 'name'\n                            result.steps.filter(function (step) {\n                                if (step.type === 'number' || step.type === 'value') {\n                                    // don't allow steps to be numbers or the values true/false/null\n                                    throw {\n                                        code: \"S0213\",\n                                        stack: (new Error()).stack,\n                                        position: step.position,\n                                        value: step.value\n                                    };\n                                }\n                                return step.type === 'string';\n                            }).forEach(function (lit) {\n                                lit.type = 'name';\n                            });\n                            // any step that signals keeping a singleton array, should be flagged on the path\n                            if (result.steps.filter(function (step) {\n                                return step.keepArray === true;\n                            }).length > 0) {\n                                result.keepSingletonArray = true;\n                            }\n                            // if first step is a path constructor, flag it for special handling\n                            var firststep = result.steps[0];\n                            if (firststep.type === 'unary' && firststep.value === '[') {\n                                firststep.consarray = true;\n                            }\n                            // if the last step is an array constructor, flag it so it doesn't flatten\n                            var laststep = result.steps[result.steps.length - 1];\n                            if (laststep.type === 'unary' && laststep.value === '[') {\n                                laststep.consarray = true;\n                            }\n                            resolveAncestry(result);\n                            break;\n                        case '[':\n                            // predicated step\n                            // LHS is a step or a predicated step\n                            // RHS is the predicate expr\n                            result = processAST(expr.lhs);\n                            var step = result;\n                            var type = 'predicate';\n                            if (result.type === 'path') {\n                                step = result.steps[result.steps.length - 1];\n                                type = 'stages';\n                            }\n                            if (typeof step.group !== 'undefined') {\n                                throw {\n                                    code: \"S0209\",\n                                    stack: (new Error()).stack,\n                                    position: expr.position\n                                };\n                            }\n                            if (typeof step[type] === 'undefined') {\n                                step[type] = [];\n                            }\n                            var predicate = processAST(expr.rhs);\n                            if(typeof predicate.seekingParent !== 'undefined') {\n                                predicate.seekingParent.forEach(slot => {\n                                    if(slot.level === 1) {\n                                        seekParent(step, slot);\n                                    } else {\n                                        slot.level--;\n                                    }\n                                });\n                                pushAncestry(step, predicate);\n                            }\n                            step[type].push({type: 'filter', expr: predicate, position: expr.position});\n                            break;\n                        case '{':\n                            // group-by\n                            // LHS is a step or a predicated step\n                            // RHS is the object constructor expr\n                            result = processAST(expr.lhs);\n                            if (typeof result.group !== 'undefined') {\n                                throw {\n                                    code: \"S0210\",\n                                    stack: (new Error()).stack,\n                                    position: expr.position\n                                };\n                            }\n                            // object constructor - process each pair\n                            result.group = {\n                                lhs: expr.rhs.map(function (pair) {\n                                    return [processAST(pair[0]), processAST(pair[1])];\n                                }),\n                                position: expr.position\n                            };\n                            break;\n                        case '^':\n                            // order-by\n                            // LHS is the array to be ordered\n                            // RHS defines the terms\n                            result = processAST(expr.lhs);\n                            if (result.type !== 'path') {\n                                result = {type: 'path', steps: [result]};\n                            }\n                            var sortStep = {type: 'sort', position: expr.position};\n                            sortStep.terms = expr.rhs.map(function (terms) {\n                                var expression = processAST(terms.expression);\n                                pushAncestry(sortStep, expression);\n                                return {\n                                    descending: terms.descending,\n                                    expression: expression\n                                };\n                            });\n                            result.steps.push(sortStep);\n                            resolveAncestry(result);\n                            break;\n                        case ':=':\n                            result = {type: 'bind', value: expr.value, position: expr.position};\n                            result.lhs = processAST(expr.lhs);\n                            result.rhs = processAST(expr.rhs);\n                            pushAncestry(result, result.rhs);\n                            break;\n                        case '@':\n                            result = processAST(expr.lhs);\n                            step = result;\n                            if (result.type === 'path') {\n                                step = result.steps[result.steps.length - 1];\n                            }\n                            // throw error if there are any predicates defined at this point\n                            // at this point the only type of stages can be predicates\n                            if(typeof step.stages !== 'undefined' || typeof step.predicate !== 'undefined') {\n                                throw {\n                                    code: \"S0215\",\n                                    stack: (new Error()).stack,\n                                    position: expr.position\n                                };\n                            }\n                            // also throw if this is applied after an 'order-by' clause\n                            if(step.type === 'sort') {\n                                throw {\n                                    code: \"S0216\",\n                                    stack: (new Error()).stack,\n                                    position: expr.position\n                                };\n                            }\n                            if(expr.keepArray) {\n                                step.keepArray = true;\n                            }\n                            step.focus = expr.rhs.value;\n                            step.tuple = true;\n                            break;\n                        case '#':\n                            result = processAST(expr.lhs);\n                            step = result;\n                            if (result.type === 'path') {\n                                step = result.steps[result.steps.length - 1];\n                            } else {\n                                result = {type: 'path', steps: [result]};\n                                if (typeof step.predicate !== 'undefined') {\n                                    step.stages = step.predicate;\n                                    delete step.predicate;\n                                }\n                            }\n                            if (typeof step.stages === 'undefined') {\n                                step.index = expr.rhs.value;\n                            } else {\n                                step.stages.push({type: 'index', value: expr.rhs.value, position: expr.position});\n                            }\n                            step.tuple = true;\n                            break;\n                        case '~>':\n                            result = {type: 'apply', value: expr.value, position: expr.position};\n                            result.lhs = processAST(expr.lhs);\n                            result.rhs = processAST(expr.rhs);\n                            break;\n                        default:\n                            result = {type: expr.type, value: expr.value, position: expr.position};\n                            result.lhs = processAST(expr.lhs);\n                            result.rhs = processAST(expr.rhs);\n                            pushAncestry(result, result.lhs);\n                            pushAncestry(result, result.rhs);\n                    }\n                    break;\n                case 'unary':\n                    result = {type: expr.type, value: expr.value, position: expr.position};\n                    if (expr.value === '[') {\n                        // array constructor - process each item\n                        result.expressions = expr.expressions.map(function (item) {\n                            var value = processAST(item);\n                            pushAncestry(result, value);\n                            return value;\n                        });\n                    } else if (expr.value === '{') {\n                        // object constructor - process each pair\n                        result.lhs = expr.lhs.map(function (pair) {\n                            var key = processAST(pair[0]);\n                            pushAncestry(result, key);\n                            var value = processAST(pair[1]);\n                            pushAncestry(result, value);\n                            return [key, value];\n                        });\n                    } else {\n                        // all other unary expressions - just process the expression\n                        result.expression = processAST(expr.expression);\n                        // if unary minus on a number, then pre-process\n                        if (expr.value === '-' && result.expression.type === 'number') {\n                            result = result.expression;\n                            result.value = -result.value;\n                        } else {\n                            pushAncestry(result, result.expression);\n                        }\n                    }\n                    break;\n                case 'function':\n                case 'partial':\n                    result = {type: expr.type, name: expr.name, value: expr.value, position: expr.position};\n                    result.arguments = expr.arguments.map(function (arg) {\n                        var argAST = processAST(arg);\n                        pushAncestry(result, argAST);\n                        return argAST;\n                    });\n                    result.procedure = processAST(expr.procedure);\n                    break;\n                case 'lambda':\n                    result = {\n                        type: expr.type,\n                        arguments: expr.arguments,\n                        signature: expr.signature,\n                        position: expr.position\n                    };\n                    var body = processAST(expr.body);\n                    result.body = tailCallOptimize(body);\n                    break;\n                case 'condition':\n                    result = {type: expr.type, position: expr.position};\n                    result.condition = processAST(expr.condition);\n                    pushAncestry(result, result.condition);\n                    result.then = processAST(expr.then);\n                    pushAncestry(result, result.then);\n                    if (typeof expr.else !== 'undefined') {\n                        result.else = processAST(expr.else);\n                        pushAncestry(result, result.else);\n                    }\n                    break;\n                case 'transform':\n                    result = {type: expr.type, position: expr.position};\n                    result.pattern = processAST(expr.pattern);\n                    result.update = processAST(expr.update);\n                    if (typeof expr.delete !== 'undefined') {\n                        result.delete = processAST(expr.delete);\n                    }\n                    break;\n                case 'block':\n                    result = {type: expr.type, position: expr.position};\n                    // array of expressions - process each one\n                    result.expressions = expr.expressions.map(function (item) {\n                        var part = processAST(item);\n                        pushAncestry(result, part);\n                        if (part.consarray || (part.type === 'path' && part.steps[0].consarray)) {\n                            result.consarray = true;\n                        }\n                        return part;\n                    });\n                    // TODO scan the array of expressions to see if any of them assign variables\n                    // if so, need to mark the block as one that needs to create a new frame\n                    break;\n                case 'name':\n                    result = {type: 'path', steps: [expr]};\n                    if (expr.keepArray) {\n                        result.keepSingletonArray = true;\n                    }\n                    break;\n                case 'parent':\n                    result = {type: 'parent', slot: { label: '!' + ancestorLabel++, level: 1, index: ancestorIndex++ } };\n                    ancestry.push(result);\n                    break;\n                case 'string':\n                case 'number':\n                case 'value':\n                case 'wildcard':\n                case 'descendant':\n                case 'variable':\n                case 'regex':\n                    result = expr;\n                    break;\n                case 'operator':\n                    // the tokens 'and' and 'or' might have been used as a name rather than an operator\n                    if (expr.value === 'and' || expr.value === 'or' || expr.value === 'in') {\n                        expr.type = 'name';\n                        result = processAST(expr);\n                    } else /* istanbul ignore else */ if (expr.value === '?') {\n                        // partial application\n                        result = expr;\n                    } else {\n                        throw {\n                            code: \"S0201\",\n                            stack: (new Error()).stack,\n                            position: expr.position,\n                            token: expr.value\n                        };\n                    }\n                    break;\n                case 'error':\n                    result = expr;\n                    if (expr.lhs) {\n                        result = processAST(expr.lhs);\n                    }\n                    break;\n                default:\n                    var code = \"S0206\";\n                    /* istanbul ignore else */\n                    if (expr.id === '(end)') {\n                        code = \"S0207\";\n                    }\n                    var err = {\n                        code: code,\n                        position: expr.position,\n                        token: expr.value\n                    };\n                    if (recover) {\n                        errors.push(err);\n                        return {type: 'error', error: err};\n                    } else {\n                        err.stack = (new Error()).stack;\n                        throw err;\n                    }\n            }\n            if (expr.keepArray) {\n                result.keepArray = true;\n            }\n            return result;\n        };\n\n        // now invoke the tokenizer and the parser and return the syntax tree\n        lexer = tokenizer(source);\n        advance();\n        // parse the tokens\n        var expr = expression(0);\n        if (node.id !== '(end)') {\n            var err = {\n                code: \"S0201\",\n                position: node.position,\n                token: node.value\n            };\n            handleError(err);\n        }\n        expr = processAST(expr);\n\n        if(expr.type === 'parent' || typeof expr.seekingParent !== 'undefined') {\n            // error - trying to derive ancestor at top level\n            throw {\n                code: \"S0217\",\n                token: expr.type,\n                position: expr.position\n            };\n        }\n\n        if (errors.length > 0) {\n            expr.errors = errors;\n        }\n\n        return expr;\n    };\n\n    return parser;\n})();\n\nmodule.exports = parser;\n\n},{\"./signature\":5}],5:[function(require,module,exports){\n/**\n * © Copyright IBM Corp. 2016, 2018 All Rights Reserved\n *   Project name: JSONata\n *   This project is licensed under the MIT License, see LICENSE\n */\n\nvar utils = require('./utils');\n\nconst signature = (() => {\n    'use strict';\n\n    // A mapping between the function signature symbols and the full plural of the type\n    // Expected to be used in error messages\n    var arraySignatureMapping = {\n        \"a\": \"arrays\",\n        \"b\": \"booleans\",\n        \"f\": \"functions\",\n        \"n\": \"numbers\",\n        \"o\": \"objects\",\n        \"s\": \"strings\"\n    };\n\n    /**\n     * Parses a function signature definition and returns a validation function\n     * @param {string} signature - the signature between the <angle brackets>\n     * @returns {Function} validation function\n     */\n    function parseSignature(signature) {\n        // create a Regex that represents this signature and return a function that when invoked,\n        // returns the validated (possibly fixed-up) arguments, or throws a validation error\n        // step through the signature, one symbol at a time\n        var position = 1;\n        var params = [];\n        var param = {};\n        var prevParam = param;\n        while (position < signature.length) {\n            var symbol = signature.charAt(position);\n            if (symbol === ':') {\n                // TODO figure out what to do with the return type\n                // ignore it for now\n                break;\n            }\n\n            var next = function () {\n                params.push(param);\n                prevParam = param;\n                param = {};\n            };\n\n            var findClosingBracket = function (str, start, openSymbol, closeSymbol) {\n                // returns the position of the closing symbol (e.g. bracket) in a string\n                // that balances the opening symbol at position start\n                var depth = 1;\n                var position = start;\n                while (position < str.length) {\n                    position++;\n                    symbol = str.charAt(position);\n                    if (symbol === closeSymbol) {\n                        depth--;\n                        if (depth === 0) {\n                            // we're done\n                            break; // out of while loop\n                        }\n                    } else if (symbol === openSymbol) {\n                        depth++;\n                    }\n                }\n                return position;\n            };\n\n            switch (symbol) {\n                case 's': // string\n                case 'n': // number\n                case 'b': // boolean\n                case 'l': // not so sure about expecting null?\n                case 'o': // object\n                    param.regex = '[' + symbol + 'm]';\n                    param.type = symbol;\n                    next();\n                    break;\n                case 'a': // array\n                    //  normally treat any value as singleton array\n                    param.regex = '[asnblfom]';\n                    param.type = symbol;\n                    param.array = true;\n                    next();\n                    break;\n                case 'f': // function\n                    param.regex = 'f';\n                    param.type = symbol;\n                    next();\n                    break;\n                case 'j': // any JSON type\n                    param.regex = '[asnblom]';\n                    param.type = symbol;\n                    next();\n                    break;\n                case 'x': // any type\n                    param.regex = '[asnblfom]';\n                    param.type = symbol;\n                    next();\n                    break;\n                case '-': // use context if param not supplied\n                    prevParam.context = true;\n                    prevParam.contextRegex = new RegExp(prevParam.regex); // pre-compiled to test the context type at runtime\n                    prevParam.regex += '?';\n                    break;\n                case '?': // optional param\n                case '+': // one or more\n                    prevParam.regex += symbol;\n                    break;\n                case '(': // choice of types\n                    // search forward for matching ')'\n                    var endParen = findClosingBracket(signature, position, '(', ')');\n                    var choice = signature.substring(position + 1, endParen);\n                    if (choice.indexOf('<') === -1) {\n                        // no parameterized types, simple regex\n                        param.regex = '[' + choice + 'm]';\n                    } else {\n                        // TODO harder\n                        throw {\n                            code: \"S0402\",\n                            stack: (new Error()).stack,\n                            value: choice,\n                            offset: position\n                        };\n                    }\n                    param.type = '(' + choice + ')';\n                    position = endParen;\n                    next();\n                    break;\n                case '<': // type parameter - can only be applied to 'a' and 'f'\n                    if (prevParam.type === 'a' || prevParam.type === 'f') {\n                        // search forward for matching '>'\n                        var endPos = findClosingBracket(signature, position, '<', '>');\n                        prevParam.subtype = signature.substring(position + 1, endPos);\n                        position = endPos;\n                    } else {\n                        throw {\n                            code: \"S0401\",\n                            stack: (new Error()).stack,\n                            value: prevParam.type,\n                            offset: position\n                        };\n                    }\n                    break;\n            }\n            position++;\n        }\n        var regexStr = '^' +\n            params.map(function (param) {\n                return '(' + param.regex + ')';\n            }).join('') +\n            '$';\n        var regex = new RegExp(regexStr);\n        var getSymbol = function (value) {\n            var symbol;\n            if (utils.isFunction(value)) {\n                symbol = 'f';\n            } else {\n                var type = typeof value;\n                switch (type) {\n                    case 'string':\n                        symbol = 's';\n                        break;\n                    case 'number':\n                        symbol = 'n';\n                        break;\n                    case 'boolean':\n                        symbol = 'b';\n                        break;\n                    case 'object':\n                        if (value === null) {\n                            symbol = 'l';\n                        } else if (Array.isArray(value)) {\n                            symbol = 'a';\n                        } else {\n                            symbol = 'o';\n                        }\n                        break;\n                    case 'undefined':\n                    default:\n                        // any value can be undefined, but should be allowed to match\n                        symbol = 'm'; // m for missing\n                }\n            }\n            return symbol;\n        };\n\n        var throwValidationError = function (badArgs, badSig) {\n            // to figure out where this went wrong we need apply each component of the\n            // regex to each argument until we get to the one that fails to match\n            var partialPattern = '^';\n            var goodTo = 0;\n            for (var index = 0; index < params.length; index++) {\n                partialPattern += params[index].regex;\n                var match = badSig.match(partialPattern);\n                if (match === null) {\n                    // failed here\n                    throw {\n                        code: \"T0410\",\n                        stack: (new Error()).stack,\n                        value: badArgs[goodTo],\n                        index: goodTo + 1\n                    };\n                }\n                goodTo = match[0].length;\n            }\n            // if it got this far, it's probably because of extraneous arguments (we\n            // haven't added the trailing '$' in the regex yet.\n            throw {\n                code: \"T0410\",\n                stack: (new Error()).stack,\n                value: badArgs[goodTo],\n                index: goodTo + 1\n            };\n        };\n\n        return {\n            definition: signature,\n            validate: function (args, context) {\n                var suppliedSig = '';\n                args.forEach(function (arg) {\n                    suppliedSig += getSymbol(arg);\n                });\n                var isValid = regex.exec(suppliedSig);\n                if (isValid) {\n                    var validatedArgs = [];\n                    var argIndex = 0;\n                    params.forEach(function (param, index) {\n                        var arg = args[argIndex];\n                        var match = isValid[index + 1];\n                        if (match === '') {\n                            if (param.context && param.contextRegex) {\n                                // substitute context value for missing arg\n                                // first check that the context value is the right type\n                                var contextType = getSymbol(context);\n                                // test contextType against the regex for this arg (without the trailing ?)\n                                if (param.contextRegex.test(contextType)) {\n                                    validatedArgs.push(context);\n                                } else {\n                                    // context value not compatible with this argument\n                                    throw {\n                                        code: \"T0411\",\n                                        stack: (new Error()).stack,\n                                        value: context,\n                                        index: argIndex + 1\n                                    };\n                                }\n                            } else {\n                                validatedArgs.push(arg);\n                                argIndex++;\n                            }\n                        } else {\n                            // may have matched multiple args (if the regex ends with a '+'\n                            // split into single tokens\n                            match.split('').forEach(function (single) {\n                                if (param.type === 'a') {\n                                    if (single === 'm') {\n                                        // missing (undefined)\n                                        arg = undefined;\n                                    } else {\n                                        arg = args[argIndex];\n                                        var arrayOK = true;\n                                        // is there type information on the contents of the array?\n                                        if (typeof param.subtype !== 'undefined') {\n                                            if (single !== 'a' && match !== param.subtype) {\n                                                arrayOK = false;\n                                            } else if (single === 'a') {\n                                                if (arg.length > 0) {\n                                                    var itemType = getSymbol(arg[0]);\n                                                    if (itemType !== param.subtype.charAt(0)) { // TODO recurse further\n                                                        arrayOK = false;\n                                                    } else {\n                                                        // make sure every item in the array is this type\n                                                        var differentItems = arg.filter(function (val) {\n                                                            return (getSymbol(val) !== itemType);\n                                                        });\n                                                        arrayOK = (differentItems.length === 0);\n                                                    }\n                                                }\n                                            }\n                                        }\n                                        if (!arrayOK) {\n                                            throw {\n                                                code: \"T0412\",\n                                                stack: (new Error()).stack,\n                                                value: arg,\n                                                index: argIndex + 1,\n                                                type: arraySignatureMapping[param.subtype]\n                                            };\n                                        }\n                                        // the function expects an array. If it's not one, make it so\n                                        if (single !== 'a') {\n                                            arg = [arg];\n                                        }\n                                    }\n                                    validatedArgs.push(arg);\n                                    argIndex++;\n                                } else {\n                                    validatedArgs.push(arg);\n                                    argIndex++;\n                                }\n                            });\n                        }\n                    });\n                    return validatedArgs;\n                }\n                throwValidationError(args, suppliedSig);\n            }\n        };\n    }\n\n    return parseSignature;\n})();\n\nmodule.exports = signature;\n\n},{\"./utils\":6}],6:[function(require,module,exports){\n/**\n * © Copyright IBM Corp. 2016, 2018 All Rights Reserved\n *   Project name: JSONata\n *   This project is licensed under the MIT License, see LICENSE\n */\n\nconst utils = (() => {\n    'use strict';\n\n    /**\n     * Check if value is a finite number\n     * @param {float} n - number to evaluate\n     * @returns {boolean} True if n is a finite number\n     */\n    function isNumeric(n) {\n        var isNum = false;\n        if(typeof n === 'number') {\n            isNum = !isNaN(n);\n            if (isNum && !isFinite(n)) {\n                throw {\n                    code: \"D1001\",\n                    value: n,\n                    stack: (new Error()).stack\n                };\n            }\n        }\n        return isNum;\n    }\n\n    /**\n     * Returns true if the arg is an array of strings\n     * @param {*} arg - the item to test\n     * @returns {boolean} True if arg is an array of strings\n     */\n    function isArrayOfStrings(arg) {\n        var result = false;\n        /* istanbul ignore else */\n        if(Array.isArray(arg)) {\n            result = (arg.filter(function(item){return typeof item !== 'string';}).length === 0);\n        }\n        return result;\n    }\n\n    /**\n     * Returns true if the arg is an array of numbers\n     * @param {*} arg - the item to test\n     * @returns {boolean} True if arg is an array of numbers\n     */\n    function isArrayOfNumbers(arg) {\n        var result = false;\n        if(Array.isArray(arg)) {\n            result = (arg.filter(function(item){return !isNumeric(item);}).length === 0);\n        }\n        return result;\n    }\n\n    /**\n     * Create an empty sequence to contain query results\n     * @returns {Array} - empty sequence\n     */\n    function createSequence() {\n        var sequence = [];\n        sequence.sequence = true;\n        if (arguments.length === 1) {\n            sequence.push(arguments[0]);\n        }\n        return sequence;\n    }\n\n    /**\n     * Tests if a value is a sequence\n     * @param {*} value the value to test\n     * @returns {boolean} true if it's a sequence\n     */\n    function isSequence(value) {\n        return value.sequence === true && Array.isArray(value);\n    }\n\n    /**\n     *\n     * @param {Object} arg - expression to test\n     * @returns {boolean} - true if it is a function (lambda or built-in)\n     */\n    function isFunction(arg) {\n        return ((arg && (arg._jsonata_function === true || arg._jsonata_lambda === true)) || typeof arg === 'function');\n    }\n\n    /**\n     * Returns the arity (number of arguments) of the function\n     * @param {*} func - the function\n     * @returns {*} - the arity\n     */\n    function getFunctionArity(func) {\n        var arity = typeof func.arity === 'number' ? func.arity :\n            typeof func.implementation === 'function' ? func.implementation.length :\n                typeof func.length === 'number' ? func.length : func.arguments.length;\n        return arity;\n    }\n\n    /**\n     * Tests whether arg is a lambda function\n     * @param {*} arg - the value to test\n     * @returns {boolean} - true if it is a lambda function\n     */\n    function isLambda(arg) {\n        return arg && arg._jsonata_lambda === true;\n    }\n\n    // istanbul ignore next\n    var $Symbol = typeof Symbol === \"function\" ? Symbol : {};\n    // istanbul ignore next\n    var iteratorSymbol = $Symbol.iterator || \"@@iterator\";\n\n    /**\n     * @param {Object} arg - expression to test\n     * @returns {boolean} - true if it is iterable\n     */\n    function isIterable(arg) {\n        return (\n            typeof arg === 'object' &&\n            arg !== null &&\n            iteratorSymbol in arg &&\n            'next' in arg &&\n            typeof arg.next === 'function'\n        );\n    }\n\n    /**\n     * Compares two values for equality\n     * @param {*} lhs first value\n     * @param {*} rhs second value\n     * @returns {boolean} true if they are deep equal\n     */\n    function isDeepEqual(lhs, rhs) {\n        if (lhs === rhs) {\n            return true;\n        }\n        if(typeof lhs === 'object' && typeof rhs === 'object' && lhs !== null && rhs !== null) {\n            if(Array.isArray(lhs) && Array.isArray(rhs)) {\n                // both arrays (or sequences)\n                // must be the same length\n                if(lhs.length !== rhs.length) {\n                    return false;\n                }\n                // must contain same values in same order\n                for(var ii = 0; ii < lhs.length; ii++) {\n                    if(!isDeepEqual(lhs[ii], rhs[ii])) {\n                        return false;\n                    }\n                }\n                return true;\n            }\n            // both objects\n            // must have the same set of keys (in any order)\n            var lkeys = Object.getOwnPropertyNames(lhs);\n            var rkeys = Object.getOwnPropertyNames(rhs);\n            if(lkeys.length !== rkeys.length) {\n                return false;\n            }\n            lkeys = lkeys.sort();\n            rkeys = rkeys.sort();\n            for(ii=0; ii < lkeys.length; ii++) {\n                if(lkeys[ii] !== rkeys[ii]) {\n                    return false;\n                }\n            }\n            // must have the same values\n            for(ii=0; ii < lkeys.length; ii++) {\n                var key = lkeys[ii];\n                if(!isDeepEqual(lhs[key], rhs[key])) {\n                    return false;\n                }\n            }\n            return true;\n        }\n        return false;\n    }\n\n    /**\n     * converts a string to an array of characters\n     * @param {string} str - the input string\n     * @returns {Array} - the array of characters\n     */\n    function stringToArray(str) {\n        var arr = [];\n        for (let char of str) {\n            arr.push(char);\n        }\n        return arr;\n    }\n\n    return {\n        isNumeric,\n        isArrayOfStrings,\n        isArrayOfNumbers,\n        createSequence,\n        isSequence,\n        isFunction,\n        isLambda,\n        isIterable,\n        getFunctionArity,\n        isDeepEqual,\n        stringToArray\n    };\n})();\n\nmodule.exports = utils;\n\n},{}]},{},[3])(3)\n});\n","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _typeof = typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\" ? function (obj) { return typeof obj; } : function (obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; };\n\nvar _slicedToArray = function () { function sliceIterator(arr, i) { var _arr = []; var _n = true; var _d = false; var _e = undefined; try { for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) { _arr.push(_s.value); if (i && _arr.length === i) break; } } catch (err) { _d = true; _e = err; } finally { try { if (!_n && _i[\"return\"]) _i[\"return\"](); } finally { if (_d) throw _e; } } return _arr; } return function (arr, i) { if (Array.isArray(arr)) { return arr; } else if (Symbol.iterator in Object(arr)) { return sliceIterator(arr, i); } else { throw new TypeError(\"Invalid attempt to destructure non-iterable instance\"); } }; }();\n\nvar _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _utils = require(\"./utils\");\n\nvar utils = _interopRequireWildcard(_utils);\n\nfunction _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key]; } } newObj.default = obj; return newObj; } }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\n/**\n * Simple module to localize the React interface using the same syntax\n * used in the ReactNativeLocalization module\n * (https://github.com/stefalda/ReactNativeLocalization)\n *\n * Originally developed by Stefano Falda (stefano.falda@gmail.com)\n *\n * It uses a call to the Navigator/Browser object to get the current interface language,\n * then display the correct language strings or the default language (the first\n * one if a match is not found).\n *\n * How to use:\n * Check the instructions at:\n * https://github.com/stefalda/localized-strings\n */\n\nvar placeholderReplaceRegex = /(\\{[\\d|\\w]+\\})/;\nvar placeholderReferenceRegex = /(\\$ref\\{[\\w|.]+\\})/;\n\nvar LocalizedStrings = function () {\n  /**\n   * Constructor used to provide the strings objects in various language and the optional callback to get\n   * the interface language\n   * @param {*} props - the strings object\n   * @param {Function} options.customLanguageInterface - the optional method to use to get the InterfaceLanguage\n   * @param {Boolean} options.pseudo - convert all strings to pseudo, helpful when implementing\n   * @param {Boolean} options.pseudoMultipleLanguages - add 40% to pseudo, helps with translations in the future\n   * @param {Boolean} options.logsEnabled - Enable/Disable console.log outputs (default=true)\n   */\n  function LocalizedStrings(props, options) {\n    _classCallCheck(this, LocalizedStrings);\n\n    // Compatibility fix with previous version\n    if (typeof options === \"function\") {\n      /* eslint-disable no-param-reassign */\n      options = { customLanguageInterface: options };\n      /* eslint-enable */\n    }\n    this._opts = _extends({}, {\n      customLanguageInterface: utils.getInterfaceLanguage,\n      pseudo: false,\n      pseudoMultipleLanguages: false,\n      logsEnabled: true\n    }, options);\n    this._interfaceLanguage = this._opts.customLanguageInterface();\n    this._language = this._interfaceLanguage;\n    this.setContent(props);\n  }\n\n  /**\n   * Set the strings objects based on the parameter passed in the constructor\n   * @param {*} props\n   */\n\n\n  _createClass(LocalizedStrings, [{\n    key: \"setContent\",\n    value: function setContent(props) {\n      var _this = this;\n\n      var _Object$keys = Object.keys(props),\n          _Object$keys2 = _slicedToArray(_Object$keys, 1),\n          defaultLang = _Object$keys2[0];\n\n      this._defaultLanguage = defaultLang;\n      this._defaultLanguageFirstLevelKeys = [];\n      // Store locally the passed strings\n      this._props = props;\n      utils.validateTranslationKeys(Object.keys(props[this._defaultLanguage]));\n      // Store first level keys (for identifying missing translations)\n      Object.keys(this._props[this._defaultLanguage]).forEach(function (key) {\n        if (typeof _this._props[_this._defaultLanguage][key] === \"string\") {\n          _this._defaultLanguageFirstLevelKeys.push(key);\n        }\n      });\n      // Set language to its default value (the interface)\n      this.setLanguage(this._interfaceLanguage);\n      // Developermode with pseudo\n      if (this._opts.pseudo) {\n        this._pseudoAllValues(this._props);\n      }\n    }\n\n    /**\n     * Replace all strings to pseudo value\n     * @param {Object} obj - Loopable object\n     */\n\n  }, {\n    key: \"_pseudoAllValues\",\n    value: function _pseudoAllValues(obj) {\n      var _this2 = this;\n\n      Object.keys(obj).forEach(function (property) {\n        if (_typeof(obj[property]) === \"object\") {\n          _this2._pseudoAllValues(obj[property]);\n        } else if (typeof obj[property] === \"string\") {\n          if (obj[property].indexOf(\"[\") === 0 && obj[property].lastIndexOf(\"]\") === obj[property].length - 1) {\n            // already psuedo fixed\n            return;\n          }\n          // @TODO must be a way to get regex to find all replaceble strings except our replacement variables\n          var strArr = obj[property].split(\" \");\n          for (var i = 0; i < strArr.length; i += 1) {\n            if (strArr[i].match(placeholderReplaceRegex)) {\n              // we want to keep this string, includes specials\n            } else if (strArr[i].match(placeholderReferenceRegex)) {\n              // we want to keep this string, includes specials\n            } else {\n              var len = strArr[i].length;\n              if (_this2._opts.pseudoMultipleLanguages) {\n                len = parseInt(len * 1.4, 10); // add length with 40%\n              }\n              strArr[i] = utils.randomPseudo(len);\n            }\n          }\n          obj[property] = \"[\" + strArr.join(\" \") + \"]\"; // eslint-disable-line no-param-reassign\n        }\n      });\n    }\n\n    /**\n     * Can be used from ouside the class to force a particular language\n     * indipendently from the interface one\n     * @param {*} language\n     */\n\n  }, {\n    key: \"setLanguage\",\n    value: function setLanguage(language) {\n      var _this3 = this;\n\n      // Check if exists a translation for the current language or if the default\n      // should be used\n      var bestLanguage = utils.getBestMatchingLanguage(language, this._props);\n      var defaultLanguage = Object.keys(this._props)[0];\n      this._language = bestLanguage;\n      // Associate the language object to the this object\n      if (this._props[bestLanguage]) {\n        // delete default propery values to identify missing translations\n        for (var i = 0; i < this._defaultLanguageFirstLevelKeys.length; i += 1) {\n          delete this[this._defaultLanguageFirstLevelKeys[i]];\n        }\n        var localizedStrings = _extends({}, this._props[this._language]);\n        Object.keys(localizedStrings).forEach(function (key) {\n          _this3[key] = localizedStrings[key];\n        });\n        // Now add any string missing from the translation but existing in the default language\n        if (defaultLanguage !== this._language) {\n          localizedStrings = this._props[defaultLanguage];\n          this._fallbackValues(localizedStrings, this);\n        }\n      }\n    }\n\n    /**\n     * Load fallback values for missing translations\n     * @param {*} defaultStrings\n     * @param {*} strings\n     */\n\n  }, {\n    key: \"_fallbackValues\",\n    value: function _fallbackValues(defaultStrings, strings) {\n      var _this4 = this;\n\n      Object.keys(defaultStrings).forEach(function (key) {\n        if (Object.prototype.hasOwnProperty.call(defaultStrings, key) && !strings[key] && strings[key] !== \"\") {\n          strings[key] = defaultStrings[key]; // eslint-disable-line no-param-reassign\n          if (_this4._opts.logsEnabled) {\n            console.log(\"\\uD83D\\uDEA7 \\uD83D\\uDC77 key '\" + key + \"' not found in localizedStrings for language \" + _this4._language + \" \\uD83D\\uDEA7\");\n          }\n        } else if (typeof strings[key] !== \"string\") {\n          // It's an object\n          _this4._fallbackValues(defaultStrings[key], strings[key]);\n        }\n      });\n    }\n\n    /**\n     * The current language displayed (could differ from the interface language\n     * if it has been forced manually and a matching translation has been found)\n     */\n\n  }, {\n    key: \"getLanguage\",\n    value: function getLanguage() {\n      return this._language;\n    }\n\n    /**\n     * The current interface language (could differ from the language displayed)\n     */\n\n  }, {\n    key: \"getInterfaceLanguage\",\n    value: function getInterfaceLanguage() {\n      return this._interfaceLanguage;\n    }\n\n    /**\n     * Return an array containing the available languages passed as props in the constructor\n     */\n\n  }, {\n    key: \"getAvailableLanguages\",\n    value: function getAvailableLanguages() {\n      var _this5 = this;\n\n      if (!this._availableLanguages) {\n        this._availableLanguages = [];\n        Object.keys(this._props).forEach(function (key) {\n          _this5._availableLanguages.push(key);\n        });\n      }\n      return this._availableLanguages;\n    }\n\n    // Format the passed string replacing the numbered or tokenized placeholders\n    // eg. 1: I'd like some {0} and {1}, or just {0}\n    // eg. 2: I'd like some {bread} and {butter}, or just {bread}\n    // eg. 3: I'd like some $ref{bread} and $ref{butter}, or just $ref{bread}\n    // Use example:\n    // eg. 1: strings.formatString(strings.question, strings.bread, strings.butter)\n    // eg. 2: strings.formatString(strings.question, { bread: strings.bread, butter: strings.butter })\n    // eg. 3: strings.formatString(strings.question)\n\n  }, {\n    key: \"formatString\",\n    value: function formatString(str) {\n      var _this6 = this;\n\n      for (var _len = arguments.length, valuesForPlaceholders = Array(_len > 1 ? _len - 1 : 0), _key = 1; _key < _len; _key++) {\n        valuesForPlaceholders[_key - 1] = arguments[_key];\n      }\n\n      var input = str || \"\";\n      if (typeof input === \"string\") {\n        input = this.getString(str, null, true) || input;\n      }\n      var ref = input.split(placeholderReferenceRegex).filter(function (textPart) {\n        return !!textPart;\n      }).map(function (textPart) {\n        if (textPart.match(placeholderReferenceRegex)) {\n          var matchedKey = textPart.slice(5, -1);\n          var referenceValue = _this6.getString(matchedKey);\n          if (referenceValue) return referenceValue;\n          if (_this6._opts.logsEnabled) {\n            console.log(\"No Localization ref found for '\" + textPart + \"' in string '\" + str + \"'\");\n          }\n          // lets print it another way so next replacer doesn't find it\n          return \"$ref(id:\" + matchedKey + \")\";\n        }\n        return textPart;\n      }).join(\"\");\n      return ref.split(placeholderReplaceRegex).filter(function (textPart) {\n        return !!textPart;\n      }).map(function (textPart) {\n        if (textPart.match(placeholderReplaceRegex)) {\n          var matchedKey = textPart.slice(1, -1);\n          var valueForPlaceholder = valuesForPlaceholders[matchedKey];\n          // If no value found, check if working with an object instead\n          if (valueForPlaceholder === undefined) {\n            var valueFromObjectPlaceholder = valuesForPlaceholders[0][matchedKey];\n            if (valueFromObjectPlaceholder !== undefined) {\n              valueForPlaceholder = valueFromObjectPlaceholder;\n            } else {\n              // If value still isn't found, then it must have been undefined/null\n              return valueForPlaceholder;\n            }\n          }\n\n          return valueForPlaceholder;\n        }\n        return textPart;\n      }).join(\"\");\n    }\n\n    // Return a string with the passed key in a different language or defalt if not set\n    // We allow deep . notation for finding strings\n\n  }, {\n    key: \"getString\",\n    value: function getString(key, language) {\n      var omitWarning = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : false;\n\n      try {\n        var current = this._props[language || this._language];\n        var paths = key.split(\".\");\n        for (var i = 0; i < paths.length; i += 1) {\n          if (current[paths[i]] === undefined) {\n            throw Error(paths[i]);\n          }\n          current = current[paths[i]];\n        }\n        return current;\n      } catch (ex) {\n        if (!omitWarning && this._opts.logsEnabled) {\n          console.log(\"No localization found for key '\" + key + \"' and language '\" + language + \"', failed on \" + ex.message);\n        }\n      }\n      return null;\n    }\n\n    /**\n     * The current props (locale object)\n     */\n\n  }, {\n    key: \"getContent\",\n    value: function getContent() {\n      return this._props;\n    }\n  }]);\n\n  return LocalizedStrings;\n}();\n\nexports.default = LocalizedStrings;","'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.getInterfaceLanguage = getInterfaceLanguage;\nexports.getBestMatchingLanguage = getBestMatchingLanguage;\nexports.validateTranslationKeys = validateTranslationKeys;\nexports.randomPseudo = randomPseudo;\n/**\n * Return the current interface language\n * If the navigator object is defined it returns the current navigator language\n * otherwise it falls back to 'en-US'\n * Works in browsers\n */\nfunction getInterfaceLanguage() {\n  var defaultLang = 'en-US';\n  if (typeof navigator === 'undefined') {\n    return defaultLang;\n  }\n  var nav = navigator; // eslint-disable-line no-undef\n  if (nav) {\n    if (nav.language) {\n      return nav.language;\n    }\n    if (!!nav.languages && !!nav.languages[0]) {\n      return nav.languages[0];\n    }\n    if (nav.userLanguage) {\n      return nav.userLanguage;\n    }\n    if (nav.browserLanguage) {\n      return nav.browserLanguage;\n    }\n  }\n  return defaultLang;\n}\n\n/**\n * Get the best match based on the language passed and the available languages\n * @param {*} language\n * @param {*} props\n */\nfunction getBestMatchingLanguage(language, props) {\n  // If an object with the passed language key exists return it\n  if (props[language]) return language;\n\n  // if the string is composed try to find a match with only the first language identifiers (en-US --> en)\n  var idx = language.indexOf('-');\n  var auxLang = idx >= 0 ? language.substring(0, idx) : language;\n  return props[auxLang] ? auxLang : Object.keys(props)[0];\n}\n\n/**\n * Check that the keys used in the provided strings object don't collide with existing property\n * already defined in the LocalizedStrings object\n * @param {*} translationKeys\n */\nfunction validateTranslationKeys(translationKeys) {\n  var reservedNames = ['_interfaceLanguage', '_language', '_defaultLanguage', '_defaultLanguageFirstLevelKeys', '_props'];\n  translationKeys.forEach(function (key) {\n    if (reservedNames.indexOf(key) !== -1) {\n      throw new Error(key + ' cannot be used as a key. It is a reserved word.');\n    }\n  });\n}\n\n/**\n * Get a random pseudo string back after specified a length\n * @param {Number} len - How many characters to get back\n */\nfunction randomPseudo(len) {\n  var text = '';\n  var possible = 'ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789';\n  for (var i = 0; i < len; i += 1) {\n    text += possible.charAt(Math.floor(Math.random() * possible.length));\n  }return text;\n}","var hashClear = require('./_hashClear'),\n    hashDelete = require('./_hashDelete'),\n    hashGet = require('./_hashGet'),\n    hashHas = require('./_hashHas'),\n    hashSet = require('./_hashSet');\n\n/**\n * Creates a hash object.\n *\n * @private\n * @constructor\n * @param {Array} [entries] The key-value pairs to cache.\n */\nfunction Hash(entries) {\n  var index = -1,\n      length = entries == null ? 0 : entries.length;\n\n  this.clear();\n  while (++index < length) {\n    var entry = entries[index];\n    this.set(entry[0], entry[1]);\n  }\n}\n\n// Add methods to `Hash`.\nHash.prototype.clear = hashClear;\nHash.prototype['delete'] = hashDelete;\nHash.prototype.get = hashGet;\nHash.prototype.has = hashHas;\nHash.prototype.set = hashSet;\n\nmodule.exports = Hash;\n","var listCacheClear = require('./_listCacheClear'),\n    listCacheDelete = require('./_listCacheDelete'),\n    listCacheGet = require('./_listCacheGet'),\n    listCacheHas = require('./_listCacheHas'),\n    listCacheSet = require('./_listCacheSet');\n\n/**\n * Creates an list cache object.\n *\n * @private\n * @constructor\n * @param {Array} [entries] The key-value pairs to cache.\n */\nfunction ListCache(entries) {\n  var index = -1,\n      length = entries == null ? 0 : entries.length;\n\n  this.clear();\n  while (++index < length) {\n    var entry = entries[index];\n    this.set(entry[0], entry[1]);\n  }\n}\n\n// Add methods to `ListCache`.\nListCache.prototype.clear = listCacheClear;\nListCache.prototype['delete'] = listCacheDelete;\nListCache.prototype.get = listCacheGet;\nListCache.prototype.has = listCacheHas;\nListCache.prototype.set = listCacheSet;\n\nmodule.exports = ListCache;\n","var getNative = require('./_getNative'),\n    root = require('./_root');\n\n/* Built-in method references that are verified to be native. */\nvar Map = getNative(root, 'Map');\n\nmodule.exports = Map;\n","var mapCacheClear = require('./_mapCacheClear'),\n    mapCacheDelete = require('./_mapCacheDelete'),\n    mapCacheGet = require('./_mapCacheGet'),\n    mapCacheHas = require('./_mapCacheHas'),\n    mapCacheSet = require('./_mapCacheSet');\n\n/**\n * Creates a map cache object to store key-value pairs.\n *\n * @private\n * @constructor\n * @param {Array} [entries] The key-value pairs to cache.\n */\nfunction MapCache(entries) {\n  var index = -1,\n      length = entries == null ? 0 : entries.length;\n\n  this.clear();\n  while (++index < length) {\n    var entry = entries[index];\n    this.set(entry[0], entry[1]);\n  }\n}\n\n// Add methods to `MapCache`.\nMapCache.prototype.clear = mapCacheClear;\nMapCache.prototype['delete'] = mapCacheDelete;\nMapCache.prototype.get = mapCacheGet;\nMapCache.prototype.has = mapCacheHas;\nMapCache.prototype.set = mapCacheSet;\n\nmodule.exports = MapCache;\n","var getNative = require('./_getNative'),\n    root = require('./_root');\n\n/* Built-in method references that are verified to be native. */\nvar Set = getNative(root, 'Set');\n\nmodule.exports = Set;\n","var MapCache = require('./_MapCache'),\n    setCacheAdd = require('./_setCacheAdd'),\n    setCacheHas = require('./_setCacheHas');\n\n/**\n *\n * Creates an array cache object to store unique values.\n *\n * @private\n * @constructor\n * @param {Array} [values] The values to cache.\n */\nfunction SetCache(values) {\n  var index = -1,\n      length = values == null ? 0 : values.length;\n\n  this.__data__ = new MapCache;\n  while (++index < length) {\n    this.add(values[index]);\n  }\n}\n\n// Add methods to `SetCache`.\nSetCache.prototype.add = SetCache.prototype.push = setCacheAdd;\nSetCache.prototype.has = setCacheHas;\n\nmodule.exports = SetCache;\n","var root = require('./_root');\n\n/** Built-in value references. */\nvar Symbol = root.Symbol;\n\nmodule.exports = Symbol;\n","var baseIndexOf = require('./_baseIndexOf');\n\n/**\n * A specialized version of `_.includes` for arrays without support for\n * specifying an index to search from.\n *\n * @private\n * @param {Array} [array] The array to inspect.\n * @param {*} target The value to search for.\n * @returns {boolean} Returns `true` if `target` is found, else `false`.\n */\nfunction arrayIncludes(array, value) {\n  var length = array == null ? 0 : array.length;\n  return !!length && baseIndexOf(array, value, 0) > -1;\n}\n\nmodule.exports = arrayIncludes;\n","/**\n * This function is like `arrayIncludes` except that it accepts a comparator.\n *\n * @private\n * @param {Array} [array] The array to inspect.\n * @param {*} target The value to search for.\n * @param {Function} comparator The comparator invoked per element.\n * @returns {boolean} Returns `true` if `target` is found, else `false`.\n */\nfunction arrayIncludesWith(array, value, comparator) {\n  var index = -1,\n      length = array == null ? 0 : array.length;\n\n  while (++index < length) {\n    if (comparator(value, array[index])) {\n      return true;\n    }\n  }\n  return false;\n}\n\nmodule.exports = arrayIncludesWith;\n","/**\n * A specialized version of `_.map` for arrays without support for iteratee\n * shorthands.\n *\n * @private\n * @param {Array} [array] The array to iterate over.\n * @param {Function} iteratee The function invoked per iteration.\n * @returns {Array} Returns the new mapped array.\n */\nfunction arrayMap(array, iteratee) {\n  var index = -1,\n      length = array == null ? 0 : array.length,\n      result = Array(length);\n\n  while (++index < length) {\n    result[index] = iteratee(array[index], index, array);\n  }\n  return result;\n}\n\nmodule.exports = arrayMap;\n","var eq = require('./eq');\n\n/**\n * Gets the index at which the `key` is found in `array` of key-value pairs.\n *\n * @private\n * @param {Array} array The array to inspect.\n * @param {*} key The key to search for.\n * @returns {number} Returns the index of the matched value, else `-1`.\n */\nfunction assocIndexOf(array, key) {\n  var length = array.length;\n  while (length--) {\n    if (eq(array[length][0], key)) {\n      return length;\n    }\n  }\n  return -1;\n}\n\nmodule.exports = assocIndexOf;\n","/**\n * The base implementation of `_.findIndex` and `_.findLastIndex` without\n * support for iteratee shorthands.\n *\n * @private\n * @param {Array} array The array to inspect.\n * @param {Function} predicate The function invoked per iteration.\n * @param {number} fromIndex The index to search from.\n * @param {boolean} [fromRight] Specify iterating from right to left.\n * @returns {number} Returns the index of the matched value, else `-1`.\n */\nfunction baseFindIndex(array, predicate, fromIndex, fromRight) {\n  var length = array.length,\n      index = fromIndex + (fromRight ? 1 : -1);\n\n  while ((fromRight ? index-- : ++index < length)) {\n    if (predicate(array[index], index, array)) {\n      return index;\n    }\n  }\n  return -1;\n}\n\nmodule.exports = baseFindIndex;\n","var castPath = require('./_castPath'),\n    toKey = require('./_toKey');\n\n/**\n * The base implementation of `_.get` without support for default values.\n *\n * @private\n * @param {Object} object The object to query.\n * @param {Array|string} path The path of the property to get.\n * @returns {*} Returns the resolved value.\n */\nfunction baseGet(object, path) {\n  path = castPath(path, object);\n\n  var index = 0,\n      length = path.length;\n\n  while (object != null && index < length) {\n    object = object[toKey(path[index++])];\n  }\n  return (index && index == length) ? object : undefined;\n}\n\nmodule.exports = baseGet;\n","var Symbol = require('./_Symbol'),\n    getRawTag = require('./_getRawTag'),\n    objectToString = require('./_objectToString');\n\n/** `Object#toString` result references. */\nvar nullTag = '[object Null]',\n    undefinedTag = '[object Undefined]';\n\n/** Built-in value references. */\nvar symToStringTag = Symbol ? Symbol.toStringTag : undefined;\n\n/**\n * The base implementation of `getTag` without fallbacks for buggy environments.\n *\n * @private\n * @param {*} value The value to query.\n * @returns {string} Returns the `toStringTag`.\n */\nfunction baseGetTag(value) {\n  if (value == null) {\n    return value === undefined ? undefinedTag : nullTag;\n  }\n  return (symToStringTag && symToStringTag in Object(value))\n    ? getRawTag(value)\n    : objectToString(value);\n}\n\nmodule.exports = baseGetTag;\n","var baseFindIndex = require('./_baseFindIndex'),\n    baseIsNaN = require('./_baseIsNaN'),\n    strictIndexOf = require('./_strictIndexOf');\n\n/**\n * The base implementation of `_.indexOf` without `fromIndex` bounds checks.\n *\n * @private\n * @param {Array} array The array to inspect.\n * @param {*} value The value to search for.\n * @param {number} fromIndex The index to search from.\n * @returns {number} Returns the index of the matched value, else `-1`.\n */\nfunction baseIndexOf(array, value, fromIndex) {\n  return value === value\n    ? strictIndexOf(array, value, fromIndex)\n    : baseFindIndex(array, baseIsNaN, fromIndex);\n}\n\nmodule.exports = baseIndexOf;\n","/**\n * The base implementation of `_.isNaN` without support for number objects.\n *\n * @private\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is `NaN`, else `false`.\n */\nfunction baseIsNaN(value) {\n  return value !== value;\n}\n\nmodule.exports = baseIsNaN;\n","var isFunction = require('./isFunction'),\n    isMasked = require('./_isMasked'),\n    isObject = require('./isObject'),\n    toSource = require('./_toSource');\n\n/**\n * Used to match `RegExp`\n * [syntax characters](http://ecma-international.org/ecma-262/7.0/#sec-patterns).\n */\nvar reRegExpChar = /[\\\\^$.*+?()[\\]{}|]/g;\n\n/** Used to detect host constructors (Safari). */\nvar reIsHostCtor = /^\\[object .+?Constructor\\]$/;\n\n/** Used for built-in method references. */\nvar funcProto = Function.prototype,\n    objectProto = Object.prototype;\n\n/** Used to resolve the decompiled source of functions. */\nvar funcToString = funcProto.toString;\n\n/** Used to check objects for own properties. */\nvar hasOwnProperty = objectProto.hasOwnProperty;\n\n/** Used to detect if a method is native. */\nvar reIsNative = RegExp('^' +\n  funcToString.call(hasOwnProperty).replace(reRegExpChar, '\\\\$&')\n  .replace(/hasOwnProperty|(function).*?(?=\\\\\\()| for .+?(?=\\\\\\])/g, '$1.*?') + '$'\n);\n\n/**\n * The base implementation of `_.isNative` without bad shim checks.\n *\n * @private\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a native function,\n *  else `false`.\n */\nfunction baseIsNative(value) {\n  if (!isObject(value) || isMasked(value)) {\n    return false;\n  }\n  var pattern = isFunction(value) ? reIsNative : reIsHostCtor;\n  return pattern.test(toSource(value));\n}\n\nmodule.exports = baseIsNative;\n","var Symbol = require('./_Symbol'),\n    arrayMap = require('./_arrayMap'),\n    isArray = require('./isArray'),\n    isSymbol = require('./isSymbol');\n\n/** Used as references for various `Number` constants. */\nvar INFINITY = 1 / 0;\n\n/** Used to convert symbols to primitives and strings. */\nvar symbolProto = Symbol ? Symbol.prototype : undefined,\n    symbolToString = symbolProto ? symbolProto.toString : undefined;\n\n/**\n * The base implementation of `_.toString` which doesn't convert nullish\n * values to empty strings.\n *\n * @private\n * @param {*} value The value to process.\n * @returns {string} Returns the string.\n */\nfunction baseToString(value) {\n  // Exit early for strings to avoid a performance hit in some environments.\n  if (typeof value == 'string') {\n    return value;\n  }\n  if (isArray(value)) {\n    // Recursively convert values (susceptible to call stack limits).\n    return arrayMap(value, baseToString) + '';\n  }\n  if (isSymbol(value)) {\n    return symbolToString ? symbolToString.call(value) : '';\n  }\n  var result = (value + '');\n  return (result == '0' && (1 / value) == -INFINITY) ? '-0' : result;\n}\n\nmodule.exports = baseToString;\n","var SetCache = require('./_SetCache'),\n    arrayIncludes = require('./_arrayIncludes'),\n    arrayIncludesWith = require('./_arrayIncludesWith'),\n    cacheHas = require('./_cacheHas'),\n    createSet = require('./_createSet'),\n    setToArray = require('./_setToArray');\n\n/** Used as the size to enable large array optimizations. */\nvar LARGE_ARRAY_SIZE = 200;\n\n/**\n * The base implementation of `_.uniqBy` without support for iteratee shorthands.\n *\n * @private\n * @param {Array} array The array to inspect.\n * @param {Function} [iteratee] The iteratee invoked per element.\n * @param {Function} [comparator] The comparator invoked per element.\n * @returns {Array} Returns the new duplicate free array.\n */\nfunction baseUniq(array, iteratee, comparator) {\n  var index = -1,\n      includes = arrayIncludes,\n      length = array.length,\n      isCommon = true,\n      result = [],\n      seen = result;\n\n  if (comparator) {\n    isCommon = false;\n    includes = arrayIncludesWith;\n  }\n  else if (length >= LARGE_ARRAY_SIZE) {\n    var set = iteratee ? null : createSet(array);\n    if (set) {\n      return setToArray(set);\n    }\n    isCommon = false;\n    includes = cacheHas;\n    seen = new SetCache;\n  }\n  else {\n    seen = iteratee ? [] : result;\n  }\n  outer:\n  while (++index < length) {\n    var value = array[index],\n        computed = iteratee ? iteratee(value) : value;\n\n    value = (comparator || value !== 0) ? value : 0;\n    if (isCommon && computed === computed) {\n      var seenIndex = seen.length;\n      while (seenIndex--) {\n        if (seen[seenIndex] === computed) {\n          continue outer;\n        }\n      }\n      if (iteratee) {\n        seen.push(computed);\n      }\n      result.push(value);\n    }\n    else if (!includes(seen, computed, comparator)) {\n      if (seen !== result) {\n        seen.push(computed);\n      }\n      result.push(value);\n    }\n  }\n  return result;\n}\n\nmodule.exports = baseUniq;\n","/**\n * Checks if a `cache` value for `key` exists.\n *\n * @private\n * @param {Object} cache The cache to query.\n * @param {string} key The key of the entry to check.\n * @returns {boolean} Returns `true` if an entry for `key` exists, else `false`.\n */\nfunction cacheHas(cache, key) {\n  return cache.has(key);\n}\n\nmodule.exports = cacheHas;\n","var isArray = require('./isArray'),\n    isKey = require('./_isKey'),\n    stringToPath = require('./_stringToPath'),\n    toString = require('./toString');\n\n/**\n * Casts `value` to a path array if it's not one.\n *\n * @private\n * @param {*} value The value to inspect.\n * @param {Object} [object] The object to query keys on.\n * @returns {Array} Returns the cast property path array.\n */\nfunction castPath(value, object) {\n  if (isArray(value)) {\n    return value;\n  }\n  return isKey(value, object) ? [value] : stringToPath(toString(value));\n}\n\nmodule.exports = castPath;\n","var root = require('./_root');\n\n/** Used to detect overreaching core-js shims. */\nvar coreJsData = root['__core-js_shared__'];\n\nmodule.exports = coreJsData;\n","var Set = require('./_Set'),\n    noop = require('./noop'),\n    setToArray = require('./_setToArray');\n\n/** Used as references for various `Number` constants. */\nvar INFINITY = 1 / 0;\n\n/**\n * Creates a set object of `values`.\n *\n * @private\n * @param {Array} values The values to add to the set.\n * @returns {Object} Returns the new set.\n */\nvar createSet = !(Set && (1 / setToArray(new Set([,-0]))[1]) == INFINITY) ? noop : function(values) {\n  return new Set(values);\n};\n\nmodule.exports = createSet;\n","/** Detect free variable `global` from Node.js. */\nvar freeGlobal = typeof global == 'object' && global && global.Object === Object && global;\n\nmodule.exports = freeGlobal;\n","var isKeyable = require('./_isKeyable');\n\n/**\n * Gets the data for `map`.\n *\n * @private\n * @param {Object} map The map to query.\n * @param {string} key The reference key.\n * @returns {*} Returns the map data.\n */\nfunction getMapData(map, key) {\n  var data = map.__data__;\n  return isKeyable(key)\n    ? data[typeof key == 'string' ? 'string' : 'hash']\n    : data.map;\n}\n\nmodule.exports = getMapData;\n","var baseIsNative = require('./_baseIsNative'),\n    getValue = require('./_getValue');\n\n/**\n * Gets the native function at `key` of `object`.\n *\n * @private\n * @param {Object} object The object to query.\n * @param {string} key The key of the method to get.\n * @returns {*} Returns the function if it's native, else `undefined`.\n */\nfunction getNative(object, key) {\n  var value = getValue(object, key);\n  return baseIsNative(value) ? value : undefined;\n}\n\nmodule.exports = getNative;\n","var Symbol = require('./_Symbol');\n\n/** Used for built-in method references. */\nvar objectProto = Object.prototype;\n\n/** Used to check objects for own properties. */\nvar hasOwnProperty = objectProto.hasOwnProperty;\n\n/**\n * Used to resolve the\n * [`toStringTag`](http://ecma-international.org/ecma-262/7.0/#sec-object.prototype.tostring)\n * of values.\n */\nvar nativeObjectToString = objectProto.toString;\n\n/** Built-in value references. */\nvar symToStringTag = Symbol ? Symbol.toStringTag : undefined;\n\n/**\n * A specialized version of `baseGetTag` which ignores `Symbol.toStringTag` values.\n *\n * @private\n * @param {*} value The value to query.\n * @returns {string} Returns the raw `toStringTag`.\n */\nfunction getRawTag(value) {\n  var isOwn = hasOwnProperty.call(value, symToStringTag),\n      tag = value[symToStringTag];\n\n  try {\n    value[symToStringTag] = undefined;\n    var unmasked = true;\n  } catch (e) {}\n\n  var result = nativeObjectToString.call(value);\n  if (unmasked) {\n    if (isOwn) {\n      value[symToStringTag] = tag;\n    } else {\n      delete value[symToStringTag];\n    }\n  }\n  return result;\n}\n\nmodule.exports = getRawTag;\n","/**\n * Gets the value at `key` of `object`.\n *\n * @private\n * @param {Object} [object] The object to query.\n * @param {string} key The key of the property to get.\n * @returns {*} Returns the property value.\n */\nfunction getValue(object, key) {\n  return object == null ? undefined : object[key];\n}\n\nmodule.exports = getValue;\n","var nativeCreate = require('./_nativeCreate');\n\n/**\n * Removes all key-value entries from the hash.\n *\n * @private\n * @name clear\n * @memberOf Hash\n */\nfunction hashClear() {\n  this.__data__ = nativeCreate ? nativeCreate(null) : {};\n  this.size = 0;\n}\n\nmodule.exports = hashClear;\n","/**\n * Removes `key` and its value from the hash.\n *\n * @private\n * @name delete\n * @memberOf Hash\n * @param {Object} hash The hash to modify.\n * @param {string} key The key of the value to remove.\n * @returns {boolean} Returns `true` if the entry was removed, else `false`.\n */\nfunction hashDelete(key) {\n  var result = this.has(key) && delete this.__data__[key];\n  this.size -= result ? 1 : 0;\n  return result;\n}\n\nmodule.exports = hashDelete;\n","var nativeCreate = require('./_nativeCreate');\n\n/** Used to stand-in for `undefined` hash values. */\nvar HASH_UNDEFINED = '__lodash_hash_undefined__';\n\n/** Used for built-in method references. */\nvar objectProto = Object.prototype;\n\n/** Used to check objects for own properties. */\nvar hasOwnProperty = objectProto.hasOwnProperty;\n\n/**\n * Gets the hash value for `key`.\n *\n * @private\n * @name get\n * @memberOf Hash\n * @param {string} key The key of the value to get.\n * @returns {*} Returns the entry value.\n */\nfunction hashGet(key) {\n  var data = this.__data__;\n  if (nativeCreate) {\n    var result = data[key];\n    return result === HASH_UNDEFINED ? undefined : result;\n  }\n  return hasOwnProperty.call(data, key) ? data[key] : undefined;\n}\n\nmodule.exports = hashGet;\n","var nativeCreate = require('./_nativeCreate');\n\n/** Used for built-in method references. */\nvar objectProto = Object.prototype;\n\n/** Used to check objects for own properties. */\nvar hasOwnProperty = objectProto.hasOwnProperty;\n\n/**\n * Checks if a hash value for `key` exists.\n *\n * @private\n * @name has\n * @memberOf Hash\n * @param {string} key The key of the entry to check.\n * @returns {boolean} Returns `true` if an entry for `key` exists, else `false`.\n */\nfunction hashHas(key) {\n  var data = this.__data__;\n  return nativeCreate ? (data[key] !== undefined) : hasOwnProperty.call(data, key);\n}\n\nmodule.exports = hashHas;\n","var nativeCreate = require('./_nativeCreate');\n\n/** Used to stand-in for `undefined` hash values. */\nvar HASH_UNDEFINED = '__lodash_hash_undefined__';\n\n/**\n * Sets the hash `key` to `value`.\n *\n * @private\n * @name set\n * @memberOf Hash\n * @param {string} key The key of the value to set.\n * @param {*} value The value to set.\n * @returns {Object} Returns the hash instance.\n */\nfunction hashSet(key, value) {\n  var data = this.__data__;\n  this.size += this.has(key) ? 0 : 1;\n  data[key] = (nativeCreate && value === undefined) ? HASH_UNDEFINED : value;\n  return this;\n}\n\nmodule.exports = hashSet;\n","var isArray = require('./isArray'),\n    isSymbol = require('./isSymbol');\n\n/** Used to match property names within property paths. */\nvar reIsDeepProp = /\\.|\\[(?:[^[\\]]*|([\"'])(?:(?!\\1)[^\\\\]|\\\\.)*?\\1)\\]/,\n    reIsPlainProp = /^\\w*$/;\n\n/**\n * Checks if `value` is a property name and not a property path.\n *\n * @private\n * @param {*} value The value to check.\n * @param {Object} [object] The object to query keys on.\n * @returns {boolean} Returns `true` if `value` is a property name, else `false`.\n */\nfunction isKey(value, object) {\n  if (isArray(value)) {\n    return false;\n  }\n  var type = typeof value;\n  if (type == 'number' || type == 'symbol' || type == 'boolean' ||\n      value == null || isSymbol(value)) {\n    return true;\n  }\n  return reIsPlainProp.test(value) || !reIsDeepProp.test(value) ||\n    (object != null && value in Object(object));\n}\n\nmodule.exports = isKey;\n","/**\n * Checks if `value` is suitable for use as unique object key.\n *\n * @private\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is suitable, else `false`.\n */\nfunction isKeyable(value) {\n  var type = typeof value;\n  return (type == 'string' || type == 'number' || type == 'symbol' || type == 'boolean')\n    ? (value !== '__proto__')\n    : (value === null);\n}\n\nmodule.exports = isKeyable;\n","var coreJsData = require('./_coreJsData');\n\n/** Used to detect methods masquerading as native. */\nvar maskSrcKey = (function() {\n  var uid = /[^.]+$/.exec(coreJsData && coreJsData.keys && coreJsData.keys.IE_PROTO || '');\n  return uid ? ('Symbol(src)_1.' + uid) : '';\n}());\n\n/**\n * Checks if `func` has its source masked.\n *\n * @private\n * @param {Function} func The function to check.\n * @returns {boolean} Returns `true` if `func` is masked, else `false`.\n */\nfunction isMasked(func) {\n  return !!maskSrcKey && (maskSrcKey in func);\n}\n\nmodule.exports = isMasked;\n","/**\n * Removes all key-value entries from the list cache.\n *\n * @private\n * @name clear\n * @memberOf ListCache\n */\nfunction listCacheClear() {\n  this.__data__ = [];\n  this.size = 0;\n}\n\nmodule.exports = listCacheClear;\n","var assocIndexOf = require('./_assocIndexOf');\n\n/** Used for built-in method references. */\nvar arrayProto = Array.prototype;\n\n/** Built-in value references. */\nvar splice = arrayProto.splice;\n\n/**\n * Removes `key` and its value from the list cache.\n *\n * @private\n * @name delete\n * @memberOf ListCache\n * @param {string} key The key of the value to remove.\n * @returns {boolean} Returns `true` if the entry was removed, else `false`.\n */\nfunction listCacheDelete(key) {\n  var data = this.__data__,\n      index = assocIndexOf(data, key);\n\n  if (index < 0) {\n    return false;\n  }\n  var lastIndex = data.length - 1;\n  if (index == lastIndex) {\n    data.pop();\n  } else {\n    splice.call(data, index, 1);\n  }\n  --this.size;\n  return true;\n}\n\nmodule.exports = listCacheDelete;\n","var assocIndexOf = require('./_assocIndexOf');\n\n/**\n * Gets the list cache value for `key`.\n *\n * @private\n * @name get\n * @memberOf ListCache\n * @param {string} key The key of the value to get.\n * @returns {*} Returns the entry value.\n */\nfunction listCacheGet(key) {\n  var data = this.__data__,\n      index = assocIndexOf(data, key);\n\n  return index < 0 ? undefined : data[index][1];\n}\n\nmodule.exports = listCacheGet;\n","var assocIndexOf = require('./_assocIndexOf');\n\n/**\n * Checks if a list cache value for `key` exists.\n *\n * @private\n * @name has\n * @memberOf ListCache\n * @param {string} key The key of the entry to check.\n * @returns {boolean} Returns `true` if an entry for `key` exists, else `false`.\n */\nfunction listCacheHas(key) {\n  return assocIndexOf(this.__data__, key) > -1;\n}\n\nmodule.exports = listCacheHas;\n","var assocIndexOf = require('./_assocIndexOf');\n\n/**\n * Sets the list cache `key` to `value`.\n *\n * @private\n * @name set\n * @memberOf ListCache\n * @param {string} key The key of the value to set.\n * @param {*} value The value to set.\n * @returns {Object} Returns the list cache instance.\n */\nfunction listCacheSet(key, value) {\n  var data = this.__data__,\n      index = assocIndexOf(data, key);\n\n  if (index < 0) {\n    ++this.size;\n    data.push([key, value]);\n  } else {\n    data[index][1] = value;\n  }\n  return this;\n}\n\nmodule.exports = listCacheSet;\n","var Hash = require('./_Hash'),\n    ListCache = require('./_ListCache'),\n    Map = require('./_Map');\n\n/**\n * Removes all key-value entries from the map.\n *\n * @private\n * @name clear\n * @memberOf MapCache\n */\nfunction mapCacheClear() {\n  this.size = 0;\n  this.__data__ = {\n    'hash': new Hash,\n    'map': new (Map || ListCache),\n    'string': new Hash\n  };\n}\n\nmodule.exports = mapCacheClear;\n","var getMapData = require('./_getMapData');\n\n/**\n * Removes `key` and its value from the map.\n *\n * @private\n * @name delete\n * @memberOf MapCache\n * @param {string} key The key of the value to remove.\n * @returns {boolean} Returns `true` if the entry was removed, else `false`.\n */\nfunction mapCacheDelete(key) {\n  var result = getMapData(this, key)['delete'](key);\n  this.size -= result ? 1 : 0;\n  return result;\n}\n\nmodule.exports = mapCacheDelete;\n","var getMapData = require('./_getMapData');\n\n/**\n * Gets the map value for `key`.\n *\n * @private\n * @name get\n * @memberOf MapCache\n * @param {string} key The key of the value to get.\n * @returns {*} Returns the entry value.\n */\nfunction mapCacheGet(key) {\n  return getMapData(this, key).get(key);\n}\n\nmodule.exports = mapCacheGet;\n","var getMapData = require('./_getMapData');\n\n/**\n * Checks if a map value for `key` exists.\n *\n * @private\n * @name has\n * @memberOf MapCache\n * @param {string} key The key of the entry to check.\n * @returns {boolean} Returns `true` if an entry for `key` exists, else `false`.\n */\nfunction mapCacheHas(key) {\n  return getMapData(this, key).has(key);\n}\n\nmodule.exports = mapCacheHas;\n","var getMapData = require('./_getMapData');\n\n/**\n * Sets the map `key` to `value`.\n *\n * @private\n * @name set\n * @memberOf MapCache\n * @param {string} key The key of the value to set.\n * @param {*} value The value to set.\n * @returns {Object} Returns the map cache instance.\n */\nfunction mapCacheSet(key, value) {\n  var data = getMapData(this, key),\n      size = data.size;\n\n  data.set(key, value);\n  this.size += data.size == size ? 0 : 1;\n  return this;\n}\n\nmodule.exports = mapCacheSet;\n","var memoize = require('./memoize');\n\n/** Used as the maximum memoize cache size. */\nvar MAX_MEMOIZE_SIZE = 500;\n\n/**\n * A specialized version of `_.memoize` which clears the memoized function's\n * cache when it exceeds `MAX_MEMOIZE_SIZE`.\n *\n * @private\n * @param {Function} func The function to have its output memoized.\n * @returns {Function} Returns the new memoized function.\n */\nfunction memoizeCapped(func) {\n  var result = memoize(func, function(key) {\n    if (cache.size === MAX_MEMOIZE_SIZE) {\n      cache.clear();\n    }\n    return key;\n  });\n\n  var cache = result.cache;\n  return result;\n}\n\nmodule.exports = memoizeCapped;\n","var getNative = require('./_getNative');\n\n/* Built-in method references that are verified to be native. */\nvar nativeCreate = getNative(Object, 'create');\n\nmodule.exports = nativeCreate;\n","/** Used for built-in method references. */\nvar objectProto = Object.prototype;\n\n/**\n * Used to resolve the\n * [`toStringTag`](http://ecma-international.org/ecma-262/7.0/#sec-object.prototype.tostring)\n * of values.\n */\nvar nativeObjectToString = objectProto.toString;\n\n/**\n * Converts `value` to a string using `Object.prototype.toString`.\n *\n * @private\n * @param {*} value The value to convert.\n * @returns {string} Returns the converted string.\n */\nfunction objectToString(value) {\n  return nativeObjectToString.call(value);\n}\n\nmodule.exports = objectToString;\n","var freeGlobal = require('./_freeGlobal');\n\n/** Detect free variable `self`. */\nvar freeSelf = typeof self == 'object' && self && self.Object === Object && self;\n\n/** Used as a reference to the global object. */\nvar root = freeGlobal || freeSelf || Function('return this')();\n\nmodule.exports = root;\n","/** Used to stand-in for `undefined` hash values. */\nvar HASH_UNDEFINED = '__lodash_hash_undefined__';\n\n/**\n * Adds `value` to the array cache.\n *\n * @private\n * @name add\n * @memberOf SetCache\n * @alias push\n * @param {*} value The value to cache.\n * @returns {Object} Returns the cache instance.\n */\nfunction setCacheAdd(value) {\n  this.__data__.set(value, HASH_UNDEFINED);\n  return this;\n}\n\nmodule.exports = setCacheAdd;\n","/**\n * Checks if `value` is in the array cache.\n *\n * @private\n * @name has\n * @memberOf SetCache\n * @param {*} value The value to search for.\n * @returns {number} Returns `true` if `value` is found, else `false`.\n */\nfunction setCacheHas(value) {\n  return this.__data__.has(value);\n}\n\nmodule.exports = setCacheHas;\n","/**\n * Converts `set` to an array of its values.\n *\n * @private\n * @param {Object} set The set to convert.\n * @returns {Array} Returns the values.\n */\nfunction setToArray(set) {\n  var index = -1,\n      result = Array(set.size);\n\n  set.forEach(function(value) {\n    result[++index] = value;\n  });\n  return result;\n}\n\nmodule.exports = setToArray;\n","/**\n * A specialized version of `_.indexOf` which performs strict equality\n * comparisons of values, i.e. `===`.\n *\n * @private\n * @param {Array} array The array to inspect.\n * @param {*} value The value to search for.\n * @param {number} fromIndex The index to search from.\n * @returns {number} Returns the index of the matched value, else `-1`.\n */\nfunction strictIndexOf(array, value, fromIndex) {\n  var index = fromIndex - 1,\n      length = array.length;\n\n  while (++index < length) {\n    if (array[index] === value) {\n      return index;\n    }\n  }\n  return -1;\n}\n\nmodule.exports = strictIndexOf;\n","var memoizeCapped = require('./_memoizeCapped');\n\n/** Used to match property names within property paths. */\nvar rePropName = /[^.[\\]]+|\\[(?:(-?\\d+(?:\\.\\d+)?)|([\"'])((?:(?!\\2)[^\\\\]|\\\\.)*?)\\2)\\]|(?=(?:\\.|\\[\\])(?:\\.|\\[\\]|$))/g;\n\n/** Used to match backslashes in property paths. */\nvar reEscapeChar = /\\\\(\\\\)?/g;\n\n/**\n * Converts `string` to a property path array.\n *\n * @private\n * @param {string} string The string to convert.\n * @returns {Array} Returns the property path array.\n */\nvar stringToPath = memoizeCapped(function(string) {\n  var result = [];\n  if (string.charCodeAt(0) === 46 /* . */) {\n    result.push('');\n  }\n  string.replace(rePropName, function(match, number, quote, subString) {\n    result.push(quote ? subString.replace(reEscapeChar, '$1') : (number || match));\n  });\n  return result;\n});\n\nmodule.exports = stringToPath;\n","var isSymbol = require('./isSymbol');\n\n/** Used as references for various `Number` constants. */\nvar INFINITY = 1 / 0;\n\n/**\n * Converts `value` to a string key if it's not a string or symbol.\n *\n * @private\n * @param {*} value The value to inspect.\n * @returns {string|symbol} Returns the key.\n */\nfunction toKey(value) {\n  if (typeof value == 'string' || isSymbol(value)) {\n    return value;\n  }\n  var result = (value + '');\n  return (result == '0' && (1 / value) == -INFINITY) ? '-0' : result;\n}\n\nmodule.exports = toKey;\n","/** Used for built-in method references. */\nvar funcProto = Function.prototype;\n\n/** Used to resolve the decompiled source of functions. */\nvar funcToString = funcProto.toString;\n\n/**\n * Converts `func` to its source code.\n *\n * @private\n * @param {Function} func The function to convert.\n * @returns {string} Returns the source code.\n */\nfunction toSource(func) {\n  if (func != null) {\n    try {\n      return funcToString.call(func);\n    } catch (e) {}\n    try {\n      return (func + '');\n    } catch (e) {}\n  }\n  return '';\n}\n\nmodule.exports = toSource;\n","/**\n * Performs a\n * [`SameValueZero`](http://ecma-international.org/ecma-262/7.0/#sec-samevaluezero)\n * comparison between two values to determine if they are equivalent.\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to compare.\n * @param {*} other The other value to compare.\n * @returns {boolean} Returns `true` if the values are equivalent, else `false`.\n * @example\n *\n * var object = { 'a': 1 };\n * var other = { 'a': 1 };\n *\n * _.eq(object, object);\n * // => true\n *\n * _.eq(object, other);\n * // => false\n *\n * _.eq('a', 'a');\n * // => true\n *\n * _.eq('a', Object('a'));\n * // => false\n *\n * _.eq(NaN, NaN);\n * // => true\n */\nfunction eq(value, other) {\n  return value === other || (value !== value && other !== other);\n}\n\nmodule.exports = eq;\n","var baseGet = require('./_baseGet');\n\n/**\n * Gets the value at `path` of `object`. If the resolved value is\n * `undefined`, the `defaultValue` is returned in its place.\n *\n * @static\n * @memberOf _\n * @since 3.7.0\n * @category Object\n * @param {Object} object The object to query.\n * @param {Array|string} path The path of the property to get.\n * @param {*} [defaultValue] The value returned for `undefined` resolved values.\n * @returns {*} Returns the resolved value.\n * @example\n *\n * var object = { 'a': [{ 'b': { 'c': 3 } }] };\n *\n * _.get(object, 'a[0].b.c');\n * // => 3\n *\n * _.get(object, ['a', '0', 'b', 'c']);\n * // => 3\n *\n * _.get(object, 'a.b.c', 'default');\n * // => 'default'\n */\nfunction get(object, path, defaultValue) {\n  var result = object == null ? undefined : baseGet(object, path);\n  return result === undefined ? defaultValue : result;\n}\n\nmodule.exports = get;\n","/**\n * Checks if `value` is classified as an `Array` object.\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is an array, else `false`.\n * @example\n *\n * _.isArray([1, 2, 3]);\n * // => true\n *\n * _.isArray(document.body.children);\n * // => false\n *\n * _.isArray('abc');\n * // => false\n *\n * _.isArray(_.noop);\n * // => false\n */\nvar isArray = Array.isArray;\n\nmodule.exports = isArray;\n","var baseGetTag = require('./_baseGetTag'),\n    isObject = require('./isObject');\n\n/** `Object#toString` result references. */\nvar asyncTag = '[object AsyncFunction]',\n    funcTag = '[object Function]',\n    genTag = '[object GeneratorFunction]',\n    proxyTag = '[object Proxy]';\n\n/**\n * Checks if `value` is classified as a `Function` object.\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a function, else `false`.\n * @example\n *\n * _.isFunction(_);\n * // => true\n *\n * _.isFunction(/abc/);\n * // => false\n */\nfunction isFunction(value) {\n  if (!isObject(value)) {\n    return false;\n  }\n  // The use of `Object#toString` avoids issues with the `typeof` operator\n  // in Safari 9 which returns 'object' for typed arrays and other constructors.\n  var tag = baseGetTag(value);\n  return tag == funcTag || tag == genTag || tag == asyncTag || tag == proxyTag;\n}\n\nmodule.exports = isFunction;\n","/**\n * Checks if `value` is the\n * [language type](http://www.ecma-international.org/ecma-262/7.0/#sec-ecmascript-language-types)\n * of `Object`. (e.g. arrays, functions, objects, regexes, `new Number(0)`, and `new String('')`)\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is an object, else `false`.\n * @example\n *\n * _.isObject({});\n * // => true\n *\n * _.isObject([1, 2, 3]);\n * // => true\n *\n * _.isObject(_.noop);\n * // => true\n *\n * _.isObject(null);\n * // => false\n */\nfunction isObject(value) {\n  var type = typeof value;\n  return value != null && (type == 'object' || type == 'function');\n}\n\nmodule.exports = isObject;\n","/**\n * Checks if `value` is object-like. A value is object-like if it's not `null`\n * and has a `typeof` result of \"object\".\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is object-like, else `false`.\n * @example\n *\n * _.isObjectLike({});\n * // => true\n *\n * _.isObjectLike([1, 2, 3]);\n * // => true\n *\n * _.isObjectLike(_.noop);\n * // => false\n *\n * _.isObjectLike(null);\n * // => false\n */\nfunction isObjectLike(value) {\n  return value != null && typeof value == 'object';\n}\n\nmodule.exports = isObjectLike;\n","var baseGetTag = require('./_baseGetTag'),\n    isObjectLike = require('./isObjectLike');\n\n/** `Object#toString` result references. */\nvar symbolTag = '[object Symbol]';\n\n/**\n * Checks if `value` is classified as a `Symbol` primitive or object.\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a symbol, else `false`.\n * @example\n *\n * _.isSymbol(Symbol.iterator);\n * // => true\n *\n * _.isSymbol('abc');\n * // => false\n */\nfunction isSymbol(value) {\n  return typeof value == 'symbol' ||\n    (isObjectLike(value) && baseGetTag(value) == symbolTag);\n}\n\nmodule.exports = isSymbol;\n","var MapCache = require('./_MapCache');\n\n/** Error message constants. */\nvar FUNC_ERROR_TEXT = 'Expected a function';\n\n/**\n * Creates a function that memoizes the result of `func`. If `resolver` is\n * provided, it determines the cache key for storing the result based on the\n * arguments provided to the memoized function. By default, the first argument\n * provided to the memoized function is used as the map cache key. The `func`\n * is invoked with the `this` binding of the memoized function.\n *\n * **Note:** The cache is exposed as the `cache` property on the memoized\n * function. Its creation may be customized by replacing the `_.memoize.Cache`\n * constructor with one whose instances implement the\n * [`Map`](http://ecma-international.org/ecma-262/7.0/#sec-properties-of-the-map-prototype-object)\n * method interface of `clear`, `delete`, `get`, `has`, and `set`.\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Function\n * @param {Function} func The function to have its output memoized.\n * @param {Function} [resolver] The function to resolve the cache key.\n * @returns {Function} Returns the new memoized function.\n * @example\n *\n * var object = { 'a': 1, 'b': 2 };\n * var other = { 'c': 3, 'd': 4 };\n *\n * var values = _.memoize(_.values);\n * values(object);\n * // => [1, 2]\n *\n * values(other);\n * // => [3, 4]\n *\n * object.a = 2;\n * values(object);\n * // => [1, 2]\n *\n * // Modify the result cache.\n * values.cache.set(object, ['a', 'b']);\n * values(object);\n * // => ['a', 'b']\n *\n * // Replace `_.memoize.Cache`.\n * _.memoize.Cache = WeakMap;\n */\nfunction memoize(func, resolver) {\n  if (typeof func != 'function' || (resolver != null && typeof resolver != 'function')) {\n    throw new TypeError(FUNC_ERROR_TEXT);\n  }\n  var memoized = function() {\n    var args = arguments,\n        key = resolver ? resolver.apply(this, args) : args[0],\n        cache = memoized.cache;\n\n    if (cache.has(key)) {\n      return cache.get(key);\n    }\n    var result = func.apply(this, args);\n    memoized.cache = cache.set(key, result) || cache;\n    return result;\n  };\n  memoized.cache = new (memoize.Cache || MapCache);\n  return memoized;\n}\n\n// Expose `MapCache`.\nmemoize.Cache = MapCache;\n\nmodule.exports = memoize;\n","/**\n * This method returns `undefined`.\n *\n * @static\n * @memberOf _\n * @since 2.3.0\n * @category Util\n * @example\n *\n * _.times(2, _.noop);\n * // => [undefined, undefined]\n */\nfunction noop() {\n  // No operation performed.\n}\n\nmodule.exports = noop;\n","var baseToString = require('./_baseToString');\n\n/**\n * Converts `value` to a string. An empty string is returned for `null`\n * and `undefined` values. The sign of `-0` is preserved.\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to convert.\n * @returns {string} Returns the converted string.\n * @example\n *\n * _.toString(null);\n * // => ''\n *\n * _.toString(-0);\n * // => '-0'\n *\n * _.toString([1, 2, 3]);\n * // => '1,2,3'\n */\nfunction toString(value) {\n  return value == null ? '' : baseToString(value);\n}\n\nmodule.exports = toString;\n","var baseUniq = require('./_baseUniq');\n\n/**\n * Creates a duplicate-free version of an array, using\n * [`SameValueZero`](http://ecma-international.org/ecma-262/7.0/#sec-samevaluezero)\n * for equality comparisons, in which only the first occurrence of each element\n * is kept. The order of result values is determined by the order they occur\n * in the array.\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Array\n * @param {Array} array The array to inspect.\n * @returns {Array} Returns the new duplicate free array.\n * @example\n *\n * _.uniq([2, 1, 2]);\n * // => [2, 1]\n */\nfunction uniq(array) {\n  return (array && array.length) ? baseUniq(array) : [];\n}\n\nmodule.exports = uniq;\n","(function (global, factory) {\n  typeof exports === 'object' && typeof module !== 'undefined' ? module.exports = factory() :\n  typeof define === 'function' && define.amd ? define(factory) :\n  (global = global || self, global.Mustache = factory());\n}(this, (function () { 'use strict';\n\n  /*!\n   * mustache.js - Logic-less {{mustache}} templates with JavaScript\n   * http://github.com/janl/mustache.js\n   */\n\n  var objectToString = Object.prototype.toString;\n  var isArray = Array.isArray || function isArrayPolyfill (object) {\n    return objectToString.call(object) === '[object Array]';\n  };\n\n  function isFunction (object) {\n    return typeof object === 'function';\n  }\n\n  /**\n   * More correct typeof string handling array\n   * which normally returns typeof 'object'\n   */\n  function typeStr (obj) {\n    return isArray(obj) ? 'array' : typeof obj;\n  }\n\n  function escapeRegExp (string) {\n    return string.replace(/[\\-\\[\\]{}()*+?.,\\\\\\^$|#\\s]/g, '\\\\$&');\n  }\n\n  /**\n   * Null safe way of checking whether or not an object,\n   * including its prototype, has a given property\n   */\n  function hasProperty (obj, propName) {\n    return obj != null && typeof obj === 'object' && (propName in obj);\n  }\n\n  /**\n   * Safe way of detecting whether or not the given thing is a primitive and\n   * whether it has the given property\n   */\n  function primitiveHasOwnProperty (primitive, propName) {\n    return (\n      primitive != null\n      && typeof primitive !== 'object'\n      && primitive.hasOwnProperty\n      && primitive.hasOwnProperty(propName)\n    );\n  }\n\n  // Workaround for https://issues.apache.org/jira/browse/COUCHDB-577\n  // See https://github.com/janl/mustache.js/issues/189\n  var regExpTest = RegExp.prototype.test;\n  function testRegExp (re, string) {\n    return regExpTest.call(re, string);\n  }\n\n  var nonSpaceRe = /\\S/;\n  function isWhitespace (string) {\n    return !testRegExp(nonSpaceRe, string);\n  }\n\n  var entityMap = {\n    '&': '&amp;',\n    '<': '&lt;',\n    '>': '&gt;',\n    '\"': '&quot;',\n    \"'\": '&#39;',\n    '/': '&#x2F;',\n    '`': '&#x60;',\n    '=': '&#x3D;'\n  };\n\n  function escapeHtml (string) {\n    return String(string).replace(/[&<>\"'`=\\/]/g, function fromEntityMap (s) {\n      return entityMap[s];\n    });\n  }\n\n  var whiteRe = /\\s*/;\n  var spaceRe = /\\s+/;\n  var equalsRe = /\\s*=/;\n  var curlyRe = /\\s*\\}/;\n  var tagRe = /#|\\^|\\/|>|\\{|&|=|!/;\n\n  /**\n   * Breaks up the given `template` string into a tree of tokens. If the `tags`\n   * argument is given here it must be an array with two string values: the\n   * opening and closing tags used in the template (e.g. [ \"<%\", \"%>\" ]). Of\n   * course, the default is to use mustaches (i.e. mustache.tags).\n   *\n   * A token is an array with at least 4 elements. The first element is the\n   * mustache symbol that was used inside the tag, e.g. \"#\" or \"&\". If the tag\n   * did not contain a symbol (i.e. {{myValue}}) this element is \"name\". For\n   * all text that appears outside a symbol this element is \"text\".\n   *\n   * The second element of a token is its \"value\". For mustache tags this is\n   * whatever else was inside the tag besides the opening symbol. For text tokens\n   * this is the text itself.\n   *\n   * The third and fourth elements of the token are the start and end indices,\n   * respectively, of the token in the original template.\n   *\n   * Tokens that are the root node of a subtree contain two more elements: 1) an\n   * array of tokens in the subtree and 2) the index in the original template at\n   * which the closing tag for that section begins.\n   *\n   * Tokens for partials also contain two more elements: 1) a string value of\n   * indendation prior to that tag and 2) the index of that tag on that line -\n   * eg a value of 2 indicates the partial is the third tag on this line.\n   */\n  function parseTemplate (template, tags) {\n    if (!template)\n      return [];\n    var lineHasNonSpace = false;\n    var sections = [];     // Stack to hold section tokens\n    var tokens = [];       // Buffer to hold the tokens\n    var spaces = [];       // Indices of whitespace tokens on the current line\n    var hasTag = false;    // Is there a {{tag}} on the current line?\n    var nonSpace = false;  // Is there a non-space char on the current line?\n    var indentation = '';  // Tracks indentation for tags that use it\n    var tagIndex = 0;      // Stores a count of number of tags encountered on a line\n\n    // Strips all whitespace tokens array for the current line\n    // if there was a {{#tag}} on it and otherwise only space.\n    function stripSpace () {\n      if (hasTag && !nonSpace) {\n        while (spaces.length)\n          delete tokens[spaces.pop()];\n      } else {\n        spaces = [];\n      }\n\n      hasTag = false;\n      nonSpace = false;\n    }\n\n    var openingTagRe, closingTagRe, closingCurlyRe;\n    function compileTags (tagsToCompile) {\n      if (typeof tagsToCompile === 'string')\n        tagsToCompile = tagsToCompile.split(spaceRe, 2);\n\n      if (!isArray(tagsToCompile) || tagsToCompile.length !== 2)\n        throw new Error('Invalid tags: ' + tagsToCompile);\n\n      openingTagRe = new RegExp(escapeRegExp(tagsToCompile[0]) + '\\\\s*');\n      closingTagRe = new RegExp('\\\\s*' + escapeRegExp(tagsToCompile[1]));\n      closingCurlyRe = new RegExp('\\\\s*' + escapeRegExp('}' + tagsToCompile[1]));\n    }\n\n    compileTags(tags || mustache.tags);\n\n    var scanner = new Scanner(template);\n\n    var start, type, value, chr, token, openSection;\n    while (!scanner.eos()) {\n      start = scanner.pos;\n\n      // Match any text between tags.\n      value = scanner.scanUntil(openingTagRe);\n\n      if (value) {\n        for (var i = 0, valueLength = value.length; i < valueLength; ++i) {\n          chr = value.charAt(i);\n\n          if (isWhitespace(chr)) {\n            spaces.push(tokens.length);\n            indentation += chr;\n          } else {\n            nonSpace = true;\n            lineHasNonSpace = true;\n            indentation += ' ';\n          }\n\n          tokens.push([ 'text', chr, start, start + 1 ]);\n          start += 1;\n\n          // Check for whitespace on the current line.\n          if (chr === '\\n') {\n            stripSpace();\n            indentation = '';\n            tagIndex = 0;\n            lineHasNonSpace = false;\n          }\n        }\n      }\n\n      // Match the opening tag.\n      if (!scanner.scan(openingTagRe))\n        break;\n\n      hasTag = true;\n\n      // Get the tag type.\n      type = scanner.scan(tagRe) || 'name';\n      scanner.scan(whiteRe);\n\n      // Get the tag value.\n      if (type === '=') {\n        value = scanner.scanUntil(equalsRe);\n        scanner.scan(equalsRe);\n        scanner.scanUntil(closingTagRe);\n      } else if (type === '{') {\n        value = scanner.scanUntil(closingCurlyRe);\n        scanner.scan(curlyRe);\n        scanner.scanUntil(closingTagRe);\n        type = '&';\n      } else {\n        value = scanner.scanUntil(closingTagRe);\n      }\n\n      // Match the closing tag.\n      if (!scanner.scan(closingTagRe))\n        throw new Error('Unclosed tag at ' + scanner.pos);\n\n      if (type == '>') {\n        token = [ type, value, start, scanner.pos, indentation, tagIndex, lineHasNonSpace ];\n      } else {\n        token = [ type, value, start, scanner.pos ];\n      }\n      tagIndex++;\n      tokens.push(token);\n\n      if (type === '#' || type === '^') {\n        sections.push(token);\n      } else if (type === '/') {\n        // Check section nesting.\n        openSection = sections.pop();\n\n        if (!openSection)\n          throw new Error('Unopened section \"' + value + '\" at ' + start);\n\n        if (openSection[1] !== value)\n          throw new Error('Unclosed section \"' + openSection[1] + '\" at ' + start);\n      } else if (type === 'name' || type === '{' || type === '&') {\n        nonSpace = true;\n      } else if (type === '=') {\n        // Set the tags for the next time around.\n        compileTags(value);\n      }\n    }\n\n    stripSpace();\n\n    // Make sure there are no open sections when we're done.\n    openSection = sections.pop();\n\n    if (openSection)\n      throw new Error('Unclosed section \"' + openSection[1] + '\" at ' + scanner.pos);\n\n    return nestTokens(squashTokens(tokens));\n  }\n\n  /**\n   * Combines the values of consecutive text tokens in the given `tokens` array\n   * to a single token.\n   */\n  function squashTokens (tokens) {\n    var squashedTokens = [];\n\n    var token, lastToken;\n    for (var i = 0, numTokens = tokens.length; i < numTokens; ++i) {\n      token = tokens[i];\n\n      if (token) {\n        if (token[0] === 'text' && lastToken && lastToken[0] === 'text') {\n          lastToken[1] += token[1];\n          lastToken[3] = token[3];\n        } else {\n          squashedTokens.push(token);\n          lastToken = token;\n        }\n      }\n    }\n\n    return squashedTokens;\n  }\n\n  /**\n   * Forms the given array of `tokens` into a nested tree structure where\n   * tokens that represent a section have two additional items: 1) an array of\n   * all tokens that appear in that section and 2) the index in the original\n   * template that represents the end of that section.\n   */\n  function nestTokens (tokens) {\n    var nestedTokens = [];\n    var collector = nestedTokens;\n    var sections = [];\n\n    var token, section;\n    for (var i = 0, numTokens = tokens.length; i < numTokens; ++i) {\n      token = tokens[i];\n\n      switch (token[0]) {\n        case '#':\n        case '^':\n          collector.push(token);\n          sections.push(token);\n          collector = token[4] = [];\n          break;\n        case '/':\n          section = sections.pop();\n          section[5] = token[2];\n          collector = sections.length > 0 ? sections[sections.length - 1][4] : nestedTokens;\n          break;\n        default:\n          collector.push(token);\n      }\n    }\n\n    return nestedTokens;\n  }\n\n  /**\n   * A simple string scanner that is used by the template parser to find\n   * tokens in template strings.\n   */\n  function Scanner (string) {\n    this.string = string;\n    this.tail = string;\n    this.pos = 0;\n  }\n\n  /**\n   * Returns `true` if the tail is empty (end of string).\n   */\n  Scanner.prototype.eos = function eos () {\n    return this.tail === '';\n  };\n\n  /**\n   * Tries to match the given regular expression at the current position.\n   * Returns the matched text if it can match, the empty string otherwise.\n   */\n  Scanner.prototype.scan = function scan (re) {\n    var match = this.tail.match(re);\n\n    if (!match || match.index !== 0)\n      return '';\n\n    var string = match[0];\n\n    this.tail = this.tail.substring(string.length);\n    this.pos += string.length;\n\n    return string;\n  };\n\n  /**\n   * Skips all text until the given regular expression can be matched. Returns\n   * the skipped string, which is the entire tail if no match can be made.\n   */\n  Scanner.prototype.scanUntil = function scanUntil (re) {\n    var index = this.tail.search(re), match;\n\n    switch (index) {\n      case -1:\n        match = this.tail;\n        this.tail = '';\n        break;\n      case 0:\n        match = '';\n        break;\n      default:\n        match = this.tail.substring(0, index);\n        this.tail = this.tail.substring(index);\n    }\n\n    this.pos += match.length;\n\n    return match;\n  };\n\n  /**\n   * Represents a rendering context by wrapping a view object and\n   * maintaining a reference to the parent context.\n   */\n  function Context (view, parentContext) {\n    this.view = view;\n    this.cache = { '.': this.view };\n    this.parent = parentContext;\n  }\n\n  /**\n   * Creates a new context using the given view with this context\n   * as the parent.\n   */\n  Context.prototype.push = function push (view) {\n    return new Context(view, this);\n  };\n\n  /**\n   * Returns the value of the given name in this context, traversing\n   * up the context hierarchy if the value is absent in this context's view.\n   */\n  Context.prototype.lookup = function lookup (name) {\n    var cache = this.cache;\n\n    var value;\n    if (cache.hasOwnProperty(name)) {\n      value = cache[name];\n    } else {\n      var context = this, intermediateValue, names, index, lookupHit = false;\n\n      while (context) {\n        if (name.indexOf('.') > 0) {\n          intermediateValue = context.view;\n          names = name.split('.');\n          index = 0;\n\n          /**\n           * Using the dot notion path in `name`, we descend through the\n           * nested objects.\n           *\n           * To be certain that the lookup has been successful, we have to\n           * check if the last object in the path actually has the property\n           * we are looking for. We store the result in `lookupHit`.\n           *\n           * This is specially necessary for when the value has been set to\n           * `undefined` and we want to avoid looking up parent contexts.\n           *\n           * In the case where dot notation is used, we consider the lookup\n           * to be successful even if the last \"object\" in the path is\n           * not actually an object but a primitive (e.g., a string, or an\n           * integer), because it is sometimes useful to access a property\n           * of an autoboxed primitive, such as the length of a string.\n           **/\n          while (intermediateValue != null && index < names.length) {\n            if (index === names.length - 1)\n              lookupHit = (\n                hasProperty(intermediateValue, names[index])\n                || primitiveHasOwnProperty(intermediateValue, names[index])\n              );\n\n            intermediateValue = intermediateValue[names[index++]];\n          }\n        } else {\n          intermediateValue = context.view[name];\n\n          /**\n           * Only checking against `hasProperty`, which always returns `false` if\n           * `context.view` is not an object. Deliberately omitting the check\n           * against `primitiveHasOwnProperty` if dot notation is not used.\n           *\n           * Consider this example:\n           * ```\n           * Mustache.render(\"The length of a football field is {{#length}}{{length}}{{/length}}.\", {length: \"100 yards\"})\n           * ```\n           *\n           * If we were to check also against `primitiveHasOwnProperty`, as we do\n           * in the dot notation case, then render call would return:\n           *\n           * \"The length of a football field is 9.\"\n           *\n           * rather than the expected:\n           *\n           * \"The length of a football field is 100 yards.\"\n           **/\n          lookupHit = hasProperty(context.view, name);\n        }\n\n        if (lookupHit) {\n          value = intermediateValue;\n          break;\n        }\n\n        context = context.parent;\n      }\n\n      cache[name] = value;\n    }\n\n    if (isFunction(value))\n      value = value.call(this.view);\n\n    return value;\n  };\n\n  /**\n   * A Writer knows how to take a stream of tokens and render them to a\n   * string, given a context. It also maintains a cache of templates to\n   * avoid the need to parse the same template twice.\n   */\n  function Writer () {\n    this.templateCache = {\n      _cache: {},\n      set: function set (key, value) {\n        this._cache[key] = value;\n      },\n      get: function get (key) {\n        return this._cache[key];\n      },\n      clear: function clear () {\n        this._cache = {};\n      }\n    };\n  }\n\n  /**\n   * Clears all cached templates in this writer.\n   */\n  Writer.prototype.clearCache = function clearCache () {\n    if (typeof this.templateCache !== 'undefined') {\n      this.templateCache.clear();\n    }\n  };\n\n  /**\n   * Parses and caches the given `template` according to the given `tags` or\n   * `mustache.tags` if `tags` is omitted,  and returns the array of tokens\n   * that is generated from the parse.\n   */\n  Writer.prototype.parse = function parse (template, tags) {\n    var cache = this.templateCache;\n    var cacheKey = template + ':' + (tags || mustache.tags).join(':');\n    var isCacheEnabled = typeof cache !== 'undefined';\n    var tokens = isCacheEnabled ? cache.get(cacheKey) : undefined;\n\n    if (tokens == undefined) {\n      tokens = parseTemplate(template, tags);\n      isCacheEnabled && cache.set(cacheKey, tokens);\n    }\n    return tokens;\n  };\n\n  /**\n   * High-level method that is used to render the given `template` with\n   * the given `view`.\n   *\n   * The optional `partials` argument may be an object that contains the\n   * names and templates of partials that are used in the template. It may\n   * also be a function that is used to load partial templates on the fly\n   * that takes a single argument: the name of the partial.\n   *\n   * If the optional `config` argument is given here, then it should be an\n   * object with a `tags` attribute or an `escape` attribute or both.\n   * If an array is passed, then it will be interpreted the same way as\n   * a `tags` attribute on a `config` object.\n   *\n   * The `tags` attribute of a `config` object must be an array with two\n   * string values: the opening and closing tags used in the template (e.g.\n   * [ \"<%\", \"%>\" ]). The default is to mustache.tags.\n   *\n   * The `escape` attribute of a `config` object must be a function which\n   * accepts a string as input and outputs a safely escaped string.\n   * If an `escape` function is not provided, then an HTML-safe string\n   * escaping function is used as the default.\n   */\n  Writer.prototype.render = function render (template, view, partials, config) {\n    var tags = this.getConfigTags(config);\n    var tokens = this.parse(template, tags);\n    var context = (view instanceof Context) ? view : new Context(view, undefined);\n    return this.renderTokens(tokens, context, partials, template, config);\n  };\n\n  /**\n   * Low-level method that renders the given array of `tokens` using\n   * the given `context` and `partials`.\n   *\n   * Note: The `originalTemplate` is only ever used to extract the portion\n   * of the original template that was contained in a higher-order section.\n   * If the template doesn't use higher-order sections, this argument may\n   * be omitted.\n   */\n  Writer.prototype.renderTokens = function renderTokens (tokens, context, partials, originalTemplate, config) {\n    var buffer = '';\n\n    var token, symbol, value;\n    for (var i = 0, numTokens = tokens.length; i < numTokens; ++i) {\n      value = undefined;\n      token = tokens[i];\n      symbol = token[0];\n\n      if (symbol === '#') value = this.renderSection(token, context, partials, originalTemplate, config);\n      else if (symbol === '^') value = this.renderInverted(token, context, partials, originalTemplate, config);\n      else if (symbol === '>') value = this.renderPartial(token, context, partials, config);\n      else if (symbol === '&') value = this.unescapedValue(token, context);\n      else if (symbol === 'name') value = this.escapedValue(token, context, config);\n      else if (symbol === 'text') value = this.rawValue(token);\n\n      if (value !== undefined)\n        buffer += value;\n    }\n\n    return buffer;\n  };\n\n  Writer.prototype.renderSection = function renderSection (token, context, partials, originalTemplate, config) {\n    var self = this;\n    var buffer = '';\n    var value = context.lookup(token[1]);\n\n    // This function is used to render an arbitrary template\n    // in the current context by higher-order sections.\n    function subRender (template) {\n      return self.render(template, context, partials, config);\n    }\n\n    if (!value) return;\n\n    if (isArray(value)) {\n      for (var j = 0, valueLength = value.length; j < valueLength; ++j) {\n        buffer += this.renderTokens(token[4], context.push(value[j]), partials, originalTemplate, config);\n      }\n    } else if (typeof value === 'object' || typeof value === 'string' || typeof value === 'number') {\n      buffer += this.renderTokens(token[4], context.push(value), partials, originalTemplate, config);\n    } else if (isFunction(value)) {\n      if (typeof originalTemplate !== 'string')\n        throw new Error('Cannot use higher-order sections without the original template');\n\n      // Extract the portion of the original template that the section contains.\n      value = value.call(context.view, originalTemplate.slice(token[3], token[5]), subRender);\n\n      if (value != null)\n        buffer += value;\n    } else {\n      buffer += this.renderTokens(token[4], context, partials, originalTemplate, config);\n    }\n    return buffer;\n  };\n\n  Writer.prototype.renderInverted = function renderInverted (token, context, partials, originalTemplate, config) {\n    var value = context.lookup(token[1]);\n\n    // Use JavaScript's definition of falsy. Include empty arrays.\n    // See https://github.com/janl/mustache.js/issues/186\n    if (!value || (isArray(value) && value.length === 0))\n      return this.renderTokens(token[4], context, partials, originalTemplate, config);\n  };\n\n  Writer.prototype.indentPartial = function indentPartial (partial, indentation, lineHasNonSpace) {\n    var filteredIndentation = indentation.replace(/[^ \\t]/g, '');\n    var partialByNl = partial.split('\\n');\n    for (var i = 0; i < partialByNl.length; i++) {\n      if (partialByNl[i].length && (i > 0 || !lineHasNonSpace)) {\n        partialByNl[i] = filteredIndentation + partialByNl[i];\n      }\n    }\n    return partialByNl.join('\\n');\n  };\n\n  Writer.prototype.renderPartial = function renderPartial (token, context, partials, config) {\n    if (!partials) return;\n    var tags = this.getConfigTags(config);\n\n    var value = isFunction(partials) ? partials(token[1]) : partials[token[1]];\n    if (value != null) {\n      var lineHasNonSpace = token[6];\n      var tagIndex = token[5];\n      var indentation = token[4];\n      var indentedValue = value;\n      if (tagIndex == 0 && indentation) {\n        indentedValue = this.indentPartial(value, indentation, lineHasNonSpace);\n      }\n      var tokens = this.parse(indentedValue, tags);\n      return this.renderTokens(tokens, context, partials, indentedValue, config);\n    }\n  };\n\n  Writer.prototype.unescapedValue = function unescapedValue (token, context) {\n    var value = context.lookup(token[1]);\n    if (value != null)\n      return value;\n  };\n\n  Writer.prototype.escapedValue = function escapedValue (token, context, config) {\n    var escape = this.getConfigEscape(config) || mustache.escape;\n    var value = context.lookup(token[1]);\n    if (value != null)\n      return (typeof value === 'number' && escape === mustache.escape) ? String(value) : escape(value);\n  };\n\n  Writer.prototype.rawValue = function rawValue (token) {\n    return token[1];\n  };\n\n  Writer.prototype.getConfigTags = function getConfigTags (config) {\n    if (isArray(config)) {\n      return config;\n    }\n    else if (config && typeof config === 'object') {\n      return config.tags;\n    }\n    else {\n      return undefined;\n    }\n  };\n\n  Writer.prototype.getConfigEscape = function getConfigEscape (config) {\n    if (config && typeof config === 'object' && !isArray(config)) {\n      return config.escape;\n    }\n    else {\n      return undefined;\n    }\n  };\n\n  var mustache = {\n    name: 'mustache.js',\n    version: '4.2.0',\n    tags: [ '{{', '}}' ],\n    clearCache: undefined,\n    escape: undefined,\n    parse: undefined,\n    render: undefined,\n    Scanner: undefined,\n    Context: undefined,\n    Writer: undefined,\n    /**\n     * Allows a user to override the default caching strategy, by providing an\n     * object with set, get and clear methods. This can also be used to disable\n     * the cache by setting it to the literal `undefined`.\n     */\n    set templateCache (cache) {\n      defaultWriter.templateCache = cache;\n    },\n    /**\n     * Gets the default or overridden caching object from the default writer.\n     */\n    get templateCache () {\n      return defaultWriter.templateCache;\n    }\n  };\n\n  // All high-level mustache.* functions use this writer.\n  var defaultWriter = new Writer();\n\n  /**\n   * Clears all cached templates in the default writer.\n   */\n  mustache.clearCache = function clearCache () {\n    return defaultWriter.clearCache();\n  };\n\n  /**\n   * Parses and caches the given template in the default writer and returns the\n   * array of tokens it contains. Doing this ahead of time avoids the need to\n   * parse templates on the fly as they are rendered.\n   */\n  mustache.parse = function parse (template, tags) {\n    return defaultWriter.parse(template, tags);\n  };\n\n  /**\n   * Renders the `template` with the given `view`, `partials`, and `config`\n   * using the default writer.\n   */\n  mustache.render = function render (template, view, partials, config) {\n    if (typeof template !== 'string') {\n      throw new TypeError('Invalid template! Template should be a \"string\" ' +\n                          'but \"' + typeStr(template) + '\" was given as the first ' +\n                          'argument for mustache#render(template, view, partials)');\n    }\n\n    return defaultWriter.render(template, view, partials, config);\n  };\n\n  // Export the escaping function so that the user may override it.\n  // See https://github.com/janl/mustache.js/issues/244\n  mustache.escape = escapeHtml;\n\n  // Export these mainly for testing, but also for advanced usage.\n  mustache.Scanner = Scanner;\n  mustache.Context = Context;\n  mustache.Writer = Writer;\n\n  return mustache;\n\n})));\n","'use strict';\n/**\n * Simple module to localize the React interface using the same syntax\n * used in the ReactNativeLocalization module\n * (https://github.com/stefalda/ReactNativeLocalization)\n *\n * Originally developed by Stefano Falda (stefano.falda@gmail.com)\n *\n * It uses a call to the Navigator/Browser object to get the current interface language,\n * then display the correct language strings or the default language (the first\n * one if a match is not found).\n *\n * This library has been refactored to use the newly created localized-strings package so to\n * unify the code and make it easier to mantain\n *\n * How to use:\n * Check the instructions at:\n * https://github.com/stefalda/react-localization\n */\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };\n\nvar _react = require('react');\n\nvar _react2 = _interopRequireDefault(_react);\n\nvar _localizedStrings = require('localized-strings');\n\nvar _localizedStrings2 = _interopRequireDefault(_localizedStrings);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nvar placeholderRegex = /(\\{[\\d|\\w]+\\})/;\n\n/**\n * Format the passed string replacing the numbered or tokenized placeholders\n * eg. 1: I'd like some {0} and {1}, or just {0}\n * eg. 2: I'd like some {bread} and {butter}, or just {bread}\n * Use example:\n * eg. 1: strings.formatString(strings.question, strings.bread, strings.butter)\n * eg. 2: strings.formatString(strings.question, { bread: strings.bread, butter: strings.butter }\n *\n * THIS METHOD OVERRIDE the one of the parent class by adding support for JSX code\n*/\n_localizedStrings2.default.prototype.formatString = function (str) {\n  for (var _len = arguments.length, valuesForPlaceholders = Array(_len > 1 ? _len - 1 : 0), _key = 1; _key < _len; _key++) {\n    valuesForPlaceholders[_key - 1] = arguments[_key];\n  }\n\n  var hasObject = false;\n  var res = (str || '').split(placeholderRegex).filter(function (textPart) {\n    return !!textPart;\n  }).map(function (textPart, index) {\n    if (textPart.match(placeholderRegex)) {\n      var matchedKey = textPart.slice(1, -1);\n      var valueForPlaceholder = valuesForPlaceholders[matchedKey];\n\n      // If no value found, check if working with an object instead\n      if (valueForPlaceholder == undefined) {\n        var valueFromObjectPlaceholder = valuesForPlaceholders[0][matchedKey];\n        if (valueFromObjectPlaceholder !== undefined) {\n          valueForPlaceholder = valueFromObjectPlaceholder;\n        } else {\n          // If value still isn't found, then it must have been undefined/null\n          return valueForPlaceholder;\n        }\n      }\n\n      if (_react2.default.isValidElement(valueForPlaceholder)) {\n        hasObject = true;\n        return _react2.default.Children.toArray(valueForPlaceholder).map(function (component) {\n          return _extends({}, component, { key: index.toString() });\n        });\n      }\n\n      return valueForPlaceholder;\n    }\n    return textPart;\n  });\n  // If the results contains a object return an array otherwise return a string\n  if (hasObject) return res;\n  return res.join('');\n};\n\nexports.default = _localizedStrings2.default;","var map = {\n\t\"./de.json\": 2613,\n\t\"./en.json\": 6443,\n\t\"./enPreviousVersion.json\": 3345,\n\t\"./es.json\": 3310,\n\t\"./fr.json\": 9293,\n\t\"./it.json\": 1048,\n\t\"./nl.json\": 458,\n\t\"./pl.json\": 8994,\n\t\"./pt.json\": 3530,\n\t\"./ru.json\": 6674,\n\t\"./tr.json\": 6977,\n\t\"./zh-cn.json\": 4323\n};\n\n\nfunction webpackContext(req) {\n\tvar id = webpackContextResolve(req);\n\treturn __webpack_require__(id);\n}\nfunction webpackContextResolve(req) {\n\tif(!__webpack_require__.o(map, req)) {\n\t\tvar e = new Error(\"Cannot find module '\" + req + \"'\");\n\t\te.code = 'MODULE_NOT_FOUND';\n\t\tthrow e;\n\t}\n\treturn map[req];\n}\nwebpackContext.keys = function webpackContextKeys() {\n\treturn Object.keys(map);\n};\nwebpackContext.resolve = webpackContextResolve;\nmodule.exports = webpackContext;\nwebpackContext.id = 2257;","module.exports = require(\"react\");","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\t// no module.id needed\n\t\t// no module.loaded needed\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n","__webpack_require__.g = (function() {\n\tif (typeof globalThis === 'object') return globalThis;\n\ttry {\n\t\treturn this || new Function('return this')();\n\t} catch (e) {\n\t\tif (typeof window === 'object') return window;\n\t}\n})();","__webpack_require__.o = (obj, prop) => (Object.prototype.hasOwnProperty.call(obj, prop))","import HippoValidator from \"./HippoValidator\";\nexport {APP_SLUG_BLACKLIST, PAGE_SLUG_BLACKLIST, SUBDOMAIN_BLACKLIST} from './constants';\nexport default HippoValidator;\n"],"names":["module","exports","arr","len","length","i","arr2","Array","__esModule","isArray","arrayLikeToArray","self","ReferenceError","asyncGeneratorStep","gen","resolve","reject","_next","_throw","key","arg","info","value","error","done","Promise","then","fn","this","args","arguments","apply","err","undefined","instance","Constructor","TypeError","_defineProperties","target","props","descriptor","enumerable","configurable","writable","Object","defineProperty","protoProps","staticProps","prototype","obj","superPropBase","_get","property","receiver","Reflect","get","base","desc","getOwnPropertyDescriptor","call","_getPrototypeOf","o","setPrototypeOf","getPrototypeOf","__proto__","subClass","superClass","create","constructor","iter","Symbol","iterator","from","_i","_s","_e","_arr","_n","_d","next","push","_typeof","assertThisInitialized","_setPrototypeOf","p","arrayWithHoles","iterableToArrayLimit","unsupportedIterableToArray","nonIterableRest","object","hasOwnProperty","arrayWithoutHoles","iterableToArray","nonIterableSpread","minLen","n","toString","slice","name","test","runtime","Op","hasOwn","$Symbol","iteratorSymbol","asyncIteratorSymbol","asyncIterator","toStringTagSymbol","toStringTag","define","wrap","innerFn","outerFn","tryLocsList","protoGenerator","Generator","generator","context","Context","_invoke","state","GenStateSuspendedStart","method","GenStateExecuting","Error","GenStateCompleted","doneResult","delegate","delegateResult","maybeInvokeDelegate","ContinueSentinel","sent","_sent","dispatchException","abrupt","record","tryCatch","type","GenStateSuspendedYield","makeInvokeMethod","GeneratorFunction","GeneratorFunctionPrototype","IteratorPrototype","getProto","NativeIteratorPrototype","values","Gp","defineIteratorMethods","forEach","AsyncIterator","PromiseImpl","invoke","result","__await","unwrapped","previousPromise","callInvokeWithMethodAndArg","resultName","nextLoc","pushTryEntry","locs","entry","tryLoc","catchLoc","finallyLoc","afterLoc","tryEntries","resetTryEntry","completion","reset","iterable","iteratorMethod","isNaN","displayName","isGeneratorFunction","genFun","ctor","mark","awrap","async","keys","reverse","pop","skipTempReset","prev","charAt","stop","rootRecord","rval","exception","handle","loc","caught","hasCatch","hasFinally","finallyEntry","complete","finish","thrown","delegateYield","regeneratorRuntime","accidentalStrictMode","globalThis","Function","addDefaults","originalApp","cardTypes","id","default","HippoValidator","appJson","entities","lang","validate","path","data","newValidate","errors","inplaceErrorMessage","node","AppNode","init","convertErrors","getViewIds","isValue","views","map","viewProps","getPageIds","filter","it","getActions","actionGroups","actions","getCardTypes","getOneOfMessage","names","e","label","join","getFormIds","integrations","incoming","getRoles","roles","getEnvironments","environments","getComponents","components","errorFlat","reduce","sumErrors","errorItem","some","code","getInvalidValueErrorTitle","errorType","TransText","getTranslate","camelCaseToNormal","errorHumanize","message","includes","replace","getLabel","params","relativePath","caseTitle","isTag","errorTitle","fieldLabel","convertErrorCode","convertMessage","normalizePath","searchForLabelRegex","actual","originalValue","field","convertActualValues","resolved","convertActualResolved","toIdsItem","collections","app","cardCollections","forms","hippoFields","fieldDefinitions","appVariables","appVariableFields","automations","lists","trelloLists","hippoId","labels","trelloLabels","color","members","apps","ids","Boolean","expected","expectedType","split","find","trimValue","trim","messageFound","RegExp","exec","labelOneOfMultipleSelect","isMultiple","langModule","require","addContent","setLanguage","jsonTraverse","isEmpty","regex","str","toUpperCase","val","seperator","allPaths","finalResult","numRegExp","pathItem","m","processPath","queryPathToJsonPath","jsonPatchPathToQueryPath","JSONUtils","json","every","FILE_MIME_MAPPING","entries","schema","parentNode","operator","valueType","searchField","VariableNode","enums","getRightValues","createMustacheLabel","getRightValueEntityName","useNewCustomCheckerFunction","compile","conditions","optional","items","OPERATORS","nullable","check","conditionValueCheckFunc","bind","formConditionsWithAnd","conjunction","rules","formConditionRule","v","isEmptyValue","ATTACHMENT_SELECTOR","TRELLO_LABEL_SELECTOR","TRELLO_LIST_SELECTOR","TRELLO_CHECKLIST_SELECTOR","FIELD_SELECTOR","USER_SELECTOR","SHORT_TEXT","LONG_TEXT","EMAIL","NUMBER","WEBSITE","PHONE","BUTTON","ATTACHMENT","DATE_PICKER_ITEM","DATE_TIME_PICKER_ITEM","TIME_PICKER","RADIO_BUTTON","SELECT_BOX","CAPTCHA","HORIZONTAL_LINE","PARAGRAPH","TITLE","RATING_ITEM","CHECKBOX","MULTISELECTBOX","RICH_TEXT_INPUT","BOOLEAN","others","languageString","getLanguageString","getLanguage","messages","acc","text","startsWith","Validator","RESOLVE_LIST_BY_HIPPO_ID","RESOLVE_LABEL_BY_HIPPO_ID","RESOLVE_MEMBER_BY_TRELLO_ID","RESOLVE_USER_BY_USER_ID","RESOLVE_BOARD_BY_TRELLO_BOARD_ID","RESOLVE_CARD_BY_CARD_ID","RESOLVE_FIELD_DEFINITION_BY_ID","RESOLVE_CHECKLIST_BY_HIPPO_ID","pdf","doc","docx","xls","xlsx","csv","txt","rtf","html","zip","mp3","wma","mpg","flv","avi","jpg","jpeg","png","gif","Localize","getContent","tag","formatString","getKeyString","setContent","language","omitWarning","current","paths","ex","_opts","logsEnabled","console","debug","getString","LocalizedStrings","en","pushArray","splice","AbstractHippoNode","childNodes","deleted","initialValidate","checkedPaths","getFieldDefinitions","onlyId","customFields","getCustomFields","item","allFields","getCollections","getAutomations","getMagicLinkIds","magicLinks","magicLink","inComings","ic","showDeleted","getMagicLinks","getAppParameters","getHippoFields","getStaticFields","resolveBy","RESOLVE_PORTAL","RESOLVE_ROLE_BY_ROLE_BY_ID","RESOLVE_SYSTEM","RESOLVE_TRIGGER","RESOLVE_APP_VARS","RESOLVE_MAGIC_LINK_BY_MAGIC_LINK_ID","RESOLVE_MAGIC_LINK","multiple","sortable","onlySortable","disabledDisplay","RESOLVE_COLOR_BY_CUSTOM_FIELD_ITEM_COLOR","getObjectKey","objectKey","getAccessibleFieldTypes","staticFields","fieldMap","staticField","options","parameters","hippoField","FIELD_RESOLVE_BY_TO_VALIDATOR","appVar","allFieldsMap","getCardFieldsWithContext","contexts","allFieldsList","getAllHippoAttachmentFields","getCollectionValidateJson","includeArchived","validatorPath","exists","jsonPatchPath","counter","entitiesIds","nodeJson","query","generateNodeId","process","childNode","findNodeWithPath","foundNode","isMandatory","validationErrors","getValidatorFunction","validatorFuncResult","newerrors","log","onlyIds","hasParent","onlyActives","closed","member","fullName","viewNames","expectedMeaningful","RESOLVE_APP_BY_APP_ID","RESOLVE_CUSTOM_FIELD_ITEM_BY_TRELLO_ID","RESOLVE_FORM","CollectionNode","collectionChecker","VisibilityNode","conditionsWithOr","conditionsWithAnd","shared","title","nameCheck","ActionGroupNode","action","addChildNode","ActionNode","checkResult","findToCardValidation","queryValidationScheme","root","checkExternal","onSuccess","required","PRECISE_PATTERN","order","staticListOptions","actionWhenOpenURL","url","actionWhenOpenPageExternal","actionWhenOpenFormModal","cardUpdateFields","size","actionCopyToClipboard","dataToBeCopied","actionFeedbackMessage","icon","duration","min","max","position","external","formId","actionWhenUpdateHippoFields","trelloListOptions","getTrelloList","allListOptions","concat","role","allFieldWithContext","actionWhenMoveTo","listHippoId","custom","String","actionWhenAssignLabel","updateLabelActionType","enumValue","actionWhenAssignMember","updateMemberActionType","actionWhenSendConvMessage","subject","conversationMembers","isContributor","actionWhenOpenPage","viewId","actionWhenOpenForm","staticFieldsKeys","firstField","foundFieldKey","fied","appErrors","schemaVersion","equal","LATEST_APP_SCHEMA_VERSION","slug","APP_SLUG_BLACKLIST","description","boards","appNodeCheck","allErrors","variableNodes","valNode","WebViewNode","TrelloCardBackViewNode","trelloBoardView","enabled","TrelloBoardViewNode","CardCollectionsNode","RolesNode","ViewSettingsNode","AppVariableFieldsNode","automationIds","automationId","AutomationNode","hippoFieldIds","hfId","HipporelloFieldNode","form","FormNode","EmaiAlNode","magicLinkIds","mlId","MagicLinkNode","generateVariableNodes","_generateVariableNodes","index","indexOf","Mustache","parse","exp","variableNode","INSTANCE","automation","rule","RuleNode","trelloListEnum","trelloListEnumArray","triggerSchema","trigger","fromList","toList","list","automationCheck","events","eventsPath","EventNode","ruleCheck","cardCollectionCheck","CardCollectionNode","cardCollectionIds","cardCollectionId","createValidationError","componentScheme","COMPONENT_TYPES","gap","align","accessRight","componentCheck","formListCheck","isSelectedForms","formsOptions","viewType","showDescription","selectedForms","appListCheck","isSelectedApps","appsOptions","getApps","selectedApps","getParagraphCheck","displayedTextLimit","checkMin","alignment","maxCharacter","headerCheck","heading","linkCheck","trelloCSCheck","pageSize","showExport","showSearch","tableCheck","columns","header","view","dateCheck","format","menuItemCheck","cardMenuItemCheck","iconCheck","family","convCheck","allowDeleteMessage","allowDeleteThread","allowGetBoardMembers","allowGetContacts","allowGetRoles","allowMembersUpdate","allowNewThread","allowQuickText","allowReply","canAddQuickText","canDeleteQuickText","canEditQuickText","canReply","canUploadAttachment","canUseQuickText","showMeta","showMetaDetail","tableColumnCheck","snippetCheck","css","hippoFieldsCheck","isSelectedFields","dataFields","source","isVariableField","fields","downloadCsvFile","hideEmptyFields","excerptContent","allowEdit","allowCopy","showHippoFieldIcon","showUpdateWith","selected","variable","appVariablesCheck","selectedFields","showIcon","labelCheck","getAttachmentListCheck","getImageCheck","attachmentListId","sourceType","src","trelloActivitiesCheck","displayOptions","shareButtonCheck","urlSource","customUrl","style","services","media","content","findIndex","ComponentNode","children","ChildrenNode","dataRule","eventCheck","actionGroupId","EmailNode","body","rows","row","rowIndex","column","colIndex","FormInputNode","element","allEmails","email","fieldSelectorCheck","validationRulesScheme","elementData","include","settings","validationRules","minItems","formInputCheck","input","formJson","visibilityRules","FormInputVisibilityNode","usesParent","formMapping","fieldMapping","formMappingKey","targetField","trelloListIds","isNameOptional","isListOptional","trelloCardField","isLengthIf","minLength","maxLength","fileSizeLimit","sizeLimit","lengthLimit","attachmentLimit","maxItems","attachmentTypes","isValid","checkAttachmentTypeIsValid","validTypes","getValidAttachmentFileTypes","ButtonSchema","variables","cardCollection","empty","TrelloChecklistScheme","TrelloLabelScheme","TrelloListScheme","TrelloUserSelectorSchema","allowAddUser","userGroups","enumValues","creatingGroups","AttachmentSelectorSchema","AttachmentSchema","BooleanSchema","inputType","noText","yesText","placeholder","descriptionSwitch","defaultValue","RadioBoxSchema","propsErrors","FORM_INPUT_NAMES","checker","JSON","stringify","VisibilityRuleNode","successViewObj","successViews","successView","pageId","PageNode","objectValidation","incomings","formSlugs","buttonsEl","a","elementIds","operation","trelloCardCustomField","page","formCheck","anonymous","formatVersion","aliases","boardId","showInTrello","formAutoIncrementId","readOnly","arrayMin","submitter","submitterCheck","elements","getFormElements","selectedElement","cur","hippoFieldCheck","RESOLVE_TYPES","VARIABLE_TYPES","MagicLinkExecuterNode","magicLinkExecuterObject","magicLinkCheck","requirePrompt","promptLabel","expireEnabled","expires","fieldType","paramType","parent","roleCheck","RoleNode","appVariableIds","appVariableId","AppVariableNode","appVariableSchema","appVariableCheck","viewSettingsCheck","appViewSettings","background","iconSet","portalViewSettingOverrides","simple","images","banner","logo","socialShareImage","viewSettingsUrlCheck","viewSettingsNameCheck","viewSettingsCheckResult","trelloBoardViewCheck","viewsOfViewNode","home","ViewNode","trelloCardBackCheck","appHeader","expression","searchPath","splitPath","activeContext","foundId","fieldPart","fieldConfig","findFieldByPath","getTrelloLabels","getTrelloMembers","createJsonataExpression","varErrors","withDeletedStaticFields","me","match","unescapeLinkVariable","magicLinkExecuterErrors","proxy","Proxy","propertyName","ignoredPropertyNames","hasIgnoredPath","fieldId","deletedFieldConfig","evaluate","ALL_JSONATA_EXPRESSIONS","registerFunction","firstLevel","system","portal","user","board","card","parentCard","escapeLinkVariable","processedText","Buffer","parsedText","childCheck","ChildNode","rootNode","componentId","childNodeRegistry","componentPath","childCheckResult","childNodeId","login","menu","HeaderNode","isFormThankYouPage","slugs","pageCheck","cardAware","pageSlugCheck","PAGE_SLUG_BLACKLIST","pageCheckResult","env","slugCheckResult","sidebarCheck","SidebarNode","envType","appHeaderId","sidebarId","sidebar","webViewCheck","g","scope","arrayIteratorImpl","f","h","arrayIterator","ASSUME_ES5","ASSUME_NO_NATIVE_MAP","ASSUME_NO_NATIVE_SET","SIMPLE_FROUND_POLYFILL","ISOLATE_POLYFILLS","FORCE_POLYFILL_PROMISE","FORCE_POLYFILL_PROMISE_WHEN_NO_UNHANDLED_REJECTION","defineProperties","l","getGlobal","window","Math","global","IS_SYMBOL_NATIVE","TRUST_ES6_POLYFILLS","polyfills","propertyToPolyfillSymbol","POLYFILL_PREFIX","polyfill","polyfillIsolated","polyfillUnisolated","t","w","x","random","initSymbol","$jscomp$symbol$id_","iteratorPrototype","iteratorFromArray","checkStringArgs","owns","assign","checkEs6ConformanceViaProxy","q","USE_PROXY_FOR_ES6_CONFORMANCE_CHECKS","ES6_CONFORMANCE","makeIterator","k","id_","set","y","u","isExtensible","seal","delete","has","C","MapEntry","previous","head","head_","data_","WeakMap","clear","opts","defaults","any","R","array","S","boolean","T","class","U","V","currency","W","date","X","Y","enum","Z","aa","forbidden","ba","function","ca","multi","number","objectID","string","tuple","uuid","mac","luhn","cache","Map","B","b","addMessage","c","alias","customRules","d","add","plugins","plugin","_formatter","H","M","N","parser","useTabs","printWidth","trailingComma","tabWidth","singleQuote","semi","bracketSpacing","I","O","theme","fromJson","keyword","built_in","literal","regexp","symbol","attr","comment","highlight","makeError","da","ea","parseInt","version","fa","r","getRuleFromSchema","compileRule","convert","trimLeft","trimRight","padStart","padChar","padEnd","lowercase","uppercase","localeLowercase","localeUppercase","pattern","patternFlags","contains","numeric","ha","alpha","ia","alphanum","ja","alphadash","ka","hex","la","singleLine","base64","ma","sanitized","customs","properties","A","z","D","J","P","na","K","Q","E","haltOnFirstError","strict","minProps","maxProps","notEqual","integer","positive","negative","remove","mode","oa","pa","normalize","currencySymbol","thousandSeparator","decimalSeparator","customRegex","symbolOptional","makeCustomValidator","fnName","ruleIndex","instanceOf","unique","qa","skipIfExist","ra","stringEmpty","stringMin","stringMax","stringLength","stringPattern","stringContains","stringEnum","stringNumeric","stringAlpha","stringAlphanum","stringAlphadash","stringHex","stringSingleLine","stringBase64","numberMin","numberMax","numberEqual","numberNotEqual","numberInteger","numberPositive","numberNegative","arrayEmpty","arrayMax","arrayLength","arrayContains","arrayUnique","arrayEnum","tupleEmpty","tupleLength","dateMin","dateMax","equalValue","equalField","emailEmpty","emailMin","emailMax","objectStrict","objectMinProps","objectMaxProps","urlEmpty","uuidVersion","classInstanceOf","L","wrapRequiredCheckSourceCode","defaultFn","meta","$$async","utils","$$root","$$strict","cycle","cycleStack","ruleFunction","vName","resolveType","parseShortHand","endsWith","substr","Number","$$type","skipIfExists","G","dateTime","stringToArray","few","ordinals","decades","magnitudes","wordValues","word","toLowerCase","lword","substring","hundredth","pow","romanNumerals","romanValues","decimalToRoman","numeral","formatInteger","picture","_formatInteger","floor","analyseIntegerPicture","formats","tcase","formattedInteger","abs","primary","aChar","letters","aCode","charCodeAt","unshift","fromCharCode","decimalToLetters","case","ordinal","lookup","num","ord","words","tens","remainder","hundreds","mag","log10","factor","mant","numberToWords","padLength","mandatoryDigits","padding","zeroCode","fromCodePoint","codePointAt","regular","ii","groupingSeparators","pos","character","separator","suffix","token","decimalGroups","primaryFormat","formatModifier","semicolon","lastIndexOf","optionalDigits","separatorPosition","codePoint","digit","group","separators","sepChar","indexes","gcd","regularRepeat","defaultPresentationModifiers","F","s","analyseDateTimePicture","spec","parts","addLiteral","start","end","marker","presMod","def","component","comma","widthMod","dash","parseWidth","wm","widthDef","width","presentation1","lastChar","presentation2","integerPattern","integerFormat","days","months","millisInADay","startOfFirstWeek","ym","jan1","Date","UTC","year","month","dayOfJan1","getUTCDay","yearMonth","nextMonth","previousMonth","nextYear","previousYear","deltaWeeks","getDateTimeFragment","componentValue","getUTCFullYear","getUTCMonth","getUTCDate","thisYear","startOfWeek1","today","week","startOfPreviousYear","thisMonth","startOfPreviousMonth","startOfISOYear","endOfISOYear","now","getTime","startOfISOMonth","endOfISOMonth","getUTCHours","getUTCMinutes","getUTCSeconds","getUTCMilliseconds","iso8601Spec","formatDateTime","millis","timezone","offsetHours","offsetMinutes","offset","formatSpec","part","markerSpec","numDigits","formatComponent","generateRegex","matcher","res","isUpper","occurrences","decimal","lettersToDecimal","roman","romanToDecimal","segs","top","wordsToNumber","digits","sep","char","parseDateTime","timestamp","matchSpec","fullRegex","dmA","dmB","dmC","dmD","tmA","tmB","mpart","getOwnPropertyNames","mask","shift","bit","isType","dateB","dateC","dateD","timeB","comps","environment","startSpecified","endSpecified","firstJan","offsetMillis","derivedDate","iso8601regex","parseInteger","fromMillis","toMillis","stack","functions","isNumeric","isArrayOfStrings","isArrayOfNumbers","createSequence","isSequence","isFunction","isLambda","isIterable","getFunctionArity","deepEquals","isDeepEqual","strArray","strLength","evaluateMatcher","groups","round","precision","diff","is","hofFuncArgs","func","arg1","arg2","arg3","func_args","append","sum","total","count","average","prettify","isFinite","space","outerWrapper","toPrecision","substringBefore","chars","substringAfter","pad","limit","matches","replacement","replacer","regexMatch","substitute","dollarVal","maxDigits","LOG10E","submatch","replacedWith","strs","formatNumber","decimalDigitFamily","zeroCharCode","activeChars","subPictures","subpicture","mantissaPart","exponentPart","integerPart","fractionalPart","prefix","ch","activePart","exponentPosition","decimalPosition","decimalPos","percent","valid","optionalDigitPos","exponentExists","pic","adjustedNumber","mantissa","exponent","getGroupingPositions","toLeft","positions","groupingPosition","charsToTheRight","integerPartGroupingPositions","regularGrouping","fractionalPartGroupingPositions","minimumIntegerPartSize","scalingFactor","fractionalPartArray","minimumFactionalPartSize","maximumFactionalPartSize","exponentPresent","minimumExponentSize","minus_sign","zero_digit","decimal_separator","grouping_separator","maxMantissa","minMantissa","makeString","dp","toFixed","stringValue","padLeft","padRight","groupCount","stringExponent","formatBase","radix","parseFloat","ceil","sqrt","power","not","single","hasFoundMatch","positiveResult","foldLeft","sequence","arity","sift","merge","spread","prop","each","assert","condition","sort","comparator","comp","msort","middle","left","right","merge_iter","merged","shuffle","j","distinct","results","jj","base64encode","btoa","base64decode","atob","encodeUrlComponent","returnVal","encodeURIComponent","functionName","encodeUrl","encodeURI","decodeUrlComponent","decodeURIComponent","decodeUrl","decodeURI","datetime","parseSignature","jsonata","staticFrame","createFrame","expr","entryCallback","inputSequence","resultSequence","steps","isTupleStream","tupleBindings","step","consarray","evaluateTupleStep","evaluateStep","focus","keepSingletonArray","cons","keepSingleton","evaluateGroupExpression","evaluatePath","lhs","op","evalrhs","rhs","lBool","boolize","evaluateBooleanExpression","evaluateNumericExpression","evaluateEqualityExpression","ltype","rtype","value2","evaluateComparisonExpression","lstr","rstr","evaluateStringConcat","isInteger","evaluateRangeExpression","evaluateIncludesExpression","evaluateBinary","expressions","evaluateUnary","evaluateName","evaluateLiteral","flatten","evaluateWildcard","recurseDescendants","evaluateDescendants","slot","else","evaluateCondition","frame","evaluateBlock","evaluateBindExpression","re","RegexEngine","closure","fromIndex","lastIndex","evaluateRegex","evaluateFunction","evaluateVariable","procedure","_jsonata_lambda","signature","thunk","evaluateLambda","evaluatedArgs","proc","partialApplyProcedure","_jsonata_function","partialApplyNativeFunction","implementation","evaluatePartialApplication","chain","chainAST","evaluateApplyExpression","defineFunction","cloneFunction","update","updateType","deletions","evaluateTransformExpression","nextFunction","predicate","evaluateFilter","exitCallback","tupleStream","keepArray","createFrameFromTuple","lastStep","evaluateSortExpression","stages","evaluateStages","ss","stage","ee","sorted","stepEnv","bb","ancestor","ires","flattened","booledValue","itemIndex","pairIndex","pair","exprIndex","reduceTupleStream","isTupleSort","terms","term","atype","btype","descending","applyto","procName","applyInner","validatedArgs","validateArguments","param","getNativeFunctionArguments","sigArg","applyNativeFunction","applyProcedure","unboundArgs","native","sigArgs","bodyAST","definition","enclosingEnvironment","bindings","ancestry","ast","populateMessage","errorCodes","template","recover","callback","exec_env","catchHandler","thenHandler","response","catch","operators","escapes","tokenizer","currentChar","commentStart","flags","depth","scanRegex","quoteType","qstr","octets","codepoint","lexer","symbol_table","remainingTokens","remaining","nxt","base_symbol","nud","bp","lbp","handleError","advance","infix","next_token","rbp","led","terminal","bindingPower","infixr","sigPos","sig","tok","range","objectParser","tailCallOptimize","ancestorLabel","ancestorIndex","seekParent","level","pushAncestry","seekingParent","slots","resolveAncestry","laststep","processAST","lstep","rest","lit","firststep","sortStep","argAST","arraySignatureMapping","prevParam","findClosingBracket","openSymbol","closeSymbol","contextRegex","endParen","choice","endPos","subtype","regexStr","getSymbol","suppliedSig","argIndex","contextType","arrayOK","itemType","badArgs","badSig","partialPattern","goodTo","throwValidationError","isNum","lkeys","rkeys","_extends","_createClass","newObj","_interopRequireWildcard","placeholderReplaceRegex","placeholderReferenceRegex","_classCallCheck","customLanguageInterface","getInterfaceLanguage","pseudo","pseudoMultipleLanguages","_interfaceLanguage","_language","_this","defaultLang","sliceIterator","_slicedToArray","_defaultLanguage","_defaultLanguageFirstLevelKeys","_props","validateTranslationKeys","_pseudoAllValues","_this2","strArr","randomPseudo","_this3","bestLanguage","getBestMatchingLanguage","defaultLanguage","localizedStrings","_fallbackValues","defaultStrings","strings","_this4","_this5","_availableLanguages","_this6","_len","valuesForPlaceholders","_key","ref","textPart","matchedKey","valueForPlaceholder","valueFromObjectPlaceholder","navigator","nav","languages","userLanguage","browserLanguage","idx","auxLang","translationKeys","reservedNames","possible","hashClear","hashDelete","hashGet","hashHas","hashSet","Hash","listCacheClear","listCacheDelete","listCacheGet","listCacheHas","listCacheSet","ListCache","getNative","mapCacheClear","mapCacheDelete","mapCacheGet","mapCacheHas","mapCacheSet","MapCache","Set","setCacheAdd","setCacheHas","SetCache","__data__","baseIndexOf","iteratee","eq","fromRight","castPath","toKey","getRawTag","objectToString","symToStringTag","baseFindIndex","baseIsNaN","strictIndexOf","isMasked","isObject","toSource","reIsHostCtor","funcProto","objectProto","funcToString","reIsNative","arrayMap","isSymbol","symbolProto","symbolToString","baseToString","arrayIncludes","arrayIncludesWith","cacheHas","createSet","setToArray","isCommon","seen","outer","computed","seenIndex","isKey","stringToPath","coreJsData","noop","freeGlobal","isKeyable","baseIsNative","getValue","nativeObjectToString","isOwn","unmasked","nativeCreate","reIsDeepProp","reIsPlainProp","uid","maskSrcKey","IE_PROTO","assocIndexOf","getMapData","memoize","freeSelf","memoizeCapped","rePropName","reEscapeChar","quote","subString","other","baseGet","baseGetTag","isObjectLike","resolver","memoized","Cache","baseUniq","escapeRegExp","hasProperty","propName","regExpTest","nonSpaceRe","isWhitespace","testRegExp","entityMap","whiteRe","spaceRe","equalsRe","curlyRe","tagRe","Scanner","tail","parentContext","Writer","templateCache","_cache","eos","scan","scanUntil","search","primitive","intermediateValue","lookupHit","clearCache","tags","cacheKey","mustache","isCacheEnabled","tokens","openingTagRe","closingTagRe","closingCurlyRe","lineHasNonSpace","sections","spaces","hasTag","nonSpace","indentation","tagIndex","stripSpace","compileTags","tagsToCompile","chr","openSection","scanner","valueLength","nestedTokens","collector","numTokens","nestTokens","lastToken","squashedTokens","squashTokens","parseTemplate","render","partials","config","getConfigTags","renderTokens","originalTemplate","buffer","renderSection","renderInverted","renderPartial","unescapedValue","escapedValue","rawValue","indentPartial","partial","filteredIndentation","partialByNl","indentedValue","escape","getConfigEscape","defaultWriter","factory","_react2","_interopRequireDefault","_localizedStrings2","placeholderRegex","hasObject","isValidElement","Children","toArray","webpackContext","req","webpackContextResolve","__webpack_require__","__webpack_module_cache__","moduleId","cachedModule","__webpack_modules__"],"sourceRoot":""}